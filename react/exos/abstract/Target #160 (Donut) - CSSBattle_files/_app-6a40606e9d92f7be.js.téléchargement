(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{9413:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6630),i=n(2970),s=n(4015),o=n(1470),a=n(2065),c=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((function(t){return t})).join(" ")},t}();var u,l,h="@firebase/app",d="0.9.14",f=new s.Logger("@firebase/app"),p="[DEFAULT]",m=((u={})[h]="fire-core",u["@firebase/app-compat"]="fire-core-compat",u["@firebase/analytics"]="fire-analytics",u["@firebase/analytics-compat"]="fire-analytics-compat",u["@firebase/app-check"]="fire-app-check",u["@firebase/app-check-compat"]="fire-app-check-compat",u["@firebase/auth"]="fire-auth",u["@firebase/auth-compat"]="fire-auth-compat",u["@firebase/database"]="fire-rtdb",u["@firebase/database-compat"]="fire-rtdb-compat",u["@firebase/functions"]="fire-fn",u["@firebase/functions-compat"]="fire-fn-compat",u["@firebase/installations"]="fire-iid",u["@firebase/installations-compat"]="fire-iid-compat",u["@firebase/messaging"]="fire-fcm",u["@firebase/messaging-compat"]="fire-fcm-compat",u["@firebase/performance"]="fire-perf",u["@firebase/performance-compat"]="fire-perf-compat",u["@firebase/remote-config"]="fire-rc",u["@firebase/remote-config-compat"]="fire-rc-compat",u["@firebase/storage"]="fire-gcs",u["@firebase/storage-compat"]="fire-gcs-compat",u["@firebase/firestore"]="fire-fst",u["@firebase/firestore-compat"]="fire-fst-compat",u["fire-js"]="fire-js",u.firebase="fire-js-all",u),g=new Map,v=new Map;function y(t,e){try{t.container.addComponent(e)}catch(n){f.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function _(t){var e,n,r=t.name;if(v.has(r))return f.debug("There were multiple attempts to register component ".concat(r,".")),!1;v.set(r,t);try{for(var s=i.__values(g.values()),o=s.next();!o.done;o=s.next()){y(o.value,t)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return!0}function b(t,e){var n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var w=((l={})["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",l["bad-app-name"]="Illegal App name: '{$appName}",l["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",l["app-deleted"]="Firebase App named '{$appName}' already deleted",l["no-options"]="Need to provide options, when not being deployed to hosting via source.",l["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",l["invalid-log-argument"]="First argument to `onLog` must be null or a function.",l["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",l["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",l["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",l["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",l),C=new o.ErrorFactory("app","Firebase",w),E=function(){function t(t,e,n){var s=this;this._isDeleted=!1,this._options=i.__assign({},t),this._config=i.__assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.Component("app",(function(){return s}),"PUBLIC"))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(t){this._isDeleted=t},enumerable:!1,configurable:!0}),t.prototype.checkDestroyed=function(){if(this.isDeleted)throw C.create("app-deleted",{appName:this._name})},t}();function T(t,e){var n,s;void 0===e&&(e={});var a=t;"object"!==typeof e&&(e={name:e});var c=i.__assign({name:p,automaticDataCollectionEnabled:!1},e),u=c.name;if("string"!==typeof u||!u)throw C.create("bad-app-name",{appName:String(u)});if(a||(a=o.getDefaultAppConfig()),!a)throw C.create("no-options");var l=g.get(u);if(l){if(o.deepEqual(a,l.options)&&o.deepEqual(c,l.config))return l;throw C.create("duplicate-app",{appName:u})}var h=new r.ComponentContainer(u);try{for(var d=i.__values(v.values()),f=d.next();!f.done;f=d.next()){var m=f.value;h.addComponent(m)}}catch(_){n={error:_}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(n)throw n.error}}var y=new E(a,c,h);return g.set(u,y),y}function S(t,e,n){var i,s=null!==(i=m[t])&&void 0!==i?i:t;n&&(s+="-".concat(n));var o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var c=['Unable to register library "'.concat(s,'" with version "').concat(e,'":')];return o&&c.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),o&&a&&c.push("and"),a&&c.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void f.warn(c.join(" "))}_(new r.Component("".concat(s,"-version"),(function(){return{library:s,version:e}}),"VERSION"))}var I="firebase-heartbeat-store",x=null;function k(){return x||(x=a.openDB("firebase-heartbeat-database",1,{upgrade:function(t,e){if(0===e)t.createObjectStore(I)}}).catch((function(t){throw C.create("idb-open",{originalErrorMessage:t.message})}))),x}function A(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,k()];case 1:return[4,r.sent().transaction(I).objectStore(I).get(D(t))];case 2:return[2,r.sent()];case 3:return(e=r.sent())instanceof o.FirebaseError?f.warn(e.message):(n=C.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message}),f.warn(n.message)),[3,4];case 4:return[2]}}))}))}function R(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,k()];case 1:return n=i.sent(),r=n.transaction(I,"readwrite"),[4,r.objectStore(I).put(e,D(t))];case 2:return i.sent(),[4,r.done];case 3:return i.sent(),[3,5];case 4:return(s=i.sent())instanceof o.FirebaseError?f.warn(s.message):(a=C.create("idb-set",{originalErrorMessage:null===s||void 0===s?void 0:s.message}),f.warn(a.message)),[3,5];case 5:return[2]}}))}))}function D(t){return"".concat(t.name,"!").concat(t.options.appId)}var O=function(){function t(t){var e=this;this.container=t,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new P(n),this._heartbeatsCachePromise=this._storage.read().then((function(t){return e._heartbeatsCache=t,t}))}return t.prototype.triggerHeartbeat=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return t=this.container.getProvider("platform-logger").getImmediate(),e=t.getPlatformInfoString(),n=L(),null!==this._heartbeatsCache?[3,2]:(r=this,[4,this._heartbeatsCachePromise]);case 1:r._heartbeatsCache=i.sent(),i.label=2;case 2:return this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((function(t){return t.date===n}))?[2]:(this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(t){var e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),[2,this._storage.overwrite(this._heartbeatsCache)])}}))}))},t.prototype.getHeartbeatsHeader=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,s;return i.__generator(this,(function(a){switch(a.label){case 0:return null!==this._heartbeatsCache?[3,2]:[4,this._heartbeatsCachePromise];case 1:a.sent(),a.label=2;case 2:return null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length?[2,""]:(t=L(),e=function(t,e){var n,r;void 0===e&&(e=1024);var s=[],o=t.slice(),a=function(t){var n=s.find((function(e){return e.agent===t.agent}));if(n){if(n.dates.push(t.date),M(s)>e)return n.dates.pop(),"break"}else if(s.push({agent:t.agent,dates:[t.date]}),M(s)>e)return s.pop(),"break";o=o.slice(1)};try{for(var c=i.__values(t),u=c.next();!u.done;u=c.next()){if("break"===a(u.value))break}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{heartbeatsToSend:s,unsentEntries:o}}(this._heartbeatsCache.heartbeats),n=e.heartbeatsToSend,r=e.unsentEntries,s=o.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n})),this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,[4,this._storage.overwrite(this._heartbeatsCache)]):[3,4]);case 3:return a.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),a.label=5;case 5:return[2,s]}}))}))},t}();function L(){return(new Date).toISOString().substring(0,10)}var N,P=function(){function t(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return t.prototype.runIndexedDBEnvironmentCheck=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return o.isIndexedDBAvailable()?[2,o.validateIndexedDBOpenable().then((function(){return!0})).catch((function(){return!1}))]:[2,!1]}))}))},t.prototype.read=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return t.sent()?[3,2]:[2,{heartbeats:[]}];case 2:return[4,A(this.app)];case 3:return[2,t.sent()||{heartbeats:[]}]}}))}))},t.prototype.overwrite=function(t){var e;return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})]}}))}))},t.prototype.add=function(t){var e;return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:i.__spreadArray(i.__spreadArray([],i.__read(n.heartbeats),!1),i.__read(t.heartbeats),!1)})]}}))}))},t}();function M(t){return o.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}N="node",_(new r.Component("platform-logger",(function(t){return new c(t)}),"PRIVATE")),_(new r.Component("heartbeat",(function(t){return new O(t)}),"PRIVATE")),S(h,d,N),S(h,d,"cjs5"),S("fire-js",""),Object.defineProperty(e,"FirebaseError",{enumerable:!0,get:function(){return o.FirebaseError}}),e.SDK_VERSION="10.0.0",e._DEFAULT_ENTRY_NAME=p,e._addComponent=y,e._addOrOverwriteComponent=function(t,e){t.container.addOrOverwriteComponent(e)},e._apps=g,e._clearComponents=function(){v.clear()},e._components=v,e._getProvider=b,e._registerComponent=_,e._removeServiceInstance=function(t,e,n){void 0===n&&(n=p),b(t,e).clearInstance(n)},e.deleteApp=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return e=t.name,g.has(e)?(g.delete(e),[4,Promise.all(t.container.getProviders().map((function(t){return t.delete()})))]):[3,2];case 1:n.sent(),t.isDeleted=!0,n.label=2;case 2:return[2]}}))}))},e.getApp=function(t){void 0===t&&(t=p);var e=g.get(t);if(!e&&t===p&&o.getDefaultAppConfig())return T();if(!e)throw C.create("no-app",{appName:t});return e},e.getApps=function(){return Array.from(g.values())},e.initializeApp=T,e.onLog=function(t,e){if(null!==t&&"function"!==typeof t)throw C.create("invalid-log-argument");s.setUserLogHandler(t,e)},e.registerVersion=S,e.setLogLevel=function(t){s.setLogLevel(t)}},6630:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2970),i=n(1470),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(d){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=r.__read(s.value,2),c=a[0],u=a[1],l=this.normalizeInstanceIdentifier(c);try{var h=this.getOrInitializeService({instanceIdentifier:l});u.resolve(h)}catch(d){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spreadArray(r.__spreadArray([],r.__read(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()}))),!1),r.__read(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))),!1))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error("".concat(this.name,"(").concat(o,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var c=r.__values(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=r.__read(u.value,2),h=l[0],d=l[1];o===this.normalizeInstanceIdentifier(h)&&d.resolve(a)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=r.__values(s),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(t,e)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=c,e.Provider=a},4015:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(2970),s=[];e.LogLevel=void 0,function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(e.LogLevel||(e.LogLevel={}));var o={debug:e.LogLevel.DEBUG,verbose:e.LogLevel.VERBOSE,info:e.LogLevel.INFO,warn:e.LogLevel.WARN,error:e.LogLevel.ERROR,silent:e.LogLevel.SILENT},a=e.LogLevel.INFO,c=((r={})[e.LogLevel.DEBUG]="log",r[e.LogLevel.VERBOSE]="log",r[e.LogLevel.INFO]="info",r[e.LogLevel.WARN]="warn",r[e.LogLevel.ERROR]="error",r),u=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));console[o].apply(console,i.__spreadArray(["[".concat(s,"]  ").concat(t.name,":")],n,!1))}},l=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=u,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in e.LogLevel))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?o[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,e.LogLevel.DEBUG],t,!1)),this._logHandler.apply(this,i.__spreadArray([this,e.LogLevel.DEBUG],t,!1))},t.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,e.LogLevel.VERBOSE],t,!1)),this._logHandler.apply(this,i.__spreadArray([this,e.LogLevel.VERBOSE],t,!1))},t.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,e.LogLevel.INFO],t,!1)),this._logHandler.apply(this,i.__spreadArray([this,e.LogLevel.INFO],t,!1))},t.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,e.LogLevel.WARN],t,!1)),this._logHandler.apply(this,i.__spreadArray([this,e.LogLevel.WARN],t,!1))},t.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,e.LogLevel.ERROR],t,!1)),this._logHandler.apply(this,i.__spreadArray([this,e.LogLevel.ERROR],t,!1))},t}();e.Logger=l,e.setLogLevel=function(t){s.forEach((function(e){e.setLogLevel(t)}))},e.setUserLogHandler=function(t,n){for(var r=function(r){var i=null;n&&n.level&&(i=o[n.level]),r.userLogHandler=null===t?null:function(n,r){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=s.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");r>=(null!==i&&void 0!==i?i:n.logLevel)&&t({level:e.LogLevel[r].toLowerCase(),message:a,args:s,type:n.name})}},i=0,a=s;i<a.length;i++){r(a[i])}}},1749:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9413),i=n(1470),s=n(6630);const o="firebasestorage.googleapis.com";class a extends i.FirebaseError{constructor(t,e,n=0){super(l(t),`Firebase Storage: ${e} (${l(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return l(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var c,u;function l(t){return"storage/"+t}function h(){return new a(e.StorageErrorCode.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function d(){return new a(e.StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new a(e.StorageErrorCode.CANCELED,"User canceled the upload/download.")}function p(){return new a(e.StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m(t){return new a(e.StorageErrorCode.INVALID_ARGUMENT,t)}function g(){return new a(e.StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function v(t){return new a(e.StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function y(t,n){return new a(e.StorageErrorCode.INVALID_FORMAT,"String does not match format '"+t+"': "+n)}function _(t){throw new a(e.StorageErrorCode.INTERNAL_ERROR,"Internal error: "+t)}e.StorageErrorCode=void 0,(c=e.StorageErrorCode||(e.StorageErrorCode={})).UNKNOWN="unknown",c.OBJECT_NOT_FOUND="object-not-found",c.BUCKET_NOT_FOUND="bucket-not-found",c.PROJECT_NOT_FOUND="project-not-found",c.QUOTA_EXCEEDED="quota-exceeded",c.UNAUTHENTICATED="unauthenticated",c.UNAUTHORIZED="unauthorized",c.UNAUTHORIZED_APP="unauthorized-app",c.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",c.INVALID_CHECKSUM="invalid-checksum",c.CANCELED="canceled",c.INVALID_EVENT_NAME="invalid-event-name",c.INVALID_URL="invalid-url",c.INVALID_DEFAULT_BUCKET="invalid-default-bucket",c.NO_DEFAULT_BUCKET="no-default-bucket",c.CANNOT_SLICE_BLOB="cannot-slice-blob",c.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",c.NO_DOWNLOAD_URL="no-download-url",c.INVALID_ARGUMENT="invalid-argument",c.INVALID_ARGUMENT_COUNT="invalid-argument-count",c.APP_DELETED="app-deleted",c.INVALID_ROOT_OPERATION="invalid-root-operation",c.INVALID_FORMAT="invalid-format",c.INTERNAL_ERROR="internal-error",c.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class b{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=b.makeFromUrl(t,n)}catch(s){return new b(t,"")}if(""===r.path)return r;throw i=t,new a(e.StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(t){t.path_=decodeURIComponent(t.path)}const u=n.replace(/[.]/g,"\\."),l=[{regex:s,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${u}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===o?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let e=0;e<l.length;e++){const n=l[e],i=n.regex.exec(t);if(i){const t=i[n.indices.bucket];let e=i[n.indices.path];e||(e=""),r=new b(t,e),n.postModify(r);break}}if(null==r)throw function(t){return new a(e.StorageErrorCode.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return r}}class w{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function C(t){return"string"===typeof t||t instanceof String}function E(t){return T()&&t instanceof Blob}function T(){return"undefined"!==typeof Blob&&!i.isNode()}function S(t,e,n,r){if(r<e)throw m(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw m(`Invalid value for '${t}'. Expected ${n} or less.`)}function I(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function x(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1),n}function k(t,e){const n=t>=500&&t<600,r=-1!==[408,429].indexOf(t),i=-1!==e.indexOf(t);return n||r||i}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(u||(u={}));class A{constructor(t,e,n,r,i,s,o,a,c,u,l,h=!0){this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=l,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{if(e)return void t(!1,new R(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const e=n.getErrorCode()===u.NO_ERROR,i=n.getStatus();if(!e||k(i,this.additionalRetryCodes_)&&this.retry){const e=n.getErrorCode()===u.ABORT;return void t(!1,new R(!1,null,e))}const s=-1!==this.successCodes_.indexOf(i);t(!0,new R(s,n))}))},e=(t,e)=>{const n=this.resolve_,r=this.reject_,i=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(i,i.getResponse());void 0!==t?n(t):n()}catch(s){r(s)}else if(null!==i){const t=h();t.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,t)):r(t)}else if(e.canceled){r(this.appDelete_?g():f())}else{r(d())}};this.canceled_?e(0,new R(!1,null,!0)):this.backoffId_=function(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let u=!1;function l(...t){u||(u=!0,e.apply(null,t))}function h(e){i=setTimeout((()=>{i=null,t(f,c())}),e)}function d(){s&&clearTimeout(s)}function f(t,...e){if(u)return void d();if(t)return d(),void l.call(null,t,...e);if(c()||o)return d(),void l.call(null,t,...e);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(t){p||(p=!0,d(),u||(null!==i?(t||(a=2),clearTimeout(i),h(0)):t||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class R{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function D(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function O(...t){const n=D();if(void 0!==n){const e=new n;for(let n=0;n<t.length;n++)e.append(t[n]);return e.getBlob()}if(T())return new Blob(t);throw new a(e.StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function L(t){if("undefined"===typeof atob)throw n="base-64",new a(e.StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var n;return atob(t)}const N={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class P{constructor(t,e){this.data=t,this.contentType=e||null}}function M(t,e){switch(t){case N.RAW:return new P(F(e));case N.BASE64:case N.BASE64URL:return new P(j(t,e));case N.DATA_URL:return new P(function(t){const e=new U(t);return e.base64?j(N.BASE64,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(n){throw y(N.DATA_URL,"Malformed data URL.")}return F(e)}(e.rest)}(e),new U(e).contentType)}throw h()}function F(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function j(t,e){switch(t){case N.BASE64:{const n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){throw y(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case N.BASE64URL:{const n=-1!==e.indexOf("+"),r=-1!==e.indexOf("/");if(n||r){throw y(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=L(e)}catch(i){if(i.message.includes("polyfill"))throw i;throw y(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class U{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw y(N.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;null!=n&&(this.base64=function(t,e){if(!(t.length>=e.length))return!1;return t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}class B{constructor(t,e){let n=0,r="";E(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(E(this.data_)){const n=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,t,e);return null===n?null:new B(n)}{const n=new Uint8Array(this.data_.buffer,t,e-t);return new B(n,!0)}}static getBlob(...t){if(T()){const e=t.map((t=>t instanceof B?t.data_:t));return new B(O.apply(null,e))}{const e=t.map((t=>C(t)?M(N.RAW,t).data:t.data_));let n=0;e.forEach((t=>{n+=t.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((t=>{for(let e=0;e<t.length;e++)r[i++]=t[e]})),new B(r,!0)}}uploadData(){return this.data_}}function V(t){let e;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e;var n}function H(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function z(t,e){return e}class q{constructor(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||z}}let $=null;function G(){if($)return $;const t=[];t.push(new q("bucket")),t.push(new q("generation")),t.push(new q("metageneration")),t.push(new q("name","fullPath",!0));const e=new q("name");e.xform=function(t,e){return function(t){return!C(t)||t.length<2?t:H(t)}(e)},t.push(e);const n=new q("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new q("timeCreated")),t.push(new q("updated")),t.push(new q("md5Hash",null,!0)),t.push(new q("cacheControl",null,!0)),t.push(new q("contentDisposition",null,!0)),t.push(new q("contentEncoding",null,!0)),t.push(new q("contentLanguage",null,!0)),t.push(new q("contentType",null,!0)),t.push(new q("metadata","customMetadata",!0)),$=t,$}function W(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const t=n[s];r[t.local]=t.xform(r,e[t.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=t.bucket,r=t.fullPath,i=new b(n,r);return e._makeStorageReference(i)}})}(r,t),r}function Z(t,e,n){const r=V(e);if(null===r)return null;return W(t,r,n)}function K(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const r=e[i];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}function X(t,e,n){const r=V(n);if(null===r)return null;return function(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),s=t._makeStorageReference(new b(e,n));r.prefixes.push(s)}if(n.items)for(const i of n.items){const n=t._makeStorageReference(new b(e,i.name));r.items.push(n)}return r}(t,e,r)}class J{constructor(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Y(t){if(!t)throw h()}function Q(t,e){return function(n,r){const i=Z(t,r,e);return Y(null!==i),i}}function tt(t,e){return function(n,r){const i=Z(t,r,e);return Y(null!==i),function(t,e,n,r){const i=V(e);if(null===i)return null;if(!C(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((e=>{const i=t.bucket,s=t.fullPath;return I("/b/"+o(i)+"/o/"+o(s),n,r)+x({alt:"media",token:e})}))[0]}(i,r,t.host,t._protocol)}}function et(t){return function(n,r){let i;var s,o;return 401===n.getStatus()?i=n.getErrorText().includes("Firebase App Check token is invalid")?new a(e.StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new a(e.StorageErrorCode.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?(o=t.bucket,i=new a(e.StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===n.getStatus()?(s=t.path,i=new a(e.StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function nt(t){const n=et(t);return function(r,i){let s=n(r,i);var o;return 404===r.getStatus()&&(o=t.path,s=new a(e.StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),s.serverResponse=i.serverResponse,s}}function rt(t,e,n){const r=I(e.fullServerUrl(),t.host,t._protocol),i=t.maxOperationRetryTime,s=new J(r,"GET",Q(t,n),i);return s.errorHandler=nt(e),s}function it(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=I(e.bucketOnlyServerUrl(),t.host,t._protocol),a=t.maxOperationRetryTime,c=new J(o,"GET",function(t,e){return function(n,r){const i=X(t,e,r);return Y(null!==i),i}}(t,e.bucket),a);return c.urlParams=s,c.errorHandler=et(e),c}function st(t,e,n){const r=I(e.fullServerUrl(),t.host,t._protocol)+"?alt=media",i=t.maxOperationRetryTime,s=new J(r,"GET",((t,e)=>e),i);return s.errorHandler=nt(e),void 0!==n&&(s.headers.Range=`bytes=0-${n}`,s.successCodes=[200,206]),s}function ot(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}function at(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const c=ot(e,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+K(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=B.getBlob(u,r,l);if(null===h)throw p();const d={name:c.fullPath},f=I(s,t.host,t._protocol),m=t.maxUploadRetryTime,g=new J(f,"POST",Q(t,n),m);return g.urlParams=d,g.headers=o,g.body=h.uploadData(),g.errorHandler=et(e),g}class ct{constructor(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}function ut(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Y(!1)}return Y(!!n&&-1!==(e||["active"]).indexOf(n)),n}const lt=262144;function ht(t,n,r,i,s,o,c,u){const l=new ct(0,0);if(c?(l.current=c.current,l.total=c.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw new a(e.StorageErrorCode.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const h=l.total-l.current;let d=h;s>0&&(d=Math.min(d,s));const f=l.current,m=f+d;let g="";g=0===d?"finalize":h===d?"upload, finalize":"upload";const v={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},y=i.slice(f,m);if(null===y)throw p();const _=n.maxUploadRetryTime,b=new J(r,"POST",(function(t,e){const r=ut(t,["active","final"]),s=l.current+d,a=i.size();let c;return c="final"===r?Q(n,o)(t,e):null,new ct(s,a,"final"===r,c)}),_);return b.headers=v,b.body=y.uploadData(),b.progressCallback=u||null,b.errorHandler=et(t),b}const dt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ft(t){switch(t){case"running":case"pausing":case"canceling":return dt.RUNNING;case"paused":return dt.PAUSED;case"success":return dt.SUCCESS;case"canceled":return dt.CANCELED;default:return dt.ERROR}}class pt{constructor(t,e,n){if("function"===typeof t||null!=e||null!=n)this.next=t,this.error=null!==e&&void 0!==e?e:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const e=t;this.next=e.next,this.error=e.error,this.complete=e.complete}}}function mt(t){return(...e)=>{Promise.resolve().then((()=>t(...e)))}}class gt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=u.NO_ERROR,this.sendPromise_=new Promise((t=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=u.ABORT,t()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=u.NETWORK_ERROR,t()})),this.xhr_.addEventListener("load",(()=>{t()}))}))}send(t,e,n,r){if(this.sent_)throw _("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw _("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class vt extends gt{initXhr(){this.xhr_.responseType="text"}}function yt(){return new vt}class _t extends gt{initXhr(){this.xhr_.responseType="arraybuffer"}}function bt(){return new _t}class wt extends gt{initXhr(){this.xhr_.responseType="blob"}}function Ct(){return new wt}class Et{constructor(t,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=G(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=t=>{if(this._request=void 0,this._chunkMultiplier=1,t._codeEquals(e.StorageErrorCode.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const e=this.isExponentialBackoffExpired();if(k(t.status,[])){if(!e)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();t=d()}this._error=t,this._transition("error")}},this._metadataErrorHandler=t=>{this._request=void 0,t._codeEquals(e.StorageErrorCode.CANCELED)?this.completeTransitions_():(this._error=t,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((t,e)=>{this._resolve=t,this._reject=e,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([e,n])=>{switch(this._state){case"running":t(e,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((t,e)=>{const n=function(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=ot(e,r,i),a={name:o.fullPath},c=I(s,t.host,t._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=K(o,n),h=t.maxUploadRetryTime,d=new J(c,"POST",(function(t){let e;ut(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Y(!1)}return Y(C(e)),e}),h);return d.urlParams=a,d.headers=u,d.body=l,d.errorHandler=et(e),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,yt,t,e);this._request=r,r.getPromise().then((t=>{this._request=void 0,this._uploadUrl=t,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const t=this._uploadUrl;this._resolveToken(((e,n)=>{const r=function(t,e,n,r){const i=t.maxUploadRetryTime,s=new J(n,"POST",(function(t){const e=ut(t,["active","final"]);let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){Y(!1)}n||Y(!1);const i=Number(n);return Y(!isNaN(i)),new ct(i,r.size(),"final"===e)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=et(e),s}(this._ref.storage,this._ref._location,t,this._blob),i=this._ref.storage._makeRequest(r,yt,e,n);this._request=i,i.getPromise().then((t=>{this._request=void 0,this._updateProgress(t.current),this._needToFetchStatus=!1,t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const t=lt*this._chunkMultiplier,e=new ct(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=ht(this._ref._location,this._ref.storage,n,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,yt,r,i,!1);this._request=o,o.getPromise().then((t=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(t.current),t.finalized?(this._metadata=t.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(lt*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((t,e)=>{const n=rt(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,yt,t,e);this._request=r,r.getPromise().then((t=>{this._request=void 0,this._metadata=t,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((t,e)=>{const n=at(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,yt,t,e);this._request=r,r.getPromise().then((t=>{this._request=void 0,this._metadata=t,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=f(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=ft(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,n,r){const i=new pt(e||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((t=>{this._notifyObserver(t)}))}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(ft(this._state)){case dt.SUCCESS:mt(this._resolve.bind(null,this.snapshot))();break;case dt.CANCELED:case dt.ERROR:mt(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(ft(this._state)){case dt.RUNNING:case dt.PAUSED:t.next&&mt(t.next.bind(t,this.snapshot))();break;case dt.SUCCESS:t.complete&&mt(t.complete.bind(t))();break;default:t.error&&mt(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Tt{constructor(t,e){this._service=t,this._location=e instanceof b?e:b.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Tt(t,e)}get root(){const t=new b(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new b(this._location.bucket,t);return new Tt(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw v(t)}}function St(t,e,n){t._throwIfRoot("uploadBytes");const r=at(t.storage,t._location,G(),new B(e,!0),n);return t.storage.makeRequestWithTokens(r,yt).then((e=>({metadata:e,ref:t})))}function It(t){const e={prefixes:[],items:[]};return xt(t,e).then((()=>e))}async function xt(t,e,n){const r={pageToken:n},i=await kt(t,r);e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&await xt(t,e,i.nextPageToken)}function kt(t,e){null!=e&&"number"===typeof e.maxResults&&S("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=it(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,yt)}function At(t,e){t._throwIfRoot("updateMetadata");const n=function(t,e,n,r){const i=I(e.fullServerUrl(),t.host,t._protocol),s=K(n,r),o=t.maxOperationRetryTime,a=new J(i,"PATCH",Q(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=nt(e),a}(t.storage,t._location,e,G());return t.storage.makeRequestWithTokens(n,yt)}function Rt(t){t._throwIfRoot("getDownloadURL");const n=function(t,e,n){const r=I(e.fullServerUrl(),t.host,t._protocol),i=t.maxOperationRetryTime,s=new J(r,"GET",tt(t,n),i);return s.errorHandler=nt(e),s}(t.storage,t._location,G());return t.storage.makeRequestWithTokens(n,yt).then((t=>{if(null===t)throw new a(e.StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))}function Dt(t){t._throwIfRoot("deleteObject");const e=function(t,e){const n=I(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,i=new J(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=nt(e),i}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,yt)}function Ot(t,e){const n=function(t,e){const n=e.split("/").filter((t=>t.length>0)).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new b(t._location.bucket,n);return new Tt(t.storage,r)}function Lt(t,n){if(t instanceof Mt){const r=t;if(null==r._bucket)throw new a(e.StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const i=new Tt(r,r._bucket);return null!=n?Lt(i,n):i}return void 0!==n?Ot(t,n):t}function Nt(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof Mt)return new Tt(t,e);throw m("To use ref(service, url), the first argument must be a Storage instance.")}return Lt(t,e)}function Pt(t,e){const n=null===e||void 0===e?void 0:e.storageBucket;return null==n?null:b.makeFromBucketSpec(n,t)}class Mt{constructor(t,e,n,r,i){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=o,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?b.makeFromBucketSpec(r,this._host):Pt(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=b.makeFromBucketSpec(this._url,t):this._bucket=Pt(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){S("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){S("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Tt(this,t)}_makeRequest(t,e,n,r,i=!0){if(this._deleted)return new w(g());{const s=function(t,e,n,r,i,s,o=!0){const a=x(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(u,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new A(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(t,this._appId,n,r,e,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(t,e){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()}}const Ft="@firebase/storage",jt="0.11.2",Ut="storage";function Bt(t,e,n,r={}){!function(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken="string"===typeof s?s:i.createMockUserToken(s,t.app.options.projectId))}(t,e,n,r)}function Vt(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Mt(n,i,s,e,r.SDK_VERSION)}r._registerComponent(new s.Component(Ut,Vt,"PUBLIC").setMultipleInstances(!0)),r.registerVersion(Ft,jt,""),r.registerVersion(Ft,jt,"cjs2017"),e.StorageError=a,e.StringFormat=N,e._FbsBlob=B,e._Location=b,e._TaskEvent={STATE_CHANGED:"state_changed"},e._TaskState=dt,e._UploadTask=Et,e._dataFromString=M,e._getChild=function(t,e){return Ot(t,e)},e._invalidArgument=m,e._invalidRootOperation=v,e.connectStorageEmulator=Bt,e.deleteObject=function(t){return Dt(t=i.getModularInstance(t))},e.getBlob=function(t,e){return function(t,e){t._throwIfRoot("getBlob");const n=st(t.storage,t._location,e);return t.storage.makeRequestWithTokens(n,Ct).then((t=>void 0!==e?t.slice(0,e):t))}(t=i.getModularInstance(t),e)},e.getBytes=function(t,e){return function(t,e){t._throwIfRoot("getBytes");const n=st(t.storage,t._location,e);return t.storage.makeRequestWithTokens(n,bt).then((t=>void 0!==e?t.slice(0,e):t))}(t=i.getModularInstance(t),e)},e.getDownloadURL=function(t){return Rt(t=i.getModularInstance(t))},e.getMetadata=function(t){return function(t){t._throwIfRoot("getMetadata");const e=rt(t.storage,t._location,G());return t.storage.makeRequestWithTokens(e,yt)}(t=i.getModularInstance(t))},e.getStorage=function(t=r.getApp(),e){t=i.getModularInstance(t);const n=r._getProvider(t,Ut).getImmediate({identifier:e}),s=i.getDefaultEmulatorHostnameAndPort("storage");return s&&Bt(n,...s),n},e.getStream=function(t,e){throw new Error("getStream() is only supported by NodeJS builds")},e.list=function(t,e){return kt(t=i.getModularInstance(t),e)},e.listAll=function(t){return It(t=i.getModularInstance(t))},e.ref=function(t,e){return Nt(t=i.getModularInstance(t),e)},e.updateMetadata=function(t,e){return At(t=i.getModularInstance(t),e)},e.uploadBytes=function(t,e,n){return St(t=i.getModularInstance(t),e,n)},e.uploadBytesResumable=function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Et(t,new B(e),n)}(t=i.getModularInstance(t),e,n)},e.uploadString=function(t,e,n,r){return function(t,e,n=N.RAW,r){t._throwIfRoot("uploadString");const i=M(n,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),St(t,i.data,s)}(t=i.getModularInstance(t),e,n,r)}},1470:function(t,e,n){"use strict";var r=n(3542);Object.defineProperty(e,"__esModule",{value:!0});const i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=e>>2,l=(3&e)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw new u;const c=e<<2|s>>4;if(r.push(c),64!==o){const t=s<<4&240|o>>2;if(r.push(t),64!==a){const t=o<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(t){const e=a(t);return c.encodeByteArray(e,!0)},h=function(t){return l(t).replace(/\./g,"")},d=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=f(t[n],e[n]));return t}function p(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const m=()=>{try{return p().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof r||"undefined"===typeof r.env)return;const t=r.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&d(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},g=t=>{var e,n;return null===(n=null===(e=m())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){var t;const e=null===(t=m())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}class b extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w.prototype.create)}}class w{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(C,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new b(r,o,n)}}const C=/\{\$([^}]+)}/g;function E(t){return JSON.parse(t)}const T=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=E(d(s[0])||""),n=E(d(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}};function S(t){return null!==t&&"object"===typeof t}class I{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function x(){}function k(t,e){return`${t} failed: ${e} argument `}const A=144e5;e.CONSTANTS=i,e.DecodeBase64StringError=u,e.Deferred=v,e.ErrorFactory=w,e.FirebaseError=b,e.MAX_VALUE_MILLIS=A,e.RANDOM_FACTOR=.5,e.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const n=this.W_;if("string"===typeof t)for(let l=0;l<16;l++)n[l]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let l=0;l<16;l++)n[l]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let l=16;l<80;l++){const t=n[l-3]^n[l-8]^n[l-14]^n[l-16];n[l]=4294967295&(t<<1|t>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let l=0;l<80;l++){l<40?l<20?(r=c^o&(a^c),i=1518500249):(r=o^a^c,i=1859775393):l<60?(r=o&a|c&(o|a),i=2400959708):(r=o^a^c,i=3395469782);const t=(s<<5|s>>>27)+r+u+i+n[l]&4294967295;u=c,c=a,a=4294967295&(o<<30|o>>>2),o=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const n=e-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let e=24;e>=0;e-=8)t[n]=this.chain_[r]>>e&255,++n;return t}},e.areCookiesEnabled=function(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)},e.assert=s,e.assertionError=o,e.async=function(t,e){return(...n)=>{Promise.resolve(!0).then((()=>{t(...n)})).catch((t=>{e&&e(t)}))}},e.base64=c,e.base64Decode=d,e.base64Encode=l,e.base64urlEncodeWithoutPadding=h,e.calculateBackoffMillis=function(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(A,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createMockUserToken=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(s)),""].join(".")},e.createSubscribe=function(t,e){const n=new I(t,e);return n.subscribe.bind(n)},e.decode=T,e.deepCopy=function(t){return f(void 0,t)},e.deepEqual=function t(e,n){if(e===n)return!0;const r=Object.keys(e),i=Object.keys(n);for(const s of r){if(!i.includes(s))return!1;const r=e[s],o=n[s];if(S(r)&&S(o)){if(!t(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!r.includes(s))return!1;return!0},e.deepExtend=f,e.errorPrefix=k,e.extractQuerystring=function(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)},e.getDefaultAppConfig=()=>{var t;return null===(t=m())||void 0===t?void 0:t.config},e.getDefaultEmulatorHost=g,e.getDefaultEmulatorHostnameAndPort=t=>{const e=g(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},e.getDefaults=m,e.getExperimentalSetting=t=>{var e;return null===(e=m())||void 0===e?void 0:e[`_${t}`]},e.getGlobal=p,e.getModularInstance=function(t){return t&&t._delegate?t._delegate:t},e.getUA=y,e.isAdmin=function(t){const e=T(t).claims;return"object"===typeof e&&!0===e.admin},e.isBrowser=function(){return"object"===typeof self&&self.self===self},e.isBrowserExtension=function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id},e.isElectron=function(){return y().indexOf("Electron/")>=0},e.isEmpty=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){const t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){try{return"object"===typeof indexedDB}catch(t){return!1}},e.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},e.isNode=_,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return y().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){const e=T(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){const e=T(t).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){const e=T(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=E,e.map=function(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.ordinal=function(t){return Number.isFinite(t)?t+function(t){const e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";const n=t%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(t):`${t}`},e.promiseWithTimeout=function(t,e=2e3){const n=new v;return setTimeout((()=>n.reject("timeout!")),e),t.then(n.resolve,n.reject),n.promise},e.querystring=function(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const e=i-55296;r++,s(r<t.length,"Surrogate pair missing trail surrogate.");i=65536+(e<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},e.validateArgCount=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(k(t,e)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(k(t,e)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))},e.validateNamespace=function(t,e,n){if((!n||e)&&"string"!==typeof e)throw new Error(k(t,"namespace")+"must be a valid firebase namespace.")}},3395:function(t,e,n){"use strict";n.d(e,{BH:function(){return m},L:function(){return a},LL:function(){return I},P0:function(){return d},Pz:function(){return p},Sg:function(){return g},UG:function(){return _},ZR:function(){return S},aH:function(){return f},b$:function(){return w},eu:function(){return T},hl:function(){return E},m9:function(){return F},ne:function(){return N},pd:function(){return L},q4:function(){return h},ru:function(){return b},tV:function(){return c},uI:function(){return y},vZ:function(){return A},w1:function(){return C},xO:function(){return D},xb:function(){return k},z$:function(){return v},zd:function(){return O}});var r=n(3542);const i=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=e>>2,l=(3&e)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==a||null==c)throw new o;const u=e<<2|s>>4;if(r.push(u),64!==a){const t=s<<4&240|a>>2;if(r.push(t),64!==c){const t=a<<6&192|c;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(t){return function(t){const e=i(t);return s.encodeByteArray(e,!0)}(t).replace(/\./g,"")},c=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const u=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return u()||(()=>{if("undefined"===typeof r||"undefined"===typeof r.env)return;const t=r.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&c(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},h=t=>{var e,n;return null===(n=null===(e=l())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},d=t=>{const e=h(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f=()=>{var t;return null===(t=l())||void 0===t?void 0:t.config},p=t=>{var e;return null===(e=l())||void 0===e?void 0:e[`_${t}`]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function g(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function _(){var t;const e=null===(t=l())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function b(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E(){try{return"object"===typeof indexedDB}catch(t){return!1}}function T(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}class S extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,S.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(x,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new S(r,o,n)}}const x=/\{\$([^}]+)}/g;function k(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(R(n)&&R(s)){if(!A(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R(t){return null!==t&&"object"===typeof t}function D(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function O(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function L(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function N(t,e){const n=new P(t,e);return n.subscribe.bind(n)}class P{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=M),void 0===r.error&&(r.error=M),void 0===r.complete&&(r.complete=M);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function M(){}function F(t){return t&&t._delegate?t._delegate:t}},7183:function(t,e,n){"use strict";n.d(e,{Xb:function(){return f},Gd:function(){return g},cu:function(){return p}});var r=n(8773),i=n(3699),s=n(7790),o=n(8536),a=n(5907),c=n(4266),u="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,l=n(1684),h=n(1995),d=function(){function t(t){this.errors=0,this.sid=(0,i.DM)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var e=(0,s.ph)();this.timestamp=e,this.started=e,t&&this.update(t)}return t.prototype.update=function(t){if(void 0===t&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),this.did||t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||(0,s.ph)(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),"number"===typeof t.started&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if("number"===typeof t.duration)this.duration=t.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),"number"===typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):"ok"===this.status?this.update({status:"exited"}):this.update()},t.prototype.toJSON=function(){return(0,h.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"===typeof this.did||"string"===typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},t}(),f=function(){function t(t,e,n){void 0===e&&(e=new l.s),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=e,t&&this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=l.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=e&&e.event_id?e.event_id:(0,i.DM)(),s=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(t){o=t}s={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,(0,r.pi)((0,r.pi)({},s),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var s=this._lastEventId=n&&n.event_id?n.event_id:(0,i.DM)(),o=n;if(!n){var a=void 0;try{throw new Error(t)}catch(c){a=c}o={originalException:t,syntheticException:a}}return this._invokeClient("captureMessage",t,e,(0,r.pi)((0,r.pi)({},o),{event_id:s})),s},t.prototype.captureEvent=function(t,e){var n=e&&e.event_id?e.event_id:(0,i.DM)();return"transaction"!==t.type&&(this._lastEventId=n),this._invokeClient("captureEvent",t,(0,r.pi)((0,r.pi)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),i=n.scope,a=n.client;if(i&&a){var c=a.getOptions&&a.getOptions()||{},u=c.beforeBreadcrumb,l=void 0===u?null:u,h=c.maxBreadcrumbs,d=void 0===h?100:h;if(!(d<=0)){var f=(0,s.yW)(),p=(0,r.pi)({timestamp:f},t),m=l?(0,o.Cf)((function(){return l(p,e)})):p;null!==m&&i.addBreadcrumb(m,d)}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=m(this);try{t(this)}finally{m(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(n){return u&&o.kg.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&n.close(),this._sendSessionUpdate(),e&&e.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,i=e.client,s=i&&i.getOptions()||{},o=s.release,c=s.environment,u=((0,a.R)().navigator||{}).userAgent,l=new d((0,r.pi)((0,r.pi)((0,r.pi)({release:o,environment:c},n&&{user:n.getUser()}),u&&{userAgent:u}),t));if(n){var h=n.getSession&&n.getSession();h&&"ok"===h.status&&h.update({status:"exited"}),this.endSession(),n.setSession(l)}return l},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),o=s.scope,a=s.client;a&&a[t]&&(e=a)[t].apply(e,(0,r.fl)(n,[o]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=p(),i=r.__SENTRY__;if(i&&i.extensions&&"function"===typeof i.extensions[t])return i.extensions[t].apply(this,e);u&&o.kg.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function p(){var t=(0,a.R)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function m(t){var e=p(),n=y(e);return _(e,t),n}function g(){var t=p();return v(t)&&!y(t).isOlderThan(4)||_(t,new f),(0,c.KV)()?function(t){try{var e=p().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return y(t);if(!v(n)||y(n).isOlderThan(4)){var r=y(t).getStackTop();_(n,new f(r.client,l.s.clone(r.scope)))}return y(n)}catch(i){return y(t)}}(t):y(t)}function v(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function y(t){return(0,a.Y)("hub",(function(){return new f}),t)}function _(t,e){return!!t&&((t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0)}},1684:function(t,e,n){"use strict";n.d(e,{c:function(){return l},s:function(){return c}});var r=n(8773),i=n(1757),s=n(7790),o=n(7946),a=n(5907),c=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=(0,r.fl)(e._breadcrumbs),n._tags=(0,r.pi)({},e._tags),n._extra=(0,r.pi)({},e._extra),n._contexts=(0,r.pi)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=(0,r.fl)(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(t){return this._requestSession=t,this},t.prototype.setTags=function(t){return this._tags=(0,r.pi)((0,r.pi)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=(0,r.pi)((0,r.pi)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=(0,r.pi)((0,r.pi)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=(0,r.pi)((0,r.pi)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t=this.getSpan();return t&&t.transaction},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"===typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=(0,r.pi)((0,r.pi)({},this._tags),e._tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),e._extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):(0,i.PO)(e)&&(this._tags=(0,r.pi)((0,r.pi)({},this._tags),e.tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),e.extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n="number"===typeof e?Math.min(e,100):100;if(n<=0)return this;var i=(0,r.pi)({timestamp:(0,s.yW)()},t);return this._breadcrumbs=(0,r.fl)(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){if(this._extra&&Object.keys(this._extra).length&&(t.extra=(0,r.pi)((0,r.pi)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=(0,r.pi)((0,r.pi)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=(0,r.pi)((0,r.pi)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=(0,r.pi)((0,r.pi)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=(0,r.pi)({trace:this._span.getTraceContext()},t.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(t.tags=(0,r.pi)({transaction:n},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=(0,r.fl)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors((0,r.fl)(u(),this._eventProcessors),t,e)},t.prototype.setSDKProcessingMetadata=function(t){return this._sdkProcessingMetadata=(0,r.pi)((0,r.pi)({},this._sdkProcessingMetadata),t),this},t.prototype._notifyEventProcessors=function(t,e,n,s){var a=this;return void 0===s&&(s=0),new o.cW((function(o,c){var u=t[s];if(null===e||"function"!==typeof u)o(e);else{var l=u((0,r.pi)({},e),n);(0,i.J8)(l)?l.then((function(e){return a._notifyEventProcessors(t,e,n,s+1).then(o)})).then(null,c):a._notifyEventProcessors(t,l,n,s+1).then(o).then(null,c)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function u(){return(0,a.Y)("globalEventProcessors",(function(){return[]}))}function l(t){u().push(t)}},8773:function(t,e,n){"use strict";n.d(e,{fl:function(){return s},pi:function(){return r}});var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};function i(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}},7734:function(t,e,n){"use strict";n.d(e,{d:function(){return r},x:function(){return i}});var r="finishReason",i=["heartbeatFailed","idleTimeout","documentHidden"]},4741:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},2252:function(t,e,n){"use strict";n.d(e,{ro:function(){return y},lb:function(){return v}});var r=n(157),i=n(7183),s=n(8536),o=n(1757),a=n(4266),c=n(4005),u=n(4741),l=n(1265);function h(){var t=(0,l.x1)();if(t){var e="internal_error";u.h&&s.kg.log("[Tracing] Transaction: "+e+" -> Global error occured"),t.setStatus(e)}}var d=n(1177),f=n(1753);function p(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function m(t,e,n){return(0,l.zu)(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:"explicitly_set"}}),t):("function"===typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:"inheritance"}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),function(t){if((0,o.i2)(t)||"number"!==typeof t&&"boolean"!==typeof t)return u.h&&s.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return u.h&&s.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(u.h&&s.kg.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(u.h&&s.kg.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(u.h&&s.kg.log("[Tracing] Discarding transaction because "+("function"===typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(u.h&&s.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r}function g(t,e){var n=this.getClient(),i=n&&n.getOptions()||{},s=new f.Y(t,this);return(s=m(s,i,(0,r.pi)({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&s.initSpanRecorder(i._experiments&&i._experiments.maxSpans),s}function v(t,e,n,i,s){var o=t.getClient(),a=o&&o.getOptions()||{},c=new d.io(e,t,n,i);return(c=m(c,a,(0,r.pi)({parentSampled:e.parentSampled,transactionContext:e},s))).sampled&&c.initSpanRecorder(a._experiments&&a._experiments.maxSpans),c}function y(){!function(){var t=(0,i.cu)();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=g),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=p))}(),(0,a.KV)()&&function(){var e=(0,i.cu)();if(e.__SENTRY__){var n={mongodb:function(){return new((0,a.l$)(t,"./integrations/node/mongo").Mongo)},mongoose:function(){return new((0,a.l$)(t,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new((0,a.l$)(t,"./integrations/node/mysql").Mysql)},pg:function(){return new((0,a.l$)(t,"./integrations/node/postgres").Postgres)}},s=Object.keys(n).filter((function(t){return!!(0,a.$y)(t)})).map((function(t){try{return n[t]()}catch(e){return}})).filter((function(t){return t}));s.length>0&&(e.__SENTRY__.integrations=(0,r.fl)(e.__SENTRY__.integrations||[],s))}}(),(0,c.o)("error",h),(0,c.o)("unhandledrejection",h)}t=n.hmd(t)},1177:function(t,e,n){"use strict";n.d(e,{io:function(){return d},nT:function(){return l}});var r=n(157),i=n(7790),s=n(8536),o=n(7734),a=n(4741),c=n(5274),u=n(1753),l=1e3,h=function(t){function e(e,n,r,i){void 0===r&&(r="");var s=t.call(this,i)||this;return s._pushActivity=e,s._popActivity=n,s.transactionSpanId=r,s}return(0,r.ZT)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"===typeof t?t:(0,i._I)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(c.gB),d=function(t){function e(e,n,r,i){void 0===r&&(r=l),void 0===i&&(i=!1);var o=t.call(this,e,n)||this;return o._idleHub=n,o._idleTimeout=r,o._onScope=i,o.activities={},o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],n&&i&&(f(n),a.h&&s.kg.log("Setting idle transaction on scope. Span ID: "+o.spanId),n.configureScope((function(t){return t.setSpan(o)}))),o._initTimeout=setTimeout((function(){o._finished||o.finish()}),o._idleTimeout),o}return(0,r.ZT)(e,t),e.prototype.finish=function(e){var n,o,c=this;if(void 0===e&&(e=(0,i._I)()),this._finished=!0,this.activities={},this.spanRecorder){a.h&&s.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var u=(0,r.XA)(this._beforeFinishCallbacks),l=u.next();!l.done;l=u.next()){(0,l.value)(this,e)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===c.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),a.h&&s.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||a.h&&s.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),a.h&&s.kg.log("[Tracing] flushing IdleTransaction")}else a.h&&s.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&f(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){this.spanRecorder=new h((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),a.h&&s.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),a.h&&s.kg.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,a.h&&s.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(a.h&&s.kg.log("[Tracing] popActivity "+t),delete this.activities[t],a.h&&s.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,i._I)()+n/1e3;setTimeout((function(){e._finished||(e.setTag(o.d,o.x[1]),e.finish(r))}),n)}},e.prototype._beat=function(){if(!this._finished){var t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(a.h&&s.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(o.d,o.x[0]),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;a.h&&s.kg.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){t._beat()}),5e3)},e}(u.Y);function f(t){if(t){var e=t.getScope();if(e)e.getTransaction()&&e.setSpan(void 0)}}},5274:function(t,e,n){"use strict";n.d(e,{Dr:function(){return c},gB:function(){return a}});var r=n(157),i=n(3699),s=n(7790),o=n(1995),a=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),c=function(){function t(t){if(this.traceId=(0,i.DM)(),this.spanId=(0,i.DM)().substring(16),this.startTimestamp=(0,s._I)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t((0,r.pi)((0,r.pi)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=(0,r.pi)((0,r.pi)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=(0,r.pi)((0,r.pi)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=function(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);return"unknown_error"!==e&&this.setStatus(e),this},t.prototype.isSuccess=function(){return"ok"===this.status},t.prototype.finish=function(t){this.endTimestamp="number"===typeof t?t:(0,s._I)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return(0,o.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,i,s;return this.data=null!==(e=t.data)&&void 0!==e?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!==(n=t.spanId)&&void 0!==n?n:this.spanId,this.startTimestamp=null!==(r=t.startTimestamp)&&void 0!==r?r:this.startTimestamp,this.status=t.status,this.tags=null!==(i=t.tags)&&void 0!==i?i:{},this.traceId=null!==(s=t.traceId)&&void 0!==s?s:this.traceId,this},t.prototype.getTraceContext=function(){return(0,o.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return(0,o.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()},1753:function(t,e,n){"use strict";n.d(e,{Y:function(){return l}});var r=n(157),i=n(7183),s=n(1757),o=n(8536),a=n(1995),c=n(4741),u=n(5274),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r._measurements={},r._hub=(0,i.Gd)(),(0,s.V9)(n,i.Xb)&&(r._hub=n),r.name=e.name||"",r.metadata=e.metadata||{},r._trimEnd=e.trimEnd,r.transaction=r,r}return(0,r.ZT)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new u.gB(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=(0,r.pi)({},t)},e.prototype.setMetadata=function(t){this.metadata=(0,r.pi)((0,r.pi)({},this.metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(c.h&&o.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata};return Object.keys(this._measurements).length>0&&(c.h&&o.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),c.h&&o.kg.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(i)}c.h&&o.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var s=this._hub.getClient(),a=s&&s.getTransport&&s.getTransport();a&&a.recordLostEvent&&a.recordLostEvent("sample_rate","transaction")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return(0,a.Jr)((0,r.pi)((0,r.pi)({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!==(n=e.name)&&void 0!==n?n:"",this._trimEnd=e.trimEnd,this},e}(u.Dr)},1265:function(t,e,n){"use strict";n.d(e,{WB:function(){return a},XL:function(){return o},x1:function(){return s},zu:function(){return i}});var r=n(7183);function i(t){var e=(0,r.Gd)().getClient(),n=t||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function s(t){var e=(t||(0,r.Gd)()).getScope();return e&&e.getTransaction()}function o(t){return t/1e3}function a(t){return 1e3*t}},157:function(t,e,n){"use strict";n.d(e,{CR:function(){return c},XA:function(){return a},ZT:function(){return i},_T:function(){return o},fl:function(){return u},pi:function(){return s}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}},4194:function(t,e,n){"use strict";n.d(e,{R:function(){return s},l:function(){return a}});var r=n(5907),i=n(1757);function s(t,e){try{for(var n=t,r=[],i=0,s=0,a=" > ".length,c=void 0;n&&i++<5&&!("html"===(c=o(n,e))||i>1&&s+r.length*a+c.length>=80);)r.push(c),s+=c.length,n=n.parentNode;return r.reverse().join(" > ")}catch(u){return"<unknown>"}}function o(t,e){var n,r,s,o,a,c=t,u=[];if(!c||!c.tagName)return"";u.push(c.tagName.toLowerCase());var l=e&&e.length?e.filter((function(t){return c.getAttribute(t)})).map((function(t){return[t,c.getAttribute(t)]})):null;if(l&&l.length)l.forEach((function(t){u.push("["+t[0]+'="'+t[1]+'"]')}));else if(c.id&&u.push("#"+c.id),(n=c.className)&&(0,i.HD)(n))for(r=n.split(/\s+/),a=0;a<r.length;a++)u.push("."+r[a]);var h=["type","name","title","alt"];for(a=0;a<h.length;a++)s=h[a],(o=c.getAttribute(s))&&u.push("["+s+'="'+o+'"]');return u.join("")}function a(){var t=(0,r.R)();try{return t.document.location.href}catch(e){return""}}},1923:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},5907:function(t,e,n){"use strict";n.d(e,{R:function(){return s},Y:function(){return o}});var r=n(4266),i={};function s(){return(0,r.KV)()?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}function o(t,e,n){var r=n||s(),i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}},4005:function(t,e,n){"use strict";n.d(e,{o:function(){return g}});var r,i=n(4715),s=n(1923),o=n(5907),a=n(1757),c=n(8536),u=n(1995),l=n(9038),h=n(9798),d=(0,o.R)(),f={},p={};function m(t){if(!p[t])switch(p[t]=!0,t){case"console":!function(){if(!("console"in d))return;c.RU.forEach((function(t){t in d.console&&(0,u.hl)(d.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];v("console",{args:n,level:t}),e&&e.apply(d.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in d))return;var t=v.bind(null,"dom"),e=C(t,!0);d.document.addEventListener("click",e,!1),d.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=d[e]&&d[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,u.hl)(n,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var s=this,o=s.__sentry_instrumentation_handlers__=s.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){var c=C(t);a.handler=c,e.call(this,n,c,i)}a.refCount+=1}catch(u){}return e.call(this,n,r,i)}})),(0,u.hl)(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this,s=i.__sentry_instrumentation_handlers__||{},o=s[e];o&&(o.refCount-=1,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete s[e]),0===Object.keys(s).length&&delete i.__sentry_instrumentation_handlers__)}catch(a){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in d))return;var t=XMLHttpRequest.prototype;(0,u.hl)(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=e[1],s=r.__sentry_xhr__={method:(0,a.HD)(e[0])?e[0].toUpperCase():e[0],url:e[1]};(0,a.HD)(i)&&"POST"===s.method&&i.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var o=function(){if(4===r.readyState){try{s.status_code=r.status}catch(t){}v("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"===typeof r.onreadystatechange?(0,u.hl)(r,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o(),t.apply(r,e)}})):r.addEventListener("readystatechange",o),t.apply(r,e)}})),(0,u.hl)(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.__sentry_xhr__&&void 0!==e[0]&&(this.__sentry_xhr__.body=e[0]),v("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}();break;case"fetch":!function(){if(!(0,h.t$)())return;(0,u.hl)(d,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:y(e),url:_(e)},startTimestamp:Date.now()};return v("fetch",(0,i.pi)({},r)),t.apply(d,e).then((function(t){return v("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw v("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(!(0,h.Bf)())return;var t=d.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.length>2?e[2]:void 0;if(i){var s=r,o=String(i);r=o,v("history",{from:s,to:o})}return t.apply(this,e)}}d.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=d.location.href,s=r;if(r=i,v("history",{from:s,to:i}),t)try{return t.apply(this,e)}catch(o){}},(0,u.hl)(d.history,"pushState",e),(0,u.hl)(d.history,"replaceState",e)}();break;case"error":E=d.onerror,d.onerror=function(t,e,n,r,i){return v("error",{column:r,error:i,line:n,msg:t,url:e}),!!E&&E.apply(this,arguments)};break;case"unhandledrejection":T=d.onunhandledrejection,d.onunhandledrejection=function(t){return v("unhandledrejection",t),!T||T.apply(this,arguments)};break;default:return void(s.h&&c.kg.warn("unknown instrumentation type:",t))}}function g(t,e){f[t]=f[t]||[],f[t].push(e),m(t)}function v(t,e){var n,r;if(t&&f[t])try{for(var o=(0,i.XA)(f[t]||[]),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(e)}catch(h){s.h&&c.kg.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+(0,l.$P)(u)+"\nError:",h)}}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function y(t){return void 0===t&&(t=[]),"Request"in d&&(0,a.V9)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function _(t){return void 0===t&&(t=[]),"string"===typeof t[0]?t[0]:"Request"in d&&(0,a.V9)(t[0],Request)?t[0].url:String(t[0])}var b,w;function C(t,e){return void 0===e&&(e=!1),function(n){if(n&&w!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(n){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===b||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(n){}return!1}(w,n))&&(t({event:n,name:r,global:e}),w=n),clearTimeout(b),b=d.setTimeout((function(){b=void 0}),1e3)}}}var E=null;var T=null},1757:function(t,e,n){"use strict";n.d(e,{Cy:function(){return g},HD:function(){return u},J8:function(){return m},Kj:function(){return p},PO:function(){return h},TX:function(){return a},V9:function(){return y},VW:function(){return o},VZ:function(){return i},cO:function(){return d},fm:function(){return c},i2:function(){return v},kK:function(){return f},pt:function(){return l}});var r=Object.prototype.toString;function i(t){switch(r.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(t,Error)}}function s(t,e){return r.call(t)==="[object "+e+"]"}function o(t){return s(t,"ErrorEvent")}function a(t){return s(t,"DOMError")}function c(t){return s(t,"DOMException")}function u(t){return s(t,"String")}function l(t){return null===t||"object"!==typeof t&&"function"!==typeof t}function h(t){return s(t,"Object")}function d(t){return"undefined"!==typeof Event&&y(t,Event)}function f(t){return"undefined"!==typeof Element&&y(t,Element)}function p(t){return s(t,"RegExp")}function m(t){return Boolean(t&&t.then&&"function"===typeof t.then)}function g(t){return h(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function v(t){return"number"===typeof t&&t!==t}function y(t,e){try{return t instanceof e}catch(n){return!1}}},8536:function(t,e,n){"use strict";n.d(e,{Cf:function(){return l},RU:function(){return u},kg:function(){return r}});var r,i=n(4715),s=n(1923),o=n(5907),a=(0,o.R)(),c="Sentry Logger ",u=["debug","info","warn","error","log","assert"];function l(t){var e=(0,o.R)();if(!("console"in e))return t();var n=e.console,r={};u.forEach((function(t){var i=n[t]&&n[t].__sentry_original__;t in e.console&&i&&(r[t]=n[t],n[t]=i)}));try{return t()}finally{Object.keys(r).forEach((function(t){n[t]=r[t]}))}}function h(){var t=!1,e={enable:function(){t=!0},disable:function(){t=!1}};return s.h?u.forEach((function(n){e[n]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t&&l((function(){var t;(t=a.console)[n].apply(t,(0,i.fl)([c+"["+n+"]:"],e))}))}})):u.forEach((function(t){e[t]=function(){}})),e}r=s.h?(0,o.Y)("logger",h):h()},3699:function(t,e,n){"use strict";n.d(e,{DM:function(){return o},Db:function(){return l},EG:function(){return h},YO:function(){return f},en:function(){return a},jH:function(){return u},rt:function(){return d}});var r=n(4715),i=n(5907),s=n(1995);function o(){var t=(0,i.R)(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function a(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function c(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function u(t){var e=t.message,n=t.event_id;if(e)return e;var r=c(t);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(t,e,n){var r=t.exception=t.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=n||"Error")}function h(t,e){var n=c(t);if(n){var i=n.mechanism;if(n.mechanism=(0,r.pi)((0,r.pi)((0,r.pi)({},{type:"generic",handled:!0}),i),e),e&&"data"in e){var s=(0,r.pi)((0,r.pi)({},i&&i.data),e.data);n.mechanism.data=s}}}function d(t){return t.split(/[\?#]/,1)[0]}function f(t){if(t&&t.__sentry_captured__)return!0;try{(0,s.xp)(t,"__sentry_captured__",!0)}catch(e){}return!1}},4266:function(t,e,n){"use strict";n.d(e,{l$:function(){return s},KV:function(){return i},$y:function(){return o}}),t=n.hmd(t);var r=n(3542);function i(){return!("undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof r?r:0)}function s(t,e){return t.require(e)}function o(e){var n;try{n=s(t,e)}catch(i){}try{var r=s(t,"process").cwd;n=s(t,r()+"/node_modules/"+e)}catch(i){}return n}},1995:function(t,e,n){"use strict";n.d(e,{$Q:function(){return u},HK:function(){return l},Jr:function(){return g},Sh:function(){return d},_j:function(){return h},hl:function(){return a},xp:function(){return c},zf:function(){return m}});var r=n(4715),i=n(4194),s=n(1757),o=n(9660);function a(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"===typeof i)try{u(i,r)}catch(s){}t[e]=i}}function c(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function u(t,e){var n=e.prototype||{};t.prototype=e.prototype=n,c(t,"__sentry_original__",e)}function l(t){return t.__sentry_original__}function h(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function d(t){var e=t;if((0,s.VZ)(t))e=(0,r.pi)({message:t.message,name:t.name,stack:t.stack},p(t));else if((0,s.cO)(t)){var n=t;e=(0,r.pi)({type:n.type,target:f(n.target),currentTarget:f(n.currentTarget)},p(n)),"undefined"!==typeof CustomEvent&&(0,s.V9)(t,CustomEvent)&&(e.detail=n.detail)}return e}function f(t){try{return(0,s.kK)(t)?(0,i.R)(t):Object.prototype.toString.call(t)}catch(e){return"<unknown>"}}function p(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function m(t,e){void 0===e&&(e=40);var n=Object.keys(d(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return(0,o.$G)(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:(0,o.$G)(i,e)}return""}function g(t){var e,n;if((0,s.PO)(t)){var i={};try{for(var o=(0,r.XA)(Object.keys(t)),a=o.next();!a.done;a=o.next()){var c=a.value;"undefined"!==typeof t[c]&&(i[c]=g(t[c]))}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(g):t}},9038:function(t,e,n){"use strict";n.d(e,{$P:function(){return a},pE:function(){return i}});var r=n(4715);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.sort((function(t,e){return t[0]-e[0]})).map((function(t){return t[1]}));return function(t,e){var i,o,a,c;void 0===e&&(e=0);var u=[];try{for(var l=(0,r.XA)(t.split("\n").slice(e)),h=l.next();!h.done;h=l.next()){var d=h.value;try{for(var f=(a=void 0,(0,r.XA)(n)),p=f.next();!p.done;p=f.next()){var m=(0,p.value)(d);if(m){u.push(m);break}}}catch(g){a={error:g}}finally{try{p&&!p.done&&(c=f.return)&&c.call(f)}finally{if(a)throw a.error}}}}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return s(u)}}function s(t){if(!t.length)return[];var e=t,n=e[0].function||"",i=e[e.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==i.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return(0,r.pi)((0,r.pi)({},t),{filename:t.filename||e[0].filename,function:t.function||"?"})})).reverse()}var o="<anonymous>";function a(t){try{return t&&"function"===typeof t&&t.name||o}catch(e){return o}}},9660:function(t,e,n){"use strict";n.d(e,{$G:function(){return i},nK:function(){return s},zC:function(){return o}});var r=n(1757);function i(t,e){return void 0===e&&(e=0),"string"!==typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function s(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(s){n.push("[value cannot be serialized]")}}return n.join(e)}function o(t,e){return!!(0,r.HD)(t)&&((0,r.Kj)(e)?e.test(t):"string"===typeof e&&-1!==t.indexOf(e))}},9798:function(t,e,n){"use strict";n.d(e,{Ak:function(){return o},Bf:function(){return l},Du:function(){return a},hv:function(){return u},t$:function(){return c}});var r=n(1923),i=n(5907),s=n(8536);function o(){if(!("fetch"in(0,i.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function a(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function c(){if(!o())return!1;var t=(0,i.R)();if(a(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"===typeof n.createElement)try{var c=n.createElement("iframe");c.hidden=!0,n.head.appendChild(c),c.contentWindow&&c.contentWindow.fetch&&(e=a(c.contentWindow.fetch)),n.head.removeChild(c)}catch(u){r.h&&s.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return e}function u(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function l(){var t=(0,i.R)(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}},7946:function(t,e,n){"use strict";n.d(e,{$2:function(){return s},WD:function(){return i},cW:function(){return o}});var r=n(1757);function i(t){return new o((function(e){e(t)}))}function s(t){return new o((function(e,n){n(t)}))}var o=function(){function t(t){var e=this;this._state=0,this._handlers=[],this._resolve=function(t){e._setResult(1,t)},this._reject=function(t){e._setResult(2,t)},this._setResult=function(t,n){0===e._state&&((0,r.J8)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._executeHandlers=function(){if(0!==e._state){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(1===e._state&&t[1](e._value),2===e._state&&t[2](e._value),t[0]=!0)}))}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.prototype.then=function(e,n){var r=this;return new t((function(t,i){r._handlers.push([!1,function(n){if(e)try{t(e(n))}catch(r){i(r)}else t(n)},function(e){if(n)try{t(n(e))}catch(r){i(r)}else i(e)}]),r._executeHandlers()}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var i,s;return n.then((function(t){s=!1,i=t,e&&e()}),(function(t){s=!0,i=t,e&&e()})).then((function(){s?r(i):t(i)}))}))},t}()},7790:function(t,e,n){"use strict";n.d(e,{Z1:function(){return h},_I:function(){return l},ph:function(){return u},yW:function(){return c}});var r=n(5907),i=n(4266);t=n.hmd(t);var s={nowSeconds:function(){return Date.now()/1e3}};var o=(0,i.KV)()?function(){try{return(0,i.l$)(t,"perf_hooks").performance}catch(e){return}}():function(){var t=(0,r.R)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),a=void 0===o?s:{nowSeconds:function(){return(o.timeOrigin+o.now())/1e3}},c=s.nowSeconds.bind(s),u=a.nowSeconds.bind(a),l=u,h=function(){var t=(0,r.R)().performance;if(t&&t.now){var e=36e5,n=t.now(),i=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,o=s<e,a=t.timing&&t.timing.navigationStart,c="number"===typeof a?Math.abs(a+n-i):e;return o||c<e?s<=c?("timeOrigin",t.timeOrigin):("navigationStart",a):("dateNow",i)}"none"}()},4715:function(t,e,n){"use strict";n.d(e,{CR:function(){return a},XA:function(){return o},ZT:function(){return i},fl:function(){return c},pi:function(){return s}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}},4961:function(t,e,n){("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"9f2439de9faee77b612bbe0ef39ebaf7ae293062"}},844:function(t){var e=.999,n=/[\\\/\-_+.# \t"@\[\(\{&]/,r=/[\\\/\-_+.# \t"@\[\(\{&]/g;function i(t,s,o,a,c,u){if(u===s.length)return c===t.length?1:.99;for(var l,h,d,f=a.charAt(u),p=o.indexOf(f,c),m=0;p>=0;)(l=i(t,s,o,a,p+1,u+1))>m&&(p===c?l*=1:n.test(t.charAt(p-1))?(l*=.9,(d=t.slice(c,p-1).match(r))&&c>0&&(l*=Math.pow(e,d.length))):n.test(t.slice(c,p-1))?(l*=0,c>0&&(l*=Math.pow(e,p-c))):(l*=.3,c>0&&(l*=Math.pow(e,p-c))),t.charAt(p)!==s.charAt(u)&&(l*=.9999)),l<.1&&o.charAt(p-1)===a.charAt(u+1)&&o.charAt(p-1)!==a.charAt(u)&&.1*(h=i(t,s,o,a,p+1,u+2))>l&&(l=.1*h),l>m&&(m=l),p=o.indexOf(f,p+1);return m}t.exports=function(t,e){return i(t,e,t.toLowerCase(),e.toLowerCase(),0,0)}},343:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1749);Object.keys(r).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))},3542:function(t,e,n){"use strict";var r,i;t.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"===typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(2351)},283:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(7537)}])},5253:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDomainLocale=function(t,e,n,r){return!1};("function"===typeof e.default||"object"===typeof e.default&&null!==e.default)&&"undefined"===typeof e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},162:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4566).Z;n(9178).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(3903).Z,s=n(5154).Z,o=i(n(2784)),a=n(9918),c=n(4400),u=n(3220),l=n(4069),h=n(2030),d=n(5253),f=n(3952),p={};function m(t,e,n,r){if(t&&a.isLocalURL(e)){Promise.resolve(t.prefetch(e,n,r)).catch((function(t){0}));var i=r&&"undefined"!==typeof r.locale?r.locale:t&&t.locale;p[e+"%"+n+(i?"%"+i:"")]=!0}}var g=o.default.forwardRef((function(t,e){var n,i=t.href,g=t.as,v=t.children,y=t.prefetch,_=t.passHref,b=t.replace,w=t.shallow,C=t.scroll,E=t.locale,T=t.onClick,S=t.onMouseEnter,I=t.onTouchStart,x=t.legacyBehavior,k=void 0===x?!0!==Boolean(!1):x,A=s(t,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=v,!k||"string"!==typeof n&&"number"!==typeof n||(n=o.default.createElement("a",null,n));var R=!1!==y,D=o.default.useContext(u.RouterContext),O=o.default.useContext(l.AppRouterContext);O&&(D=O);var L,N=o.default.useMemo((function(){var t=r(a.resolveHref(D,i,!0),2),e=t[0],n=t[1];return{href:e,as:g?a.resolveHref(D,g):n||e}}),[D,i,g]),P=N.href,M=N.as,F=o.default.useRef(P),j=o.default.useRef(M);k&&(L=o.default.Children.only(n));var U=k?L&&"object"===typeof L&&L.ref:e,B=r(h.useIntersection({rootMargin:"200px"}),3),V=B[0],H=B[1],z=B[2],q=o.default.useCallback((function(t){j.current===M&&F.current===P||(z(),j.current=M,F.current=P),V(t),U&&("function"===typeof U?U(t):"object"===typeof U&&(U.current=t))}),[M,U,P,z,V]);o.default.useEffect((function(){var t=H&&R&&a.isLocalURL(P),e="undefined"!==typeof E?E:D&&D.locale,n=p[P+"%"+M+(e?"%"+e:"")];t&&!n&&m(D,P,M,{locale:e})}),[M,P,H,E,R,D]);var $={ref:q,onClick:function(t){k||"function"!==typeof T||T(t),k&&L.props&&"function"===typeof L.props.onClick&&L.props.onClick(t),t.defaultPrevented||function(t,e,n,r,i,s,c,u,l,h){if("A"!==t.currentTarget.nodeName.toUpperCase()||!function(t){var e=t.currentTarget.target;return e&&"_self"!==e||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)&&a.isLocalURL(n)){t.preventDefault();var d=function(){"beforePopState"in e?e[i?"replace":"push"](n,r,{shallow:s,locale:u,scroll:c}):e[i?"replace":"push"](n,{forceOptimisticNavigation:!h})};l?o.default.startTransition(d):d()}}(t,D,P,M,b,w,C,E,Boolean(O),R)},onMouseEnter:function(t){k||"function"!==typeof S||S(t),k&&L.props&&"function"===typeof L.props.onMouseEnter&&L.props.onMouseEnter(t),!R&&O||a.isLocalURL(P)&&m(D,P,M,{priority:!0})},onTouchStart:function(t){k||"function"!==typeof I||I(t),k&&L.props&&"function"===typeof L.props.onTouchStart&&L.props.onTouchStart(t),!R&&O||a.isLocalURL(P)&&m(D,P,M,{priority:!0})}};if(!k||_||"a"===L.type&&!("href"in L.props)){var G="undefined"!==typeof E?E:D&&D.locale,W=D&&D.isLocaleDomain&&d.getDomainLocale(M,G,D.locales,D.domainLocales);$.href=W||f.addBasePath(c.addLocale(M,G,D&&D.defaultLocale))}return k?o.default.cloneElement(L,$):o.default.createElement("a",Object.assign({},A,$),n)}));e.default=g,("function"===typeof e.default||"object"===typeof e.default&&null!==e.default)&&"undefined"===typeof e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},2030:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4566).Z;Object.defineProperty(e,"__esModule",{value:!0}),e.useIntersection=function(t){var e=t.rootRef,n=t.rootMargin,u=t.disabled||!o,l=r(i.useState(!1),2),h=l[0],d=l[1],f=r(i.useState(null),2),p=f[0],m=f[1];i.useEffect((function(){if(o){if(u||h)return;if(p&&p.tagName){var t=function(t,e,n){var r=function(t){var e,n={root:t.root||null,margin:t.rootMargin||""},r=c.find((function(t){return t.root===n.root&&t.margin===n.margin}));if(r&&(e=a.get(r)))return e;var i=new Map,s=new IntersectionObserver((function(t){t.forEach((function(t){var e=i.get(t.target),n=t.isIntersecting||t.intersectionRatio>0;e&&n&&e(n)}))}),t);return e={id:n,observer:s,elements:i},c.push(n),a.set(n,e),e}(n),i=r.id,s=r.observer,o=r.elements;return o.set(t,e),s.observe(t),function(){if(o.delete(t),s.unobserve(t),0===o.size){s.disconnect(),a.delete(i);var e=c.findIndex((function(t){return t.root===i.root&&t.margin===i.margin}));e>-1&&c.splice(e,1)}}}(p,(function(t){return t&&d(t)}),{root:null==e?void 0:e.current,rootMargin:n});return t}}else if(!h){var r=s.requestIdleCallback((function(){return d(!0)}));return function(){return s.cancelIdleCallback(r)}}}),[p,u,n,e,h]);var g=i.useCallback((function(){d(!1)}),[]);return[m,h,g]};var i=n(2784),s=n(9071),o="function"===typeof IntersectionObserver,a=new Map,c=[];("function"===typeof e.default||"object"===typeof e.default&&null!==e.default)&&"undefined"===typeof e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},4069:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateContext=e.GlobalLayoutRouterContext=e.LayoutRouterContext=e.AppRouterContext=void 0;var r=(0,n(3903).Z)(n(2784)),i=r.default.createContext(null);e.AppRouterContext=i;var s=r.default.createContext(null);e.LayoutRouterContext=s;var o=r.default.createContext(null);e.GlobalLayoutRouterContext=o;var a=r.default.createContext(null);e.TemplateContext=a},1605:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,{FunctionToString:function(){return c},InboundFilters:function(){return y}});var i={};n.r(i),n.d(i,{Breadcrumbs:function(){return Vt},Dedupe:function(){return Jt},GlobalHandlers:function(){return xt},LinkedErrors:function(){return Wt},TryCatch:function(){return Nt},UserAgent:function(){return Xt}});var s,o=n(157),a=n(1995),c=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){s=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,a.HK)(this)||this;return s.apply(n,t)}},t.id="FunctionToString",t}();var u=function(){return u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},u.apply(this,arguments)};function l(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}var f=n(8536),p=n(3699),m=n(9660),g="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,v=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],y=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var r=n();if(r){var i=r.getIntegration(t);if(i){var s=r.getClient(),o=s?s.getOptions():{},a=function(t,e){void 0===t&&(t={});void 0===e&&(e={});return{allowUrls:d(t.whitelistUrls||[],t.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:d(t.blacklistUrls||[],t.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:d(t.ignoreErrors||[],e.ignoreErrors||[],v),ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(i._options,o);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(e){}return!1}(t))return g&&f.kg.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,p.jH)(t)),!0;if(function(t,e){if(!e||!e.length)return!1;return function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,i=e.value,s=void 0===i?"":i;return[""+s,r+": "+s]}catch(o){return g&&f.kg.error("Cannot extract message for event "+(0,p.jH)(t)),[]}return[]}(t).some((function(t){return e.some((function(e){return(0,m.zC)(t,e)}))}))}(t,e.ignoreErrors))return g&&f.kg.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,p.jH)(t)),!0;if(function(t,e){if(!e||!e.length)return!1;var n=b(t);return!!n&&e.some((function(t){return(0,m.zC)(n,t)}))}(t,e.denyUrls))return g&&f.kg.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,p.jH)(t)+".\nUrl: "+b(t)),!0;if(!function(t,e){if(!e||!e.length)return!0;var n=b(t);return!n||e.some((function(t){return(0,m.zC)(n,t)}))}(t,e.allowUrls))return g&&f.kg.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,p.jH)(t)+".\nUrl: "+b(t)),!0;return!1}(e,a)?null:e}}return e}))},t.id="InboundFilters",t}();function _(t){void 0===t&&(t=[]);for(var e=t.length-1;e>=0;e--){var n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function b(t){try{if(t.stacktrace)return _(t.stacktrace.frames);var e;try{e=t.exception.values[0].stacktrace.frames}catch(n){}return e?_(e):null}catch(r){return g&&f.kg.error("Cannot extract url for event "+(0,p.jH)(t)),null}}var w,C=n(5907),E=n(7183);!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(w||(w={}));var T=n(4005),S=n(1757),I=n(4194),x=n(4715);var k=n(9038);function A(t,e,n){void 0===e&&(e=1/0),void 0===n&&(n=1/0);try{return D("",t,e,n)}catch(r){return{ERROR:"**non-serializable** ("+r+")"}}}function R(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r,i=A(t,e);return r=i,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(r))>n?R(t,e-1,n):i}function D(t,e,r,i,s){void 0===r&&(r=1/0),void 0===i&&(i=1/0),void 0===s&&(s=function(){var t="function"===typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(var r=0;r<e.length;r++)if(e[r]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(var r=0;r<e.length;r++)if(e[r]===n){e.splice(r,1);break}}]}());var o=(0,x.CR)(s,2),c=o[0],u=o[1],l=e;if(l&&"function"===typeof l.toJSON)try{return l.toJSON()}catch(v){}if(null===e||["number","boolean","string"].includes(typeof e)&&!(0,S.i2)(e))return e;var h=function(t,e){try{return"domain"===t&&e&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!==typeof n.g&&e===n.g?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":(0,S.Cy)(e)?"[SyntheticEvent]":"number"===typeof e&&e!==e?"[NaN]":void 0===e?"[undefined]":"function"===typeof e?"[Function: "+(0,k.$P)(e)+"]":"symbol"===typeof e?"["+String(e)+"]":"bigint"===typeof e?"[BigInt: "+String(e)+"]":"[object "+Object.getPrototypeOf(e).constructor.name+"]"}catch(v){return"**non-serializable** ("+v+")"}}(t,e);if(!h.startsWith("[object "))return h;if(0===r)return h.replace("object ","");if(c(e))return"[Circular ~]";var d=Array.isArray(e)?[]:{},f=0,p=(0,S.VZ)(e)||(0,S.cO)(e)?(0,a.Sh)(e):e;for(var m in p)if(Object.prototype.hasOwnProperty.call(p,m)){if(f>=i){d[m]="[MaxProperties ~]";break}var g=p[m];d[m]=D(m,g,r-1,i,s),f+=1}return u(e),d}var O=n(7946),L="?";function N(t,e,n,r){var i={filename:t,function:e,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var P=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,M=/\((\S*)(?::(\d+))(?::(\d+))\)/,F=[30,function(t){var e=P.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){var n=M.exec(e[2]);n&&(e[2]=n[1],e[3]=n[2],e[4]=n[3])}var r=(0,o.CR)(W(e[1]||L,e[2]),2),i=r[0];return N(r[1],i,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],j=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,U=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,B=[50,function(t){var e,n=j.exec(t);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=U.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var i=n[3],s=n[1]||L;return s=(e=(0,o.CR)(W(s,i),2))[0],N(i=e[1],s,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],V=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,H=[40,function(t){var e=V.exec(t);return e?N(e[2],e[1]||L,+e[3],e[4]?+e[4]:void 0):void 0}],z=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,q=[10,function(t){var e=z.exec(t);return e?N(e[2],e[3]||L,+e[1]):void 0}],$=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,G=[20,function(t){var e=$.exec(t);return e?N(e[5],e[3]||e[4]||L,+e[1],+e[2]):void 0}],W=function(t,e){var n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:L,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]};function Z(t){var e=X(t),n={type:t&&t.name,value:Y(t)};return e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function K(t){return{exception:{values:[Z(t)]}}}function X(t){var e=t.stacktrace||t.stack||"",n=function(t){if(t){if("number"===typeof t.framesToPop)return t.framesToPop;if(J.test(t.message))return 1}return 0}(t);try{return(0,k.pE)(q,G,F,H,B)(e,n)}catch(r){}return[]}var J=/Minified React error #\d+;/i;function Y(t){var e=t&&t.message;return e?e.error&&"string"===typeof e.error.message?e.error.message:e:"No error message"}function Q(t,e,n,r){var i;if((0,S.VW)(t)&&t.error)return K(t.error);if((0,S.TX)(t)||(0,S.fm)(t)){var s=t;if("stack"in t)i=K(t);else{var c=s.name||((0,S.TX)(s)?"DOMError":"DOMException"),u=s.message?c+": "+s.message:c;i=tt(u,e,n),(0,p.Db)(i,u)}return"code"in s&&(i.tags=(0,o.pi)((0,o.pi)({},i.tags),{"DOMException.code":""+s.code})),i}return(0,S.VZ)(t)?K(t):(0,S.PO)(t)||(0,S.cO)(t)?(i=function(t,e,n){var r={exception:{values:[{type:(0,S.cO)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,a.zf)(t)}]},extra:{__serialized__:R(t)}};if(e){var i=X(e);i.length&&(r.stacktrace={frames:i})}return r}(t,e,r),(0,p.EG)(i,{synthetic:!0}),i):(i=tt(t,e,n),(0,p.Db)(i,""+t,void 0),(0,p.EG)(i,{synthetic:!0}),i)}function tt(t,e,n){var r={message:t};if(n&&e){var i=X(e);i.length&&(r.stacktrace={frames:i})}return r}var et="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function nt(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function rt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nt(arguments[e]));return t}function it(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=(0,E.Gd)();if(r&&r[t])return r[t].apply(r,rt(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function st(t,e){return it("captureException",t,{captureContext:e,originalException:t,syntheticException:new Error("Sentry syntheticException")})}function ot(t){it("withScope",t)}var at=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n]);return t});var ct=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,at(r,n.prototype),r}return(0,x.ZT)(e,t),e}(Error),ut=n(1923),lt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ht(t,e){void 0===e&&(e=!1);var n=t.host,r=t.path,i=t.pass,s=t.port,o=t.projectId;return t.protocol+"://"+t.publicKey+(e&&i?":"+i:"")+"@"+n+(s?":"+s:"")+"/"+(r?r+"/":r)+o}function dt(t){return"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),{user:t.publicKey||"",protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function ft(t){var e="string"===typeof t?function(t){var e=lt.exec(t);if(!e)throw new ct("Invalid Sentry Dsn: "+t);var n=(0,x.CR)(e.slice(1),6),r=n[0],i=n[1],s=n[2],o=void 0===s?"":s,a=n[3],c=n[4],u=void 0===c?"":c,l="",h=n[5],d=h.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),h=d.pop()),h){var f=h.match(/^\d+/);f&&(h=f[0])}return dt({host:a,pass:o,path:l,projectId:h,port:u,protocol:r,publicKey:i})}(t):dt(t);return function(t){if(ut.h){var e=t.port,n=t.projectId,r=t.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new ct("Invalid Sentry Dsn: "+e+" missing")})),!n.match(/^\d+$/))throw new ct("Invalid Sentry Dsn: Invalid projectId "+n);if(!function(t){return"http"===t||"https"===t}(r))throw new ct("Invalid Sentry Dsn: Invalid protocol "+r);if(e&&isNaN(parseInt(e,10)))throw new ct("Invalid Sentry Dsn: Invalid port "+e)}}(e),e}!function(){function t(t,e,n){void 0===e&&(e={}),this.dsn=t,this._dsnObject=ft(t),this.metadata=e,this._tunnel=n}t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){return mt(this._dsnObject)},t.prototype.getStoreEndpoint=function(){return yt(this._dsnObject)},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return _t(this._dsnObject)},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return bt(this._dsnObject,this._tunnel)}}();function pt(t,e,n){return{initDsn:t,metadata:e||{},dsn:ft(t),tunnel:n}}function mt(t){var e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"}function gt(t,e){return""+mt(t)+t.projectId+"/"+e+"/"}function vt(t){return(0,a._j)({sentry_key:t.publicKey,sentry_version:"7"})}function yt(t){return gt(t,"store")}function _t(t){return yt(t)+"?"+vt(t)}function bt(t,e){return e||function(t){return gt(t,"envelope")}(t)+"?"+vt(t)}var wt=(0,C.R)(),Ct=0;function Et(){return Ct>0}function Tt(){Ct+=1,setTimeout((function(){Ct-=1}))}function St(t,e,n){if(void 0===e&&(e={}),"function"!==typeof t)return t;try{var r=t.__sentry_wrapped__;if(r)return r;if((0,a.HK)(t))return t}catch(c){return t}var i=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(t){return St(t,e)}));return t.apply(this,i)}catch(s){throw Tt(),ot((function(t){t.addEventProcessor((function(t){return e.mechanism&&((0,p.Db)(t,void 0,void 0),(0,p.EG)(t,e.mechanism)),t.extra=(0,o.pi)((0,o.pi)({},t.extra),{arguments:r}),t})),st(s)})),s}};try{for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}catch(u){}(0,a.$Q)(i,t),(0,a.xp)(t,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch(u){}return i}function It(t){if(void 0===t&&(t={}),wt.document)if(t.eventId)if(t.dsn){var e=wt.document.createElement("script");e.async=!0,e.src=function(t,e){var n=ft(t),r=mt(n)+"embed/error-page/",i="dsn="+ht(n);for(var s in e)if("dsn"!==s)if("user"===s){if(!e.user)continue;e.user.name&&(i+="&name="+encodeURIComponent(e.user.name)),e.user.email&&(i+="&email="+encodeURIComponent(e.user.email))}else i+="&"+encodeURIComponent(s)+"="+encodeURIComponent(e[s]);return r+"?"+i}(t.dsn,t),t.onLoad&&(e.onload=t.onLoad);var n=wt.document.head||wt.document.body;n&&n.appendChild(e)}else et&&f.kg.error("Missing dsn option in showReportDialog call");else et&&f.kg.error("Missing eventId option in showReportDialog call")}var xt=function(){function t(e){this.name=t.id,this._installFunc={onerror:kt,onunhandledrejection:At},this._options=(0,o.pi)({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50;var t,e=this._options;for(var n in e){var r=this._installFunc[n];r&&e[n]&&(t=n,et&&f.kg.log("Global Handler attached: "+t),r(),this._installFunc[n]=void 0)}},t.id="GlobalHandlers",t}();function kt(){(0,T.o)("error",(function(t){var e=(0,o.CR)(Ot(),2),n=e[0],r=e[1];if(n.getIntegration(xt)){var i=t.msg,s=t.url,a=t.line,c=t.column,u=t.error;if(!(Et()||u&&u.__sentry_own_request__)){var l=void 0===u&&(0,S.HD)(i)?function(t,e,n,r){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,s=(0,S.VW)(t)?t.message:t,o="Error",a=s.match(i);a&&(o=a[1],s=a[2]);return Rt({exception:{values:[{type:o,value:s}]}},e,n,r)}(i,s,a,c):Rt(Q(u||i,void 0,r,!1),s,a,c);l.level=w.Error,Dt(n,u,l,"onerror")}}}))}function At(){(0,T.o)("unhandledrejection",(function(t){var e=(0,o.CR)(Ot(),2),n=e[0],r=e[1];if(n.getIntegration(xt)){var i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch(a){}if(Et()||i&&i.__sentry_own_request__)return!0;var s=(0,S.pt)(i)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i)}]}}:Q(i,void 0,r,!0);s.level=w.Error,Dt(n,i,s,"onunhandledrejection")}}))}function Rt(t,e,n,r){var i=t.exception=t.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,h=(0,S.HD)(e)&&e.length>0?e:(0,I.l)();return 0===c.length&&c.push({colno:u,filename:h,function:"?",in_app:!0,lineno:l}),t}function Dt(t,e,n,r){(0,p.EG)(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function Ot(){var t=(0,E.Gd)(),e=t.getClient();return[t,e&&e.getOptions().attachStacktrace]}var Lt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Nt=function(){function t(e){this.name=t.id,this._options=(0,o.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=(0,C.R)();this._options.setTimeout&&(0,a.hl)(t,"setTimeout",Pt),this._options.setInterval&&(0,a.hl)(t,"setInterval",Pt),this._options.requestAnimationFrame&&(0,a.hl)(t,"requestAnimationFrame",Mt),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,a.hl)(XMLHttpRequest.prototype,"send",Ft);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:Lt).forEach(jt)},t.id="TryCatch",t}();function Pt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=St(r,{mechanism:{data:{function:(0,k.$P)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function Mt(t){return function(e){return t.apply(this,[St(e,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,k.$P)(t)},handled:!0,type:"instrument"}})])}}function Ft(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(t){t in r&&"function"===typeof r[t]&&(0,a.hl)(r,t,(function(e){var n={mechanism:{data:{function:t,handler:(0,k.$P)(e)},handled:!0,type:"instrument"}},r=(0,a.HK)(e);return r&&(n.mechanism.data.handler=(0,k.$P)(r)),St(e,n)}))})),t.apply(this,e)}}function jt(t){var e=(0,C.R)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,a.hl)(n,"addEventListener",(function(e){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=St(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,k.$P)(r),target:t},handled:!0,type:"instrument"}}))}catch(s){}return e.apply(this,[n,St(r,{mechanism:{data:{function:"addEventListener",handler:(0,k.$P)(r),target:t},handled:!0,type:"instrument"}}),i])}})),(0,a.hl)(n,"removeEventListener",(function(t){return function(e,n,r){var i=n;try{var s=i&&i.__sentry_wrapped__;s&&t.call(this,e,s,r)}catch(o){}return t.call(this,e,i,r)}})))}var Ut=["fatal","error","warning","log","info","debug","critical"];function Bt(t){return"warn"===t?w.Warning:function(t){return-1!==Ut.indexOf(t)}(t)?t:w.Log}var Vt=function(){function t(e){this.name=t.id,this._options=(0,o.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&(0,E.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,p.jH)(t)},{event:t})},t.prototype.setupOnce=function(){this._options.console&&(0,T.o)("console",Ht),this._options.dom&&(0,T.o)("dom",function(t){function e(e){var n,r="object"===typeof t?t.serializeAttribute:void 0;"string"===typeof r&&(r=[r]);try{n=e.event.target?(0,I.R)(e.event.target,r):(0,I.R)(e.event,r)}catch(i){n="<unknown>"}0!==n.length&&(0,E.Gd)().addBreadcrumb({category:"ui."+e.name,message:n},{event:e.event,name:e.name,global:e.global})}return e}(this._options.dom)),this._options.xhr&&(0,T.o)("xhr",zt),this._options.fetch&&(0,T.o)("fetch",qt),this._options.history&&(0,T.o)("history",$t)},t.id="Breadcrumbs",t}();function Ht(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Bt(t.level),message:(0,m.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+((0,m.nK)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}(0,E.Gd)().addBreadcrumb(e,{input:t.args,level:t.level})}function zt(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,i=e.status_code,s=e.body;(0,E.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:s})}else;}function qt(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?(0,E.Gd)().addBreadcrumb({category:"fetch",data:t.fetchData,level:w.Error,type:"http"},{data:t.error,input:t.args}):(0,E.Gd)().addBreadcrumb({category:"fetch",data:(0,o.pi)((0,o.pi)({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))}function $t(t){var e=(0,C.R)(),n=t.from,r=t.to,i=(0,p.en)(e.location.href),s=(0,p.en)(n),o=(0,p.en)(r);s.path||(s=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),(0,E.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var Gt=n(1684),Wt=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){(0,Gt.c)((function(e,n){var r=(0,E.Gd)().getIntegration(t);return r?function(t,e,n,r){if(!n.exception||!n.exception.values||!r||!(0,S.V9)(r.originalException,Error))return n;var i=Zt(e,r.originalException,t);return n.exception.values=(0,o.fl)(i,n.exception.values),n}(r._key,r._limit,e,n):e}))},t.id="LinkedErrors",t}();function Zt(t,e,n,r){if(void 0===r&&(r=[]),!(0,S.V9)(e[n],Error)||r.length+1>=t)return r;var i=Z(e[n]);return Zt(t,e[n],n,(0,o.fl)([i],r))}var Kt=(0,C.R)(),Xt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){(0,Gt.c)((function(e){if((0,E.Gd)().getIntegration(t)){if(!Kt.navigator&&!Kt.location&&!Kt.document)return e;var n=e.request&&e.request.url||Kt.location&&Kt.location.href,r=(Kt.document||{}).referrer,i=(Kt.navigator||{}).userAgent,s=(0,o.pi)((0,o.pi)((0,o.pi)({},e.request&&e.request.headers),r&&{Referer:r}),i&&{"User-Agent":i}),a=(0,o.pi)((0,o.pi)({},n&&{url:n}),{headers:s});return(0,o.pi)((0,o.pi)({},e),{request:a})}return e}))},t.id="UserAgent",t}(),Jt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var r=n().getIntegration(t);if(r){try{if(function(t,e){if(!e)return!1;if(function(t,e){var n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Qt(t,e))return!1;if(!Yt(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){var n=te(e),r=te(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Qt(t,e))return!1;if(!Yt(t,e))return!1;return!0}(t,e))return!0;return!1}(e,r._previousEvent))return et&&f.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(i){return r._previousEvent=e}return r._previousEvent=e}return e}))},t.id="Dedupe",t}();function Yt(t,e){var n=ee(t),r=ee(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function Qt(t,e){var n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function te(t){return t.exception&&t.exception.values&&t.exception.values[0]}function ee(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(n){return}else if(t.stacktrace)return t.stacktrace.frames}var ne={},re=(0,C.R)();re.Sentry&&re.Sentry.Integrations&&(ne=re.Sentry.Integrations);var ie=(0,o.pi)((0,o.pi)((0,o.pi)({},ne),r),i),se="6.19.7";var oe=n(7790),ae=[];function ce(t){return t.reduce((function(t,e){return t.every((function(t){return e.name!==t.name}))&&t.push(e),t}),[])}function ue(t){var e={};return function(t){var e=t.defaultIntegrations&&d(t.defaultIntegrations)||[],n=t.integrations,r=d(ce(e));Array.isArray(n)?r=d(r.filter((function(t){return n.every((function(e){return e.name!==t.name}))})),ce(n)):"function"===typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map((function(t){return t.name})),s="Debug";return-1!==i.indexOf(s)&&r.push.apply(r,d(r.splice(i.indexOf(s),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===ae.indexOf(t.name)&&(t.setupOnce(Gt.c,E.Gd),ae.push(t.name),g&&f.kg.log("Integration installed: "+t.name))}(t)})),(0,a.xp)(e,"initialized",!0),e}var le="Not capturing exception because it's already been captured.",he=function(){function t(t,e){this._integrations={},this._numProcessing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=ft(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this;if(!(0,p.YO)(t)){var i=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){i=t}))),i}g&&f.kg.log(le)},t.prototype.captureMessage=function(t,e,n,r){var i=this,s=n&&n.event_id,o=(0,S.pt)(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(o.then((function(t){return i._captureEvent(t,n,r)})).then((function(t){s=t}))),s},t.prototype.captureEvent=function(t,e,n){if(!(e&&e.originalException&&(0,p.YO)(e.originalException))){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r}g&&f.kg.log(le)},t.prototype.captureSession=function(t){this._isEnabled()?"string"!==typeof t.release?g&&f.kg.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1})):g&&f.kg.warn("SDK not enabled, will not capture session.")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.getTransport=function(){return this._getBackend().getTransport()},t.prototype.flush=function(t){var e=this;return this._isClientDoneProcessing(t).then((function(n){return e.getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=ue(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return g&&f.kg.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,i=!1,s=!1,o=e.exception&&e.exception.values;if(o){s=!0;try{for(var a=l(o),c=a.next();!c.done;c=a.next()){var h=c.value.mechanism;if(h&&!1===h.handled){i=!0;break}}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}var d="ok"===t.status;(d&&0===t.errors||d&&i)&&(t.update(u(u({},i&&{status:"crashed"}),{errors:t.errors||Number(s||i)})),this.captureSession(t))},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientDoneProcessing=function(t){var e=this;return new O.cW((function(n){var r=0,i=setInterval((function(){0==e._numProcessing?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions(),s=i.normalizeDepth,o=void 0===s?3:s,a=i.normalizeMaxBreadth,c=void 0===a?1e3:a,l=u(u({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,p.DM)()),timestamp:t.timestamp||(0,oe.yW)()});this._applyClientOptions(l),this._applyIntegrationsMetadata(l);var h=e;n&&n.captureContext&&(h=Gt.s.clone(h).update(n.captureContext));var d=(0,O.WD)(l);return h&&(d=h.applyToEvent(l,n)),d.then((function(t){return t&&(t.sdkProcessingMetadata=u(u({},t.sdkProcessingMetadata),{normalizeDepth:A(o)+" ("+typeof o+")"})),"number"===typeof o&&o>0?r._normalizeEvent(t,o,c):t}))},t.prototype._normalizeEvent=function(t,e,n){if(!t)return null;var r=u(u(u(u(u({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return u(u({},t),t.data&&{data:A(t.data,e,n)})}))}),t.user&&{user:A(t.user,e,n)}),t.contexts&&{contexts:A(t.contexts,e,n)}),t.extra&&{extra:A(t.extra,e,n)});return t.contexts&&t.contexts.trace&&(r.contexts.trace=t.contexts.trace),r.sdkProcessingMetadata=u(u({},r.sdkProcessingMetadata),{baseClientNormalized:!0}),r},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,i=e.dist,s=e.maxValueLength,o=void 0===s?250:s;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=(0,m.$G)(t.message,o));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=(0,m.$G)(a.value,o));var c=t.request;c&&c.url&&(c.url=(0,m.$G)(c.url,o))},t.prototype._applyIntegrationsMetadata=function(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=d(t.sdk.integrations||[],e))},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){g&&f.kg.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),s=i.beforeSend,o=i.sampleRate,a=this.getTransport();function c(t,e){a.recordLostEvent&&a.recordLostEvent(t,e)}if(!this._isEnabled())return(0,O.$2)(new ct("SDK not enabled, will not capture event."));var u="transaction"===t.type;return!u&&"number"===typeof o&&Math.random()>o?(c("sample_rate","event"),(0,O.$2)(new ct("Discarding event because it's not included in the random sample (sampling rate = "+o+")"))):this._prepareEvent(t,n,e).then((function(n){if(null===n)throw c("event_processor",t.type||"event"),new ct("An event processor returned null, will not send event.");return e&&e.data&&!0===e.data.__sentry__||u||!s?n:function(t){var e="`beforeSend` method has to return `null` or a valid event.";if((0,S.J8)(t))return t.then((function(t){if(!(0,S.PO)(t)&&null!==t)throw new ct(e);return t}),(function(t){throw new ct("beforeSend rejected with "+t)}));if(!(0,S.PO)(t)&&null!==t)throw new ct(e);return t}(s(n,e))})).then((function(e){if(null===e)throw c("before_send",t.type||"event"),new ct("`beforeSend` returned `null`, will not send event.");var i=n&&n.getSession&&n.getSession();return!u&&i&&r._updateSessionFromEvent(i,e),r._sendEvent(e),e})).then(null,(function(t){if(t instanceof ct)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new ct("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._numProcessing+=1,t.then((function(t){return e._numProcessing-=1,t}),(function(t){return e._numProcessing-=1,t}))},t}();function de(t,e){return void 0===e&&(e=[]),[t,e]}function fe(t){var e=(0,x.CR)(t,2),n=e[0],r=e[1],i=JSON.stringify(n);return r.reduce((function(t,e){var n=(0,x.CR)(e,2),r=n[0],i=n[1],s=(0,S.pt)(i)?String(i):JSON.stringify(i);return t+"\n"+JSON.stringify(r)+"\n"+s}),i)}function pe(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function me(t,e){return e?(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=d(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=d(t.sdk.packages||[],e.packages||[]),t):t}function ge(t,e){var n=pe(e),r="aggregates"in t?"sessions":"session";return[de(u(u({sent_at:(new Date).toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:ht(e.dsn)}),[[{type:r},t]]),r]}var ve=function(){function t(){}return t.prototype.sendEvent=function(t){return(0,O.WD)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},t.prototype.close=function(t){return(0,O.WD)(!0)},t}(),ye=function(){function t(t){this._options=t,this._options.dsn||g&&f.kg.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new ct("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new ct("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=function(t,e){var n=pe(e),r=t.type||"event",i=(t.sdkProcessingMetadata||{}).transactionSampling||{},s=i.method,o=i.rate;return me(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata,de(u(u({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:ht(e.dsn)}),[[{type:r,sample_rates:[{id:s,rate:o}]},t]])}(t,pt(this._options.dsn,this._options._metadata,this._options.tunnel));this._newTransport.send(e).then(null,(function(t){g&&f.kg.error("Error while sending event:",t)}))}else this._transport.sendEvent(t).then(null,(function(t){g&&f.kg.error("Error while sending event:",t)}))},t.prototype.sendSession=function(t){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=h(ge(t,pt(this._options.dsn,this._options._metadata,this._options.tunnel)),1)[0];this._newTransport.send(e).then(null,(function(t){g&&f.kg.error("Error while sending session:",t)}))}else this._transport.sendSession(t).then(null,(function(t){g&&f.kg.error("Error while sending session:",t)}));else g&&f.kg.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new ve},t}(),_e=n(9798);function be(t){var e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return(0,O.$2)(new ct("Not adding Promise due to buffer limit reached."));var i=r();return-1===e.indexOf(i)&&e.push(i),i.then((function(){return n(i)})).then(null,(function(){return n(i).then(null,(function(){}))})),i},drain:function(t){return new O.cW((function(n,r){var i=e.length;if(!i)return n(!0);var s=setTimeout((function(){t&&t>0&&n(!1)}),t);e.forEach((function(t){(0,O.WD)(t).then((function(){--i||(clearTimeout(s),n(!0))}),r)}))}))}}}function we(t,e){return t[e]||t.all||0}function Ce(t,e,n){return void 0===n&&(n=Date.now()),we(t,e)>n}function Ee(t,e,n){var r,i,s,o;void 0===n&&(n=Date.now());var a=(0,x.pi)({},t),c=e["x-sentry-rate-limits"],u=e["retry-after"];if(c)try{for(var l=(0,x.XA)(c.trim().split(",")),h=l.next();!h.done;h=l.next()){var d=h.value.split(":",2),f=parseInt(d[0],10),p=1e3*(isNaN(f)?60:f);if(d[1])try{for(var m=(s=void 0,(0,x.XA)(d[1].split(";"))),g=m.next();!g.done;g=m.next()){a[g.value]=n+p}}catch(v){s={error:v}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}else a.all=n+p}}catch(y){r={error:y}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}else u&&(a.all=n+function(t,e){void 0===e&&(e=Date.now());var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}(u,n));return a}function Te(t){return t>=200&&t<300?"success":429===t?"rate_limit":t>=400&&t<500?"invalid":t>=500?"failed":"unknown"}function Se(t,e,n){void 0===n&&(n=be(t.bufferSize||30));var r={};return{send:function(t){var i=function(t){var e=(0,x.CR)(t,2),n=(0,x.CR)(e[1],1);return(0,x.CR)(n[0],1)[0].type}(t),s="event"===i?"error":i,o={category:s,body:fe(t)};return Ce(r,s)?(0,O.$2)({status:"rate_limit",reason:Ie(r,s)}):n.add((function(){return e(o).then((function(t){var e=t.body,n=t.headers,i=t.reason,o=Te(t.statusCode);return n&&(r=Ee(r,n)),"success"===o?(0,O.WD)({status:o,reason:i}):(0,O.$2)({status:o,reason:i||e||("rate_limit"===o?Ie(r,s):"Unknown transport error")})}))}))},flush:function(t){return n.drain(t)}}}function Ie(t,e){return"Too many "+e+" requests, backing off until: "+new Date(we(t,e)).toISOString()}var xe,ke=(0,C.R)();function Ae(){if(xe)return xe;if((0,_e.Du)(ke.fetch))return xe=ke.fetch.bind(ke);var t=ke.document,e=ke.fetch;if(t&&"function"===typeof t.createElement)try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(i){et&&f.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return xe=e.bind(ke)}function Re(t,e){if("[object Navigator]"===Object.prototype.toString.call(ke&&ke.navigator)&&"function"===typeof ke.navigator.sendBeacon)return ke.navigator.sendBeacon.bind(ke.navigator)(t,e);if((0,_e.Ak)()){var n=Ae();n(t,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(t){console.error(t)}))}else;}function De(t){return"event"===t?"error":t}var Oe=(0,C.R)(),Le=function(){function t(t){var e=this;this.options=t,this._buffer=be(30),this._rateLimits={},this._outcomes={},this._api=pt(t.dsn,t._metadata,t.tunnel),this.url=_t(this._api.dsn),this.options.sendClientReports&&Oe.document&&Oe.document.addEventListener("visibilitychange",(function(){"hidden"===Oe.document.visibilityState&&e._flushOutcomes()}))}return t.prototype.sendEvent=function(t){return this._sendRequest(function(t,e){var n,r=pe(e),i=t.type||"event",s="transaction"===i||!!e.tunnel,o=(t.sdkProcessingMetadata||{}).transactionSampling||{},a=o.method,c=o.rate;me(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;try{n=JSON.stringify(t)}catch(f){t.tags.JSONStringifyError=!0,t.extra.JSONStringifyError=f;try{n=JSON.stringify(A(t))}catch(p){var l=p;n=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:l.message,stack:l.stack}})}}var h={body:n,type:i,url:s?bt(e.dsn,e.tunnel):_t(e.dsn)};if(s){var d=de(u(u({event_id:t.event_id,sent_at:(new Date).toISOString()},r&&{sdk:r}),!!e.tunnel&&{dsn:ht(e.dsn)}),[[{type:i,sample_rates:[{id:a,rate:c}]},h.body]]);h.body=fe(d)}return h}(t,this._api),t)},t.prototype.sendSession=function(t){return this._sendRequest(function(t,e){var n=h(ge(t,e),2),r=n[0],i=n[1];return{body:fe(r),type:i,url:bt(e.dsn,e.tunnel)}}(t,this._api),t)},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype.recordLostEvent=function(t,e){var n;if(this.options.sendClientReports){var r=De(e)+":"+t;et&&f.kg.log("Adding outcome: "+r),this._outcomes[r]=(null!==(n=this._outcomes[r])&&void 0!==n?n:0)+1}},t.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var t=this._outcomes;if(this._outcomes={},Object.keys(t).length){et&&f.kg.log("Flushing outcomes:\n"+JSON.stringify(t,null,2));var e,n,r,i=bt(this._api.dsn,this._api.tunnel),s=Object.keys(t).map((function(e){var n=(0,o.CR)(e.split(":"),2),r=n[0];return{reason:n[1],category:r,quantity:t[e]}})),a=(e=s,de((n=this._api.tunnel&&ht(this._api.dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:r||(0,oe.yW)(),discarded_events:e}]]));try{Re(i,fe(a))}catch(c){et&&f.kg.error(c)}}else et&&f.kg.log("No outcomes to flush")}},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,i=t.resolve,s=t.reject,o=Te(n.status);this._rateLimits=Ee(this._rateLimits,r),this._isRateLimited(e)&&et&&f.kg.warn("Too many "+e+" requests, backing off until: "+this._disabledUntil(e)),"success"!==o?s(n):i({status:o})},t.prototype._disabledUntil=function(t){var e=De(t);return new Date(we(this._rateLimits,e))},t.prototype._isRateLimited=function(t){var e=De(t);return Ce(this._rateLimits,e)},t}(),Ne=function(t){function e(e,n){void 0===n&&(n=Ae());var r=t.call(this,e)||this;return r._fetch=n,r}return(0,o.ZT)(e,t),e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:(0,_e.hv)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add((function(){return new O.cW((function(e,i){n._fetch(t.url,r).then((function(r){var s={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:s,resolve:e,reject:i})})).catch(i)}))})).then(void 0,(function(e){throw e instanceof ct?n.recordLostEvent("queue_overflow",t.type):n.recordLostEvent("network_error",t.type),e}))},e}(Le);var Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.ZT)(e,t),e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?(this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new O.cW((function(e,r){var i=new XMLHttpRequest;for(var s in i.onreadystatechange=function(){if(4===i.readyState){var s={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:s,resolve:e,reject:r})}},i.open("POST",t.url),n.options.headers)Object.prototype.hasOwnProperty.call(n.options.headers,s)&&i.setRequestHeader(s,n.options.headers[s]);i.send(t.body)}))})).then(void 0,(function(e){throw e instanceof ct?n.recordLostEvent("queue_overflow",t.type):n.recordLostEvent("network_error",t.type),e}))},e}(Le),Me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.ZT)(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=Q(t,e&&e.syntheticException||void 0,n);return(0,p.EG)(r),r.level=w.Error,e&&e.event_id&&(r.event_id=e.event_id),(0,O.WD)(r)}(t,e,this._options.attachStacktrace)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=w.Info),function(t,e,n,r){void 0===e&&(e=w.Info);var i=tt(t,n&&n.syntheticException||void 0,r);return i.level=e,n&&n.event_id&&(i.event_id=n.event_id),(0,O.WD)(i)}(t,e,n,this._options.attachStacktrace)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e,n,r=(0,o.pi)((0,o.pi)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),i=pt(r.dsn,r._metadata,r.tunnel),s=bt(i.dsn,i.tunnel);if(this._options.transport)return new this._options.transport(r);if((0,_e.Ak)()){var a=(0,o.pi)({},r.fetchParameters);return this._newTransport=(e={requestOptions:a,url:s},void 0===n&&(n=Ae()),Se({bufferSize:e.bufferSize},(function(t){var r=(0,o.pi)({body:t.body,method:"POST",referrerPolicy:"origin"},e.requestOptions);return n(e.url,r).then((function(t){return t.text().then((function(e){return{body:e,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")},reason:t.statusText,statusCode:t.status}}))}))}))),new Ne(r)}return this._newTransport=function(t){return Se({bufferSize:t.bufferSize},(function(e){return new O.cW((function(n,r){var i=new XMLHttpRequest;for(var s in i.onreadystatechange=function(){if(4===i.readyState){var t={body:i.response,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")},reason:i.statusText,statusCode:i.status};n(t)}},i.open("POST",t.url),t.headers)Object.prototype.hasOwnProperty.call(t.headers,s)&&i.setRequestHeader(s,t.headers[s]);i.send(e.body)}))}))}({url:s,headers:r.headers}),new Pe(r)},e}(ye),Fe=function(t){function e(e){void 0===e&&(e={});return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:se}],version:se},t.call(this,Me,e)||this}return(0,o.ZT)(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),(0,C.R)().document&&(this._isEnabled()?It((0,o.pi)((0,o.pi)({},t),{dsn:t.dsn||this.getDsn()})):et&&f.kg.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(Vt);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(he),je=[new y,new c,new Nt,new Vt,new xt,new Wt,new Jt,new Xt];function Ue(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=je),void 0===t.release){var e=(0,C.R)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0),function(t,e){!0===e.debug&&(g?f.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=(0,E.Gd)(),r=n.getScope();r&&r.update(e.initialScope);var i=new t(e);n.bindClient(i)}(Fe,t),t.autoSessionTracking&&function(){if("undefined"===typeof(0,C.R)().document)return void(et&&f.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var t=(0,E.Gd)();if(!t.captureSession)return;Be(t),(0,T.o)("history",(function(t){var e=t.from,n=t.to;void 0!==e&&e!==n&&Be((0,E.Gd)())}))}()}function Be(t){t.startSession({ignoreDuration:!0}),t.captureSession()}var Ve=n(2252),He=n(4741),ze=n(1177),qe=n(1265),$e=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");var Ge=n(7734),We=(0,C.R)();var Ze=n(4266),Ke=function(t,e,n){var r;return function(i){e.value>=0&&(i||n)&&(e.delta=e.value-(r||0),(e.delta||void 0===r)&&(r=e.value,t(e)))}},Xe=function(t,e){return{name:t,value:null!==e&&void 0!==e?e:-1,delta:0,entries:[],id:"v2-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)}},Je=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(r){}},Ye=function(t,e){var n=function(r){"pagehide"!==r.type&&"hidden"!==(0,C.R)().document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Qe=-1,tn=function(){return Qe<0&&(Qe="hidden"===(0,C.R)().document.visibilityState?0:1/0,Ye((function(t){var e=t.timeStamp;Qe=e}),!0)),{get firstHiddenTime(){return Qe}}},en={},nn=(0,C.R)(),rn=function(){function t(t){void 0===t&&(t=!1),this._reportAllChanges=t,this._measurements={},this._performanceCursor=0,!(0,Ze.KV)()&&nn&&nn.performance&&nn.document&&(nn.performance.mark&&nn.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(nn&&nn.performance&&nn.performance.getEntries&&oe.Z1){He.h&&f.kg.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i=(0,qe.XL)(oe.Z1);if(nn.performance.getEntries().slice(this._performanceCursor).forEach((function(s){var o=(0,qe.XL)(s.startTime),a=(0,qe.XL)(s.duration);if(!("navigation"===t.op&&i+o<t.startTimestamp))switch(s.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){sn(t,e,r,n)})),sn(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),sn(t,e,"fetch",n,"cache","domainLookupStart"),sn(t,e,"domainLookup",n,"DNS"),function(t,e,n){on(t,{op:"browser",description:"request",startTimestamp:n+(0,qe.XL)(e.requestStart),endTimestamp:n+(0,qe.XL)(e.responseEnd)}),on(t,{op:"browser",description:"response",startTimestamp:n+(0,qe.XL)(e.responseStart),endTimestamp:n+(0,qe.XL)(e.responseEnd)})}(t,e,n)}(t,s,i),n=i+(0,qe.XL)(s.responseStart),r=i+(0,qe.XL)(s.requestStart);break;case"mark":case"paint":case"measure":var c=function(t,e,n,r,i){var s=i+n,o=s+r;return on(t,{description:e.name,endTimestamp:o,op:e.entryType,startTimestamp:s}),s}(t,s,o,a,i),u=tn(),l=s.startTime<u.firstHiddenTime;"first-paint"===s.name&&l&&(He.h&&f.kg.log("[Measurements] Adding FP"),e._measurements.fp={value:s.startTime},e._measurements["mark.fp"]={value:c}),"first-contentful-paint"===s.name&&l&&(He.h&&f.kg.log("[Measurements] Adding FCP"),e._measurements.fcp={value:s.startTime},e._measurements["mark.fcp"]={value:c});break;case"resource":var h=s.name.replace(nn.location.origin,"");!function(t,e,n,r,i,s){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize);var a=s+r;on(t,{description:n,endTimestamp:a+i,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:a,data:o})}(t,s,h,o,a,i)}})),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var s=(0,qe.XL)(oe.Z1);"number"===typeof n&&(He.h&&f.kg.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(n-t.startTimestamp)},"number"===typeof r&&r<=n&&(this._measurements["ttfb.requestTime"]={value:1e3*(n-r)})),["fcp","fp","lcp"].forEach((function(n){if(e._measurements[n]&&!(s>=t.startTimestamp)){var r=e._measurements[n].value,i=s+(0,qe.XL)(r),o=Math.abs(1e3*(i-t.startTimestamp)),a=o-r;He.h&&f.kg.log("[Measurements] Normalized "+n+" from "+r+" to "+o+" ("+a+")"),e._measurements[n].value=o}})),this._measurements["mark.fid"]&&this._measurements.fid&&on(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,qe.XL)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),function(t,e,n){e&&(He.h&&f.kg.log("[Measurements] Adding LCP Data"),e.element&&t.setTag("lcp.element",(0,I.R)(e.element)),e.id&&t.setTag("lcp.id",e.id),e.url&&t.setTag("lcp.url",e.url.trim().slice(0,200)),t.setTag("lcp.size",e.size));n&&n.sources&&(He.h&&f.kg.log("[Measurements] Adding CLS Data"),n.sources.forEach((function(e,n){return t.setTag("cls.source."+(n+1),(0,I.R)(e.node))})))}(t,this._lcpEntry,this._clsEntry),t.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},t.prototype._trackNavigator=function(t){var e=nn.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),an(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),an(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),an(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),an(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackCLS=function(){var t=this;!function(t,e){var n,r=Xe("CLS",0),i=0,s=[],o=function(t){if(t&&!t.hadRecentInput){var e=s[0],o=s[s.length-1];i&&0!==s.length&&t.startTime-o.startTime<1e3&&t.startTime-e.startTime<5e3?(i+=t.value,s.push(t)):(i=t.value,s=[t]),i>r.value&&(r.value=i,r.entries=s,n&&n())}},a=Je("layout-shift",o);a&&(n=Ke(t,r,e),Ye((function(){a.takeRecords().map(o),n(!0)})))}((function(e){var n=e.entries.pop();n&&(He.h&&f.kg.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value},t._clsEntry=n)}))},t.prototype._trackLCP=function(){var t=this;!function(t,e){var n,r=tn(),i=Xe("LCP"),s=function(t){var e=t.startTime;e<r.firstHiddenTime&&(i.value=e,i.entries.push(t)),n&&n()},o=Je("largest-contentful-paint",s);if(o){n=Ke(t,i,e);var a=function(){en[i.id]||(o.takeRecords().map(s),o.disconnect(),en[i.id]=!0,n(!0))};["keydown","click"].forEach((function(t){addEventListener(t,a,{once:!0,capture:!0})})),Ye(a,!0)}}((function(e){var n=e.entries.pop();if(n){var r=(0,qe.XL)(oe.Z1),i=(0,qe.XL)(n.startTime);He.h&&f.kg.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+i},t._lcpEntry=n}}),this._reportAllChanges)},t.prototype._trackFID=function(){var t=this;!function(t,e){var n,r=tn(),i=Xe("FID"),s=function(t){n&&t.startTime<r.firstHiddenTime&&(i.value=t.processingStart-t.startTime,i.entries.push(t),n(!0))},o=Je("first-input",s);o&&(n=Ke(t,i,e),Ye((function(){o.takeRecords().map(s),o.disconnect()}),!0))}((function(e){var n=e.entries.pop();if(n){var r=(0,qe.XL)(oe.Z1),i=(0,qe.XL)(n.startTime);He.h&&f.kg.log("[Measurements] Adding FID"),t._measurements.fid={value:e.value},t._measurements["mark.fid"]={value:r+i}}}))},t}();function sn(t,e,n,r,i,s){var o=s?e[s]:e[n+"End"],a=e[n+"Start"];a&&o&&on(t,{op:"browser",description:null!==i&&void 0!==i?i:n,startTimestamp:r+(0,qe.XL)(a),endTimestamp:r+(0,qe.XL)(o)})}function on(t,e){var n=e.startTimestamp,r=(0,o._T)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild((0,o.pi)({startTimestamp:n},r))}function an(t){return"number"===typeof t&&isFinite(t)}var cn={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function un(t){var e=(0,o.pi)((0,o.pi)({},cn),t),n=e.traceFetch,r=e.traceXHR,i=e.tracingOrigins,s=e.shouldCreateSpanForRequest,a={},c=function(t){if(a[t])return a[t];var e=i;return a[t]=e.some((function(e){return(0,m.zC)(t,e)}))&&!(0,m.zC)(t,"sentry_key"),a[t]},u=c;"function"===typeof s&&(u=function(t){return c(t)&&s(t)});var l={};n&&(0,T.o)("fetch",(function(t){!function(t,e,n){if(!(0,qe.zu)()||!t.fetchData||!e(t.fetchData.url))return;if(t.endTimestamp){var r=t.fetchData.__span;if(!r)return;return void((s=n[r])&&(t.response?s.setHttpStatus(t.response.status):t.error&&s.setStatus("internal_error"),s.finish(),delete n[r]))}var i=(0,qe.x1)();if(i){var s=i.startChild({data:(0,o.pi)((0,o.pi)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http.client"});t.fetchData.__span=s.spanId,n[s.spanId]=s;var a=t.args[0]=t.args[0],c=t.args[1]=t.args[1]||{},u=c.headers;(0,S.V9)(a,Request)&&(u=a.headers),u?"function"===typeof u.append?u.append("sentry-trace",s.toTraceparent()):u=Array.isArray(u)?(0,o.fl)(u,[["sentry-trace",s.toTraceparent()]]):(0,o.pi)((0,o.pi)({},u),{"sentry-trace":s.toTraceparent()}):u={"sentry-trace":s.toTraceparent()},c.headers=u}}(t,u,l)})),r&&(0,T.o)("xhr",(function(t){!function(t,e,n){if(!(0,qe.zu)()||t.xhr&&t.xhr.__sentry_own_request__||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)))return;var r=t.xhr.__sentry_xhr__;if(t.endTimestamp){var i=t.xhr.__sentry_xhr_span_id__;if(!i)return;return void((a=n[i])&&(a.setHttpStatus(r.status_code),a.finish(),delete n[i]))}var s=(0,qe.x1)();if(s){var a=s.startChild({data:(0,o.pi)((0,o.pi)({},r.data),{type:"xhr",method:r.method,url:r.url}),description:r.method+" "+r.url,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,n[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(c){}}}(t,u,l)}))}var ln=(0,C.R)();var hn=(0,o.pi)({idleTimeout:ze.nT,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),ln&&ln.location){var r,i=ln.location.href;e&&(r=t({name:ln.location.pathname,op:"pageload"})),n&&(0,T.o)("history",(function(e){var n=e.to,s=e.from;void 0===s&&i&&-1!==i.indexOf(n)?i=void 0:s!==n&&(i=void 0,r&&(He.h&&f.kg.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:ln.location.pathname,op:"navigation"}))}))}else He.h&&f.kg.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},cn),dn=function(){function t(e){this.name=t.id,this._configuredIdleTimeout=void 0;var n=cn.tracingOrigins;e&&(this._configuredIdleTimeout=e.idleTimeout,e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:He.h&&(this._emitOptionsWarning=!0)),this.options=(0,o.pi)((0,o.pi)((0,o.pi)({},hn),e),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new rn(r&&r._reportAllChanges)}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(He.h&&f.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),He.h&&f.kg.warn("[Tracing] We added a reasonable default for you: "+cn.tracingOrigins));var r=this.options,i=r.routingInstrumentation,s=r.startTransactionOnLocationChange,o=r.startTransactionOnPageLoad,a=r.markBackgroundTransactions,c=r.traceFetch,u=r.traceXHR,l=r.tracingOrigins,h=r.shouldCreateSpanForRequest;i((function(t){return n._createRouteTransaction(t)}),o,s),a&&(We&&We.document?We.document.addEventListener("visibilitychange",(function(){var t=(0,qe.x1)();if(We.document.hidden&&t){var e="cancelled";He.h&&f.kg.log("[Tracing] Transaction: cancelled -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.setTag(Ge.d,Ge.x[2]),t.finish()}})):He.h&&f.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),un({traceFetch:c,traceXHR:u,tracingOrigins:l,shouldCreateSpanForRequest:h})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,s=n.maxTransactionDuration,a="pageload"===t.op?function(){var t=function(t){var e=(0,C.R)().document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}("sentry-trace");if(t)return function(t){var e=t.match($e);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(t);return}():void 0,c=(0,o.pi)((0,o.pi)((0,o.pi)({},t),a),{trimEnd:!0}),u="function"===typeof r?r(c):c,l=void 0===u?(0,o.pi)((0,o.pi)({},c),{sampled:!1}):u;!1===l.sampled&&He.h&&f.kg.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),He.h&&f.kg.log("[Tracing] Starting "+l.op+" transaction on scope");var h=this._getCurrentHub(),d=(0,C.R)().location,p=(0,Ve.lb)(h,l,i,!0,{location:d});return p.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus("deadline_exceeded"),e.setTag("maxTransactionDurationExceeded","true"))}((0,qe.WB)(s),t,n)})),p.setTag("idleTimeout",this._configuredIdleTimeout),p}He.h&&f.kg.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();(0,Ve.ro)();var fn=n(5632),pn=n.n(fn),mn=(0,C.R)(),gn={"routing.instrumentation":"next-router"},vn=void 0,yn=void 0,_n=void 0;function bn(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),_n=t,pn().ready((function(){if(e&&(yn=null!==pn().route?(0,p.rt)(pn().route):mn.location.pathname,vn=t({name:yn,op:"pageload",tags:gn})),n){var r=Object.getPrototypeOf(pn().router);(0,a.hl)(r,"changeState",wn)}}))}function wn(t){return function(e,n,r,i){for(var s=[],a=4;a<arguments.length;a++)s[a-4]=arguments[a];var c=(0,p.rt)(n);if(void 0!==_n&&yn!==c){vn&&vn.finish();var u=(0,o.pi)((0,o.pi)((0,o.pi)({},gn),{method:e}),i);yn&&(u.from=yn),vn=_n({name:yn=c,op:"navigation",tags:u})}return t.call.apply(t,(0,o.fl)([this,e,n,r,i],s))}}function Cn(t,e,n){var r=e.match(/([a-z]+)\.(.*)/i);null===r?t[e]=n:Cn(t[r[1]],r[2],n)}function En(t,e,n){return void 0===n&&(n={}),Array.isArray(e)?Tn(t,e,n):function(t,e,n){var r=function(r){var i=e(r);return Tn(t,i,n)};return r}(t,e,n)}function Tn(t,e,n){for(var r=!1,i=0;i<e.length;i++){e[i].name===t.name&&(r=!0);var s=n[e[i].name];s&&Cn(e[i],s.keyPath,s.value)}return r?e:(0,o.fl)(e,[t])}(0,o.pi)((0,o.pi)({},ie),{BrowserTracing:dn});var Sn=new dn({tracingOrigins:(0,o.fl)(cn.tracingOrigins,[/^(api\/)/]),routingInstrumentation:bn});var In=n(3542);!function(t){!function(t,e){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.nextjs",packages:e.map((function(t){return{name:"npm:@sentry/"+t,version:se}})),version:se}}(t,["nextjs","react"]),t.environment=t.environment||"production";var e=void 0===t.tracesSampleRate&&void 0===t.tracesSampler?t.integrations:function(t){return t?En(Sn,t,{BrowserTracing:{keyPath:"options.routingInstrumentation",value:bn}}):[Sn]}(t.integrations);!function(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:se}],version:se},Ue(t)}((0,o.pi)((0,o.pi)({},t),{integrations:e})),it("configureScope",(function(t){t.setTag("runtime","browser"),t.addEventProcessor((function(t){return"transaction"===t.type&&"/404"===t.transaction?null:t}))}))}({dsn:In.env.SENTRY_DSN||In.env.NEXT_PUBLIC_SENTRY_DSN||"https://0ea8c10c315f41fb946c2f2b112963ca@o235797.ingest.sentry.io/5896987",tracesSampleRate:.3})},3029:function(t,e,n){"use strict";n.d(e,{k:function(){return d}});var r,i,s,o,a=n(7842),c=n(2322),u=n(7500),l=(r={},(0,a.Z)(r,u.BattleStatuses.UPCOMING,"pill--warning"),(0,a.Z)(r,u.BattleStatuses.ONGOING,"pill--success"),(0,a.Z)(r,u.BattleStatuses.FINISHED,"pill--danger"),r),h=(i={},(0,a.Z)(i,u.BattleStatuses.UPCOMING,"#feda44"),(0,a.Z)(i,u.BattleStatuses.ONGOING,"#46d158"),(0,a.Z)(i,u.BattleStatuses.FINISHED,"#a3483d"),s={},(0,a.Z)(s,u.BattleStatuses.UPCOMING,"#000"),(0,a.Z)(s,u.BattleStatuses.ONGOING,"#000"),(0,a.Z)(s,u.BattleStatuses.FINISHED,"#fff"),o={},(0,a.Z)(o,u.BattleStatuses.UPCOMING,"Upcoming"),(0,a.Z)(o,u.BattleStatuses.ONGOING,"Ongoing"),(0,a.Z)(o,u.BattleStatuses.FINISHED,"Finished"),o);function d(t){var e=t.status,n=t.minimal;return(0,c.jsx)("div",{className:"pill\n      ".concat(l[e],"\n      \n      ").concat(n?"battle-status--minimal hint--right":""),"aria-label":n?h[e]:"",children:n?"":h[e]})}},1251:function(t,e,n){"use strict";n.d(e,{qE:function(){return g},F$:function(){return m},xu:function(){return E},hE:function(){return w},XZ:function(){return b},e9:function(){return C},dy:function(){return S},II:function(){return _},bN:function(){return T},Rj:function(){return y},Z0:function(){return I}});var r=n(865),i=n(6670),s=n(6297),o=n(2322),a=n(2784),c=n(9097),u=n.n(c),l=n(3552),h=n(8329),d=n(9241);function f(t){var e=t.gap,n=void 0===e?"1rem":e,r=t.align,i=void 0===r?"center":r,s=t.justify,a=void 0===s?"flex-start":s,c=t.children;return(0,o.jsx)("div",{style:{display:"flex",gap:n,alignItems:i,justifyContent:a},children:c})}var p=n(9604);function m(t){var e=t.url,n=t.userId,c=t.username,u=t.size,d=void 0===u?24:u,f=t.small,p=t.isPro,m=(0,s.Z)(t,["url","userId","username","size","small","isPro"]),g=(0,a.useContext)(l.S),v=e||(g&&n===g.uid?g.photoURL:"");return v?f&&(v=e):v=n&&!isNaN(parseFloat(n.slice(-1)))?"/images/catto-2.png":"/images/catto-1.png",(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)("div",{className:"avatar-link__image ".concat(g&&n===g.uid?"avatar-link__image--self":""," ").concat(p?"avatar-link__image--pro":""),children:(0,o.jsx)("img",(0,i.Z)((0,r.Z)({src:v,alt:c?"".concat(c," avatar"):""},m),{width:d,height:d}))}),p&&(0,o.jsxs)("div",{className:"avatar-link__probadge-wrap",children:[" ",(0,o.jsx)(h.Z,{height:"15"})]})]})}function g(t){var e=t.url,n=t.userId,i=t.username,a=t.size,c=void 0===a?24:a,l=t.small,h=t.isPro,d=(0,s.Z)(t,["url","userId","username","size","small","isPro"]);return(0,o.jsx)(u(),{href:"/player/".concat(i||n),children:(0,o.jsx)("a",{className:"avatar-link link hint--top","aria-label":i?"@".concat(i):"",children:(0,o.jsx)(m,(0,r.Z)({url:e,userId:n,username:i,size:c,small:l,isPro:h},d))})})}var v=["var(--clr-gold-crown)","var(--clr-silver-crown)","var(--clr-bronze-crown)"];function y(t){var e=t.name,n=t.userId,r=t.username,i=t.className,s=void 0===i?"":i,c=(t.isPro,t.rank),h=t.ellipsis,d=(0,a.useContext)(l.S),f=(0,o.jsx)("span",{className:"".concat(s," ").concat(d&&n===d.uid?"append-star":""),children:e});return(0,o.jsxs)("div",{style:{display:h?"flex":"inline-block",gap:"0.25rem",alignItems:"center"},children:[c<=3?(0,o.jsx)(p.J,{name:"crown",size:"1em",color:v[c-1],marginRight:"0"}):null,(0,o.jsx)(u(),{href:"/player/".concat(r||n),children:(0,o.jsx)("a",{className:"name-link",children:f})})]})}function _(t){var e=t.label,n=t.help,i=t.fullWidth,a=void 0!==i&&i,c=(0,s.Z)(t,["label","help","fullWidth"]),u="input-".concat(~~(1e3*Math.random()));return(0,o.jsxs)("div",{className:"input-container ".concat(a?"input-container--full-width":""),children:[(0,o.jsx)("label",{htmlFor:u,children:e}),(0,o.jsx)("input",(0,r.Z)({id:u},c)),n?(0,o.jsx)("p",{className:"input-hint",children:n}):null]})}function b(t){var e=t.label,n=t.value,i=t.help,a=(0,s.Z)(t,["label","value","help"]);return(0,o.jsxs)("div",{className:"input-container",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)("input",(0,r.Z)({type:"checkbox",checked:n},a))," ",e]}),i?(0,o.jsx)("p",{className:"input-hint",children:i}):null]})}function w(t){var e=t.children,n=t.noPadding,r=t.center;return(0,o.jsx)("div",{className:"btn-group ".concat(r?"btn-group--center":"","  ").concat(n?"btn-group--nopadding":""," "),children:e})}function C(){return(0,o.jsx)("div",{style:{padding:"1rem"},children:(0,o.jsxs)(f,{gap:"5px",children:[(0,o.jsx)(d.a,{}),(0,o.jsx)("span",{children:"Loading..."})]})})}function E(t){var e=t.tag,n=void 0===e?"div":e,r=t.inline,i=t.style,s=t.className,a=t.children,c=n;return r&&(i.display="inline-block"),(0,o.jsx)(c,{style:i,className:s,children:a})}function T(t){var e=t.id;return e?e.length>5?"":"#".concat(e):""}function S(t){var e=t.label,n=t.children;return(0,o.jsx)("span",{role:"img","aria-label":e,children:n})}function I(t){var e=t.vertical,n=void 0!==e&&e;return(0,o.jsx)("div",{className:"separator ".concat(n&&"separator--vertical")})}},1551:function(t,e,n){"use strict";n.d(e,{W:function(){return f}});var r=n(7842),i=n(930),s=n(2322),o=n(2784),a=n(2367),c=n(1251),u=n(1211),l=n(5598),h=n(7841);function d(t){var e=t.count,n=t.label,r=t.shortUnits,i=t.minimal,o=t.size,a=t.padLength,c=t.showUnits;return(0,s.jsx)(l.VStack,{gap:"0.4rem",children:i?(0,s.jsxs)("span",{className:"countdown__number ".concat(r?"countdown__number--small":""),children:[a?e.toString().padStart(a,"0"):e,n,1===e||r?"":"s"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.z,{countDigits:2,number:e,size:o}),c?(0,s.jsxs)(h.x,{appearance:"tertiary",children:[n,1===e||r?"":"s"]}):null]})})}function f(t){var e=t.date,n=t.prefix,u=void 0===n?"":n,h=t.suffix,f=void 0===h?"remaining":h,p=t.separator,m=void 0===p?" : ":p,g=t.hideSeconds,v=void 0!==g&&g,y=t.onFinish,_=t.maxLength,b=void 0===_?4:_,w=t.shortUnits,C=void 0!==w&&w,E=t.showEmoji,T=void 0===E||E,S=t.minimal,I=void 0!==S&&S,x=t.size,k=void 0===x?.2:x,A=t.showUnits,R=void 0===A||A,D=t.justify,O=void 0===D?"flex-start":D,L=function(){var t=Date.now();if(t>new Date(e))return clearInterval(F.current),void("function"===typeof y&&y());var n=(0,a.hM)(t,e);if(b){var s,o=["days","hours","minutes","seconds"].map((function(t){var e;return e={},(0,r.Z)(e,t,n[t]),(0,r.Z)(e,"val",n[t]),e})),c=o.findIndex((function(t){return t.val}));o.splice(0,c),o.length=b,n=(s=Object).assign.apply(s,[{}].concat((0,i.Z)(o)))}M(n)},N=(0,o.useState)({}),P=N[0],M=N[1],F=(0,o.useRef)();(0,o.useEffect)((function(){L();var t=F.current=setInterval(L,1e3);return function(){clearInterval(t)}}),[e]);var j=P.days||P.hours,U=(P.days||P.hours||P.minutes)&&void 0!==P.minutes,B=!v&&(P.days||P.hours||P.minutes||P.seconds)&&void 0!==P.seconds,V=C||I;return(0,s.jsx)("div",{className:"countdown ".concat(I?"countdown--minimal":"countdown--primary"),style:{"--size":k},children:(0,s.jsxs)(l.HStack,{gap:I?"0.1rem":0,align:"flex-start",justify:O,children:[T?(0,s.jsx)(c.dy,{label:"watch",children:"\u23f0"}):null," ",u?" ".concat(u," "):null,P.days?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{label:"".concat(V?"d":"day"),count:P.days,shortUnits:V,size:k,minimal:I,showUnits:R}),j&&(0,s.jsx)("div",{className:"countdown__separator",children:m})]}):null," ",j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{label:"".concat(V?"h":"hour"),count:P.hours,shortUnits:V,minimal:I,size:k,padLength:2,showUnits:R}),U&&(0,s.jsx)("div",{className:"countdown__separator",children:m})]}):null," ",U?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{label:"".concat(V?"m":"minute"),count:P.minutes,shortUnits:V,size:k,minimal:I,showUnits:R,padLength:2}),B&&(0,s.jsx)("div",{className:"countdown__separator",children:m})]}):null," ",B?(0,s.jsx)(d,{label:"".concat(V?"s":"second"),count:P.seconds,shortUnits:V,size:k,minimal:I,padLength:2,showUnits:R}):null,f?" ".concat(f):null]})})}},8724:function(t,e,n){"use strict";n.d(e,{L:function(){return a}});var r=n(2322),i=n(2784),s=n(8316),o=n(7414),a=function(t){var e=t.dropdownContainerClasses,n=void 0===e?"":e,s=t.dropdownBtnClasses,o=void 0===s?"":s,a=t.dropdownMenuClasses,u=void 0===a?"":a,l=t.dropdownBtnContent,h=t.alignRight,d=t.alignTop,f=t.isFixed,p=t.onOpen,m=t.fullWidth,g=void 0!==m&&m,v=t.children,y=function(t){C&&(b.current.contains(t.target)||_.current.contains(t.target)||E(!1))},_=(0,i.useRef)(),b=(0,i.useRef)(),w=(0,i.useState)(!1),C=w[0],E=w[1],T=(0,i.useState)(),S=T[0],I=T[1],x=(0,i.useState)(),k=x[0],A=x[1],R=(0,i.useState)(),D=R[0],O=R[1],L=function(){var t,e;if(null!=_.current){var n=_.current.getBoundingClientRect(),r=null===(t=_.current)||void 0===t||null===(e=t.parentElement)||void 0===e?void 0:e.getBoundingClientRect(),i=document.body,s=document.documentElement,o=window.pageYOffset||s.scrollTop||i.scrollTop,a=window.pageXOffset||s.scrollLeft||i.scrollLeft,c=s.clientTop||i.clientTop||0,u=s.clientLeft||i.clientLeft||0,l=n.top+o-c+n.height+8;l=f?l-o:l;var p=n.left+a-u,m=null===r||void 0===r?void 0:r.width;if(h){var g=document.body.clientWidth,v=_.current.clientWidth;p=g-n.left-v-a+u}if(d)l=document.body.clientHeight-n.top-o+c+8;I(p),A(l),O(m)}};return(0,i.useEffect)((function(){if(L(),C){var t=b.current.querySelector(".dropdown-menu");t.setAttribute("tabindex","0"),t.focus()}return document.addEventListener("click",y,!1),function(){document.removeEventListener("click",y)}}),[C]),(0,i.useEffect)((function(){window.addEventListener("resize",L)}),[]),(0,r.jsxs)("button",{type:"button",ref:_,className:"dropdown-container ".concat(n),onClick:function(t){"INPUT"!==t.target.tagName&&"LABEL"!==t.target.tagName&&(E(!C),p&&C&&p())},children:[(0,r.jsx)("div",{className:"dropdown-btn ".concat(o),children:l}),(0,r.jsx)(c,{ref:b,isOpen:C,children:(0,r.jsx)("div",{style:{position:f?"fixed":"absolute",left:h?"auto":S+"px",top:d?"auto":k+"px",bottom:d?k+"px":"auto",right:h?S+"px":"auto",width:g?D:"null"},className:"dropdown-menu  ".concat(u),children:v})})]})},c=(0,i.forwardRef)((function(t,e){var n=t.isOpen,i=t.children;return(0,o.P)()&&n?(0,s.createPortal)((0,r.jsx)("div",{ref:e,children:i}),document.getElementById("portal-root")):null}))},2260:function(t,e,n){"use strict";n.d(e,{h:function(){return U}});var r=n(865),i=n(6670),s=n(2322),o=n(2784),a=n(5632),c=n(9097),u=n.n(c),l=n(9604),h=n(8724),d=n(3552),f=n(8387),p=n(7500),m=n(3029),g=n(3290),v=n(7037),y=n(6578),_=n.n(y),b=n(1251),w=n(7414),C=n(5598),E=n(9288),T=n(1551),S=n(2367),I=n(8788),x=n(2970),k=function(){var t=(0,o.useState)(0),e=t[0],n=t[1],r=(0,o.useState)("\ud83d\ude42"),i=(r[0],r[1]);return(0,o.useEffect)((function(){function t(){return e.apply(this,arguments)}function e(){return(e=(0,I.Z)((function(){var t;return(0,x.__generator)(this,(function(e){switch(e.label){case 0:return"visible"!==document.visibilityState?[2]:[4,fetch("/api/session")];case 1:return[4,e.sent().text()];case 2:return(t=parseInt.apply(void 0,[e.sent(),10]))&&n(t),[2]}}))}))).apply(this,arguments)}if(!window.location.href.match(/localhost/)){var r=window.setInterval(t,5e3);return t(),function(){clearInterval(r)}}}),[]),(0,o.useEffect)((function(){e>=400&&i("\ud83d\udd25"),e<400&&i("\ud83e\udd2f"),e<350&&i("\ud83e\udd29"),e<250&&i("\ud83d\ude00"),e<150&&i("\ud83d\ude42")}),[e]),(0,s.jsxs)("div",{className:"header__live-counter",children:[(0,s.jsx)("div",{className:"header__live-counter-pulse"}),(0,s.jsx)("span",{className:"header__live-counter-number",children:e})," Online"]})},A=n(7841),R=n(5932),D=n.n(R),O=n(3125),L=function(){var t=(0,o.useContext)(d.k).streakCount;return isNaN(t)?null:(0,s.jsxs)(O.E.div,{className:D().widget,initial:{y:-100},animate:{y:0},children:[!!t&&(0,s.jsx)("img",{className:D().rays}),(0,s.jsx)(u(),{href:"/leaderboard/streak",children:(0,s.jsxs)("a",{className:D().widgetMain,children:[(0,s.jsxs)("svg",{width:"103",height:"102",viewBox:"0 0 103 102",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:D().bg,children:[(0,s.jsx)("g",{clipPath:"url(#clip0_974_2969)",children:(0,s.jsx)("g",{filter:"url(#filter0_di_974_2969)",children:(0,s.jsx)("path",{d:"M0 0H103V82.7685C103 86.4326 100.511 89.6284 96.958 90.5252L55.416 101.011C52.8456 101.66 50.1544 101.66 47.584 101.011L6.042 90.5252C2.4893 89.6284 0 86.4326 0 82.7685V0Z",fill:"url(#paint0_linear_974_2969)"})})}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("filter",{id:"filter0_di_974_2969",x:"-60",y:"-30",width:"223",height:"221.498",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,s.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,s.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,s.jsx)("feOffset",{dx:"1",dy:"1"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,s.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,s.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,s.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_974_2969"})]}),(0,s.jsxs)("linearGradient",{id:"paint0_linear_974_2969",x1:"-40",y1:"-31",x2:"101",y2:"106",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"var(--streak-widget-clr-1)"}),(0,s.jsx)("stop",{offset:"1",stopColor:"var(--streak-widget-clr-2)"})]}),(0,s.jsx)("clipPath",{id:"clip0_974_2969",children:(0,s.jsx)("rect",{width:"103",height:"102",fill:"white"})})]})]}),(0,s.jsx)("div",{className:D().widgetShineBig}),(0,s.jsx)("div",{className:D().widgetShineSmall}),(0,s.jsx)("div",{className:D().widgetText,children:(0,s.jsxs)(C.VStack,{gap:"0rem",children:[(0,s.jsx)(A.x,{size:3,weight:"700",appearance:"primary",mono:!1,lineHeight:"1",children:t}),(0,s.jsx)(A.x,{size:0,weight:"600",appearance:"tertiary",mono:!1,children:"day streak"})]})})]})}),(0,s.jsx)("div",{className:D().bar}),(0,s.jsx)("div",{className:D().bar}),(0,s.jsx)("div",{className:D().bar}),(0,s.jsx)("div",{className:D().bar})]})},N=n(4675),P=n(3947);function M(t){return t.endDate||+new Date(1e3*t.startDate.seconds)+60*t.duration*1e3}function F(t){var e=t.battleId;t.battleName;return(0,s.jsx)(h.L,{dropdownBtnClasses:"dropdown-btn--minimal",dropdownMenuClasses:"dropdown-menu--scrollable",isFixed:!0,onOpen:function(){(0,g.q)({name:e?"switchBattleDropdownOpen":"chooseBattleDropdownOpen"})},dropdownBtnContent:e?(0,s.jsxs)(s.Fragment,{children:["Battle ",(0,s.jsx)(b.bN,{id:e})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("span",{className:"desktop-only",children:"Choose Battle"})}),children:p.battles.slice(0).reverse().map((function(t,e){return(0,s.jsx)(u(),{href:"/battle/".concat(t.id),children:(0,s.jsxs)("a",{className:"dropdown-menu__item",children:["#",t.id," - ",t.name," ",(0,s.jsx)(m.k,{status:(0,p.getBattleStatus)(t)})]})},t.id)}))})}function j(t){var e=t.levels,n=t.currentLevel,r=(0,E.I)();return(0,s.jsx)(h.L,{dropdownBtnClasses:"dropdown-btn--minimal",dropdownMenuClasses:"dropdown-menu--scrollable",isFixed:!0,onOpen:function(){(0,g.q)({name:"switchTargetDropdownOpen"})},dropdownBtnContent:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.bN,{id:n.id}),(0,s.jsxs)("span",{className:"desktop-only",children:[". ",n.name]})]}),children:(0,s.jsxs)(C.VStack,{gap:"1rem",align:"stretch",children:[(0,s.jsx)("div",{children:e.map((function(t){var e=t.id,n=t.name;return e?(0,s.jsx)(u(),{href:"/play/".concat(e),children:(0,s.jsxs)("a",{className:"dropdown-menu__item",children:[(0,s.jsx)(b.bN,{id:e}),". ",n]})},e):(0,s.jsx)("div",{className:"dropdown-menu__item",style:{color:"var(--clr-text-light)"},children:"Locked"})}))}),(0,s.jsxs)("p",{style:{color:"var(--clr-text-lightest)"},children:["Tip: Use ",r,"+K for quick navigation"]})]})})}function U(t){t.levelId;var e=t.level,n=t.battle,c=(t.battleId,t.battleName,t.onToggleSidebar),m=t.isSidebarVisible,y=(0,o.useContext)(d.S),E=(0,o.useContext)(d.k),I=E.theme,x=E.setTheme,R=y?(y.displayName||"User").split(" ")[0]:"",D=(0,o.useState)(),U=D[0],B=D[1],V=(0,a.useRouter)(),H=V.pathname.match(/learn/),z=(0,w.P)();(0,o.useEffect)((function(){n&&e&&(0,v.TU)(n.levelIds).then(B)}),[n]);var q=n?(0,p.getBattleStatus)(n):null,$=/\/(play\/)|(learn\/)\S+/.test(V.asPath);return(0,s.jsxs)("div",{className:"v2-header",children:[(0,s.jsxs)("div",{className:"header__left",children:[$&&(0,s.jsxs)(C.HStack,{children:[c&&(0,s.jsx)("button",{className:"button button--circular",onClick:c,children:m?(0,s.jsx)(l.J,{name:"cross",marginRight:"0",size:"20"}):(0,s.jsx)(l.J,{name:"menu",marginRight:"0",size:"24"})}),(0,s.jsx)("div",{className:"".concat(_().headerLogo," desktop-only"),children:(0,s.jsx)(u(),{href:"/",children:(0,s.jsx)("a",{className:"logo-image logo-image--full"})})}),(0,s.jsx)("div",{className:"".concat(_().headerLogoSmall,"   mobile-only"),children:(0,s.jsx)(u(),{href:"/",children:(0,s.jsx)("a",{className:"logo-image logo-image--glyph"})})})]}),(0,s.jsxs)("div",{className:_().breadcrumbs,children:[e||n?(0,s.jsx)(u(),{href:"daily"===(null===e||void 0===e?void 0:e.type)?"/daily":"/battles",children:(0,s.jsx)("a",{style:{display:"block"},children:(0,s.jsxs)(C.HStack,{gap:"0.2rem",children:[(0,s.jsx)(l.J,{name:"daily"===(null===e||void 0===e?void 0:e.type)?"daily-targets":"battle",size:"18",marginRight:"0",color:"var(--clr-text-lightest-final)"}),(0,s.jsx)(A.x,{appearance:"tertiary",size:1,weight:"500",mono:!1,classes:"desktop-only",children:"daily"===(null===e||void 0===e?void 0:e.type)?"Daily Targets":"Battles"})]})})}):null,!n&&e?(0,s.jsx)(O.E.h2,{className:"level",initial:{x:-10,opacity:0},exit:{x:-10,opacity:0},animate:{x:0,opacity:1},children:e.name}):null,n&&e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.E.h2,{className:"level",initial:{x:-10,opacity:0},exit:{x:-10,opacity:0},animate:{x:0,opacity:1},children:(0,s.jsx)(u(),{href:"/battle/".concat(n.id),children:(0,s.jsxs)("a",{children:["Battle ",(0,s.jsx)(b.bN,{id:n.id})]})},n.id)}),U?(0,s.jsx)(O.E.div,{initial:{x:-10,opacity:0},exit:{x:-10,opacity:0},animate:{x:0,opacity:1,transition:{delay:.2}},children:(0,s.jsx)(j,{levels:U,currentLevel:e})}):null]}):null,n&&!e?(0,s.jsx)(O.E.div,{initial:{x:-10,opacity:0},exit:{x:-10,opacity:0},animate:{x:0,opacity:1},children:(0,s.jsx)(F,{battleId:n.id,battleName:n.name})}):null,H?(0,s.jsx)(u(),{href:"/learn",children:(0,s.jsx)("a",{style:{display:"block"},children:(0,s.jsxs)(C.HStack,{gap:"0.2rem",children:[(0,s.jsx)(l.J,{name:"learn",size:"18",marginRight:"0",color:"var(--clr-text-lightest-final)"}),(0,s.jsx)(A.x,{appearance:"tertiary",size:1,weight:"500",mono:!1,children:"Learn"})]})})}):null]})]}),(0,s.jsxs)("div",{children:[q===p.BattleStatuses.ONGOING&&(null===n||void 0===n?void 0:n.startDate)&&n.gameMode===p.BattleGameModes.FIRST_TO_MATCH?(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%"},children:(0,s.jsx)(T.W,{date:M(n),suffix:"left",onFinish:function(){},minimal:!0})}):null,$||(null===n||void 0===n?void 0:n.gameMode)===p.BattleGameModes.FIRST_TO_MATCH?null:(0,s.jsx)(L,{})]}),(0,s.jsxs)("div",{className:"header__right",children:[(0,s.jsx)(C.Spacer,{}),(0,s.jsx)(k,{}),(0,s.jsx)("button",{"aria-label":"light"===I?"Dark mode":"Light mode",className:"button button--circular",onClick:function(){var t="dark"===I?"light":"dark";x(t);var e=JSON.parse(window.localStorage.getItem("lastUser")||null);e&&(e.settings=(0,i.Z)((0,r.Z)({},e.settings),{theme:t}),(0,S.xX)(e)),(0,g.q)({name:"themeChanged",label:t}),(0,v.Ii)(y.uid,{"settings.theme":t})},children:"light"===I?(0,s.jsx)(l.J,{name:"moon",marginRight:"0",size:"24"}):(0,s.jsx)(l.J,{name:"sun",marginRight:"0",size:"24"})}),z&&y?(0,s.jsx)("div",{className:"user-info",children:(0,s.jsxs)(h.L,{isFixed:!0,alignRight:!0,dropdownBtnClasses:"dropdown-btn--user",dropdownBtnContent:(0,s.jsxs)(C.HStack,{gap:"0.3rem",align:"center",children:[y.photoURL?(0,s.jsx)("img",{src:y.photoURL,className:"user-info__avatar",alt:"User profile"}):(0,s.jsx)(l.J,{name:"user",size:"1.75rem"}),(0,s.jsx)("span",{className:"desktop-only",children:R}),y.isPro&&(0,s.jsxs)("div",{className:"desktop-only d-f",children:[" ",(0,s.jsx)(f.Z,{})," "]})]}),children:[y.isPro?null:(0,s.jsx)(u(),{href:"/plus",children:(0,s.jsxs)("a",{className:"dropdown-menu__item highlighted-link",children:["Upgrade to ",(0,s.jsx)(f.Z,{})]})}),(0,s.jsx)(u(),{href:"/player/".concat(y.username||y.uid),children:(0,s.jsx)("a",{className:"dropdown-menu__item",children:"View Profile"})}),!y.username&&(0,s.jsx)(u(),{href:"/settings",children:(0,s.jsx)("a",{className:"dropdown-menu__item",children:"Claim a username"})}),(0,s.jsx)(u(),{href:"/my-battles",children:(0,s.jsx)("a",{className:"dropdown-menu__item",children:"My Battles"})}),y?(0,s.jsx)(u(),{href:"/me",children:(0,s.jsx)("a",{className:"dropdown-menu__item",children:"My Analytics"})}):null,(0,s.jsx)(u(),{href:"/settings",children:(0,s.jsx)("a",{className:"dropdown-menu__item",children:"Settings"})}),(0,s.jsx)("button",{type:"button",className:"dropdown-menu__item",onClick:function(){window.confirm("Are you sure you want to logout?")&&(window.localStorage.removeItem("lastUser"),(0,P.w7)(N.I8).then((function(){window.location.reload()})))},children:"Logout"})]})}):(0,s.jsx)(u(),{href:"/login",children:(0,s.jsxs)("a",{className:"button",children:[(0,s.jsx)("div",{className:"desktop-only",children:"Sign In / Sign Up"}),(0,s.jsx)("span",{className:"mobile-only",children:"Login"})]})})]})]})}},9604:function(t,e,n){"use strict";n.d(e,{J:function(){return i}});var r=n(2322),i=(n(2784),function(t){var e,n=t.name,i=t.color,s=t.size,o=void 0===s?20:s,a=t.marginRight,c=t.marginLeft;return"tick"===n?e=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM16.1947 7.19467C16.7876 6.60178 17.7124 6.60178 18.3053 7.19467C18.8982 7.78756 18.8982 8.71244 18.3053 9.30533L10.8053 16.8053C10.6861 16.9246 10.537 17.0439 10.3452 17.1291C10.1502 17.2158 9.95001 17.25 9.75 17.25C9.54999 17.25 9.34978 17.2158 9.15477 17.1291C8.96302 17.0439 8.81395 16.9246 8.69467 16.8053L5.69467 13.8053C5.10178 13.2124 5.10178 12.2876 5.69467 11.6947C6.28756 11.1018 7.21244 11.1018 7.80533 11.6947L9.75 13.6393L16.1947 7.19467Z",fill:i||"#48BB79"}):"error"===n?e=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM10 6C10 4.89543 10.8954 4 12 4C13.1046 4 14 4.89543 14 6V12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12V6ZM12 16C10.8954 16 10 16.8954 10 18C10 19.1046 10.8954 20 12 20C13.1046 20 14 19.1046 14 18C14 16.8954 13.1046 16 12 16Z",fill:"#F83C3B"}):"user"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.232 7.232 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10z"}):"help"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"}):"battle"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M6.2,2.44L18.1,14.34L20.22,12.22L21.63,13.63L19.16,16.1L22.34,19.28C22.73,19.67 22.73,20.3 22.34,20.69L21.63,21.4C21.24,21.79 20.61,21.79 20.22,21.4L17,18.23L14.56,20.7L13.15,19.29L15.27,17.17L3.37,5.27V2.44H6.2M15.89,10L20.63,5.26V2.44H17.8L13.06,7.18L15.89,10M10.94,15L8.11,12.13L5.9,14.34L3.78,12.22L2.37,13.63L4.84,16.1L1.66,19.29C1.27,19.68 1.27,20.31 1.66,20.7L2.37,21.41C2.76,21.8 3.39,21.8 3.78,21.41L7,18.23L9.44,20.7L10.85,19.29L8.73,17.17L10.94,15Z"}):"link"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M14.6667 0V2.66667H19.4533L6.34667 15.7733L8.22667 17.6533L21.3333 4.54667V9.33333H24V0H14.6667ZM21.3333 21.3333H2.66667V2.66667H12V0H2.66667C1.18667 0 0 1.2 0 2.66667V21.3333C0 22.0406 0.280951 22.7189 0.781048 23.219C1.28115 23.719 1.95942 24 2.66667 24H21.3333C22.0406 24 22.7189 23.719 23.219 23.219C23.719 22.7189 24 22.0406 24 21.3333V12H21.3333V21.3333Z"}):"bell"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21"}):"twitter"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}):"github"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"}):"codepen"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M15.09,12L12,14.08V14.09L8.91,12L12,9.92V9.92L15.09,12M12,2C11.84,2 11.68,2.06 11.53,2.15L2.5,8.11C2.27,8.22 2.09,8.43 2,8.67V14.92C2,15.33 2,15.33 2.15,15.53L11.53,21.86C11.67,21.96 11.84,22 12,22C12.16,22 12.33,21.95 12.47,21.85L21.85,15.5C22,15.33 22,15.33 22,14.92V8.67C21.91,8.42 21.73,8.22 21.5,8.1L12.47,2.15C12.32,2.05 12.16,2 12,2M16.58,13L19.59,15.04L12.83,19.6V15.53L16.58,13M19.69,8.9L16.58,11L12.83,8.47V4.38L19.69,8.9M20.33,10.47V13.53L18.07,12L20.33,10.47M7.42,13L11.17,15.54V19.6L4.41,15.04L7.42,13M4.31,8.9L11.17,4.39V8.5L7.42,11L4.31,8.9M3.67,10.5L5.93,12L3.67,13.54V10.5Z"}):"earth"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}):"plus-round"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}):"discord"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M22,24L16.75,19L17.38,21H4.5A2.5,2.5 0 0,1 2,18.5V3.5A2.5,2.5 0 0,1 4.5,1H19.5A2.5,2.5 0 0,1 22,3.5V24M12,6.8C9.32,6.8 7.44,7.95 7.44,7.95C8.47,7.03 10.27,6.5 10.27,6.5L10.1,6.33C8.41,6.36 6.88,7.53 6.88,7.53C5.16,11.12 5.27,14.22 5.27,14.22C6.67,16.03 8.75,15.9 8.75,15.9L9.46,15C8.21,14.73 7.42,13.62 7.42,13.62C7.42,13.62 9.3,14.9 12,14.9C14.7,14.9 16.58,13.62 16.58,13.62C16.58,13.62 15.79,14.73 14.54,15L15.25,15.9C15.25,15.9 17.33,16.03 18.73,14.22C18.73,14.22 18.84,11.12 17.12,7.53C17.12,7.53 15.59,6.36 13.9,6.33L13.73,6.5C13.73,6.5 15.53,7.03 16.56,7.95C16.56,7.95 14.68,6.8 12,6.8M9.93,10.59C10.58,10.59 11.11,11.16 11.1,11.86C11.1,12.55 10.58,13.13 9.93,13.13C9.29,13.13 8.77,12.55 8.77,11.86C8.77,11.16 9.28,10.59 9.93,10.59M14.1,10.59C14.75,10.59 15.27,11.16 15.27,11.86C15.27,12.55 14.75,13.13 14.1,13.13C13.46,13.13 12.94,12.55 12.94,11.86C12.94,11.16 13.45,10.59 14.1,10.59Z"}):"gear"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})),"discord-alt"===n&&(e=(0,r.jsx)("path",{d:"M15.0665 3.75452H15.0213L14.7166 4.05615C17.843 4.96104 19.3557 6.37418 19.3557 6.37418C17.3408 5.36674 15.525 4.86301 13.7092 4.65941C12.3971 4.45581 11.085 4.56289 9.9765 4.65941H9.67487C8.96604 4.65941 7.45789 4.96104 5.43697 5.7679C4.73267 6.07406 4.32848 6.27464 4.32848 6.27464C4.32848 6.27464 5.83965 4.76348 9.16964 3.95662L8.96604 3.75302C8.96604 3.75302 6.44441 3.6565 3.72221 5.66836C3.72221 5.66836 1 10.41 1 16.2556C1 16.2556 2.50815 18.8797 6.645 18.9793C6.645 18.9793 7.24826 18.1754 7.85906 17.4681C5.53651 16.7623 4.63162 15.3507 4.63162 15.3507C4.63162 15.3507 4.83371 15.4502 5.13685 15.6523H5.22734C5.27258 15.6523 5.2937 15.6749 5.31783 15.6975V15.7066C5.34196 15.7307 5.36307 15.7518 5.40832 15.7518C5.90601 15.957 6.4037 16.159 6.8109 16.3551C7.51369 16.6597 8.41707 16.9629 9.52556 17.1635C10.9281 17.3671 12.5358 17.4651 14.3667 17.1635C15.2716 16.9599 16.1765 16.7608 17.0814 16.3566C17.6696 16.055 18.3935 15.7534 19.1883 15.2451C19.1883 15.2451 18.2834 16.6567 15.8628 17.3625C16.3605 18.0653 17.0618 18.8707 17.0618 18.8707C21.2001 18.7802 22.8078 16.156 22.8983 16.2676C22.8983 10.4311 20.161 5.68043 20.161 5.68043C17.6952 3.84954 15.3877 3.78016 14.9805 3.78016L15.065 3.75L15.0665 3.75452ZM15.3199 10.41C16.3801 10.41 17.2352 11.3149 17.2352 12.4234C17.2352 13.5394 16.3756 14.4443 15.3199 14.4443C14.2642 14.4443 13.4045 13.5394 13.4045 12.4324C13.4075 11.3164 14.2687 10.4145 15.3199 10.4145V10.41ZM8.46835 10.41C9.52405 10.41 10.3777 11.3149 10.3777 12.4234C10.3777 13.5394 9.51802 14.4443 8.46232 14.4443C7.40661 14.4443 6.54697 13.5394 6.54697 12.4324C6.54697 11.3164 7.40661 10.4145 8.46232 10.4145L8.46835 10.41Z",fill:"currentColor"})),"mail"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"})),"leaderboard"===n&&(e=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("path",{d:"M4.5 12h-3c-.828427 0-1.5.6716-1.5 1.5v6c0 .8284.671573 1.5 1.5 1.5h3c.82843 0 1.5-.6716 1.5-1.5v-6c0-.8284-.67157-1.5-1.5-1.5Zm9-9h-3C9.67157 3 9 3.67157 9 4.5v15c0 .8284.67157 1.5 1.5 1.5h3c.8284 0 1.5-.6716 1.5-1.5v-15c0-.82843-.6716-1.5-1.5-1.5Zm9 4.5h-3c-.8284 0-1.5.67157-1.5 1.5v10.5c0 .8284.6716 1.5 1.5 1.5h3c.8284 0 1.5-.6716 1.5-1.5V9c0-.82843-.6716-1.5-1.5-1.5Z",fill:"currentColor"})})),"home"===n&&(e=(0,r.jsx)("path",{d:"M1.47461 10.8613C1.47461 10.5542 1.62402 10.2305 1.90625 9.99805L10.5557 2.73486C11.4355 1.99609 12.5811 1.99609 13.4609 2.73486L16.939 5.65674V4.38672C16.939 3.99658 17.1963 3.74756 17.5864 3.74756H19.1138C19.4956 3.74756 19.7529 3.99658 19.7529 4.38672V8.01416L22.0938 9.98975C22.376 10.2222 22.5254 10.5376 22.5254 10.8696C22.5254 11.4839 22.0771 11.8823 21.438 11.8823C21.1392 11.8823 20.8403 11.7329 20.5913 11.5171L12.4731 4.70215C12.166 4.44482 11.8423 4.44482 11.5518 4.70215L3.41699 11.5171C3.16797 11.7329 2.86914 11.8823 2.56201 11.8823C1.89795 11.8823 1.47461 11.4424 1.47461 10.8613ZM4.33008 18.415V12.5298L11.4688 6.54492C11.8008 6.2627 12.1992 6.25439 12.5396 6.54492L19.6699 12.5298V18.415C19.6699 19.6768 18.8315 20.4653 17.5034 20.4653H6.49658C5.16846 20.4653 4.33008 19.6768 4.33008 18.415ZM14.2329 18.3237V13.1108C14.2329 12.7124 13.9839 12.4551 13.5854 12.4551H10.4229C10.0244 12.4551 9.75879 12.7124 9.75879 13.1108V18.3237H14.2329Z",fill:"currentColor"})),"daily-targets"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M5.374 20.065c-2.004 0-3.103-1.09-3.103-3.085V6.346c0-1.995 1.1-3.085 3.103-3.085h12.243c2.013 0 3.103 1.09 3.103 3.085V16.98c0 1.996-1.09 3.085-3.103 3.085H5.374Zm.167-2.267h11.91c.65 0 1.001-.317 1.001-1.01V8.973c0-.695-.351-1.011-1.002-1.011H5.541c-.66 0-1.002.316-1.002 1.01v7.814c0 .694.343 1.01 1.002 1.01Zm4.307-6.987c-.326 0-.44-.097-.44-.422V9.87c0-.316.114-.422.44-.422h.518c.317 0 .43.106.43.422v.519c0 .325-.113.421-.43.421h-.518Zm2.795 0c-.326 0-.44-.097-.44-.422V9.87c0-.316.114-.422.44-.422h.518c.316 0 .43.106.43.422v.519c0 .325-.114.421-.43.421h-.518Zm2.794 0c-.325 0-.439-.097-.439-.422V9.87c0-.316.114-.422.44-.422h.51c.325 0 .439.106.439.422v.519c0 .325-.114.421-.44.421h-.51Zm-8.384 2.75c-.325 0-.43-.096-.43-.421v-.519c0-.316.105-.422.43-.422h.518c.325 0 .431.106.431.422v.519c0 .325-.106.421-.43.421h-.52Zm2.795 0c-.326 0-.44-.096-.44-.421v-.519c0-.316.114-.422.44-.422h.518c.317 0 .43.106.43.422v.519c0 .325-.113.421-.43.421h-.518Zm2.795 0c-.326 0-.44-.096-.44-.421v-.519c0-.316.114-.422.44-.422h.518c.316 0 .43.106.43.422v.519c0 .325-.114.421-.43.421h-.518Zm2.794 0c-.325 0-.439-.096-.439-.421v-.519c0-.316.114-.422.44-.422h.51c.325 0 .439.106.439.422v.519c0 .325-.114.421-.44.421h-.51Zm-8.384 2.752c-.325 0-.43-.106-.43-.422v-.519c0-.325.105-.422.43-.422h.518c.325 0 .431.097.431.422v.519c0 .316-.106.421-.43.421h-.52Zm2.795 0c-.326 0-.44-.106-.44-.422v-.519c0-.325.114-.422.44-.422h.518c.317 0 .43.097.43.422v.519c0 .316-.113.421-.43.421h-.518Zm2.795 0c-.326 0-.44-.106-.44-.422v-.519c0-.325.114-.422.44-.422h.518c.316 0 .43.097.43.422v.519c0 .316-.114.421-.43.421h-.518Z"})),"profile"===n&&(e=(0,r.jsx)("path",{d:"M11.5 12.2275C9.4126 12.2275 7.70557 10.3999 7.70557 8.08057C7.69629 5.82617 9.43115 3.99854 11.5 3.99854C13.5688 3.99854 15.2944 5.80762 15.2944 8.07129C15.2944 10.3999 13.5874 12.2275 11.5 12.2275ZM5.41406 20.9297C4.28223 20.9297 3.60498 20.3823 3.60498 19.4731C3.60498 17.0981 6.68506 13.8511 11.5 13.8511C16.3057 13.8511 19.395 17.0981 19.395 19.4731C19.395 20.3823 18.7178 20.9297 17.5859 20.9297H5.41406Z",fill:"currentColor"})),"stats"===n&&(e=(0,r.jsx)("path",{d:"M8.26367 15.7061V5.18555C8.26367 4.5791 8.65918 4.20117 9.25684 4.20117H11.0234C11.6299 4.20117 12.0166 4.5791 12.0166 5.18555V15.7061C12.0166 16.3037 11.6299 16.6904 11.0234 16.6904H9.25684C8.65918 16.6904 8.26367 16.3037 8.26367 15.7061ZM12.9834 15.7061V7.27734C12.9834 6.67969 13.3613 6.29297 13.9678 6.29297H15.7432C16.3408 6.29297 16.7363 6.67969 16.7363 7.27734V15.7061C16.7363 16.3037 16.3408 16.6904 15.7432 16.6904H13.9678C13.3613 16.6904 12.9834 16.3037 12.9834 15.7061ZM3.54395 15.7061V8.97363C3.54395 8.37598 3.93945 7.98047 4.53711 7.98047H6.30371C6.90137 7.98047 7.29688 8.37598 7.29688 8.97363V15.7061C7.29688 16.3037 6.90137 16.6904 6.30371 16.6904H4.53711C3.93945 16.6904 3.54395 16.3037 3.54395 15.7061ZM17.7031 15.7061V10.6348C17.7031 10.0371 18.0898 9.65039 18.6963 9.65039H20.4629C21.0605 9.65039 21.4561 10.0371 21.4561 10.6348V15.7061C21.4561 16.3037 21.0605 16.6904 20.4629 16.6904H18.6963C18.0898 16.6904 17.7031 16.3037 17.7031 15.7061ZM2.39258 19.1865C2.39258 18.5186 2.90234 18.0527 3.54395 18.0527H21.4561C22.1064 18.0527 22.6074 18.5186 22.6074 19.1865C22.6074 19.8457 22.1064 20.3115 21.4561 20.3115H3.54395C2.90234 20.3115 2.39258 19.8457 2.39258 19.1865Z",fill:"currentColor"})),"cross"===n&&(e=(0,r.jsx)("path",{d:"M4.47383 4.4705C5.1056 3.83873 6.14668 3.84763 6.76955 4.4705L12.0017 9.70261L17.2338 4.4705C17.8567 3.84763 18.8977 3.83873 19.5295 4.4705C20.1613 5.10226 20.1524 6.14335 19.5295 6.76622L14.2974 11.9983L19.5295 17.2304C20.1613 17.8622 20.1613 18.8944 19.5295 19.5262C18.8977 20.1579 17.8656 20.1579 17.2338 19.5262L12.0017 14.2941L6.76955 19.5262C6.13778 20.1579 5.1056 20.1579 4.47383 19.5262C3.84206 18.8944 3.84206 17.8622 4.47383 17.2304L9.70594 11.9983L4.47383 6.76622C3.85096 6.14335 3.84206 5.10226 4.47383 4.4705Z",fill:"currentColor"})),"trophy"===n&&(e=(0,r.jsx)("path",{d:"M2.3418 5.86914C2.3418 4.77051 3.08008 4.07617 4.23145 4.07617H5.83984C6.09473 3.14453 6.8418 2.6084 7.98438 2.6084H15.0156C16.1582 2.6084 16.9053 3.15332 17.1602 4.07617H18.7686C19.9199 4.07617 20.6582 4.77051 20.6582 5.86914C20.6582 9.34961 18.8477 11.7402 15.2881 12.8564C14.708 13.6123 14.0312 14.2451 13.3457 14.6758V18.0244H14.7256C16.0176 18.0244 16.7822 18.8242 16.7822 20.0811V21.6543C16.7822 22.2432 16.3252 22.6738 15.7627 22.6738H7.2373C6.6748 22.6738 6.21777 22.2432 6.21777 21.6543V20.0811C6.21777 18.8242 6.98242 18.0244 8.27441 18.0244H9.6543V14.6758C8.96875 14.2451 8.29199 13.6123 7.71191 12.8564C4.16113 11.7402 2.3418 9.34961 2.3418 5.86914ZM4.1875 6.2207C4.1875 8.00488 4.91699 9.38477 6.30566 10.2285C5.94531 9.38477 5.7168 8.43555 5.7168 7.44238V5.99219H4.40723C4.27539 5.99219 4.1875 6.08887 4.1875 6.2207ZM16.6943 10.2285C18.083 9.38477 18.8213 8.00488 18.8213 6.2207C18.8213 6.08887 18.7246 5.99219 18.5928 5.99219H17.2832V7.44238C17.2832 8.43555 17.0547 9.38477 16.6943 10.2285Z",fill:"currentColor"})),"open-book"===n&&(e=(0,r.jsx)("path",{d:"M17.5 13.2518C18.29 13.2518 19.13 13.3271 20 13.4776V14.8894C19.38 14.7388 18.54 14.6635 17.5 14.6635C15.6 14.6635 14.11 14.9741 13 15.5953V14.0047C14.17 13.5059 15.67 13.2518 17.5 13.2518ZM13 11.4918C14.29 10.9929 15.79 10.7482 17.5 10.7482C18.29 10.7482 19.13 10.8141 20 10.9647V12.3765C19.38 12.2259 18.54 12.1506 17.5 12.1506C15.6 12.1506 14.11 12.4706 13 13.0824V11.4918ZM17.5 9.64706C15.6 9.64706 14.11 9.94824 13 10.5882V9.02588C14.23 8.49882 15.73 8.23529 17.5 8.23529C18.29 8.23529 19.13 8.31059 20 8.45176V9.91059C19.26 9.73176 18.41 9.64706 17.5 9.64706ZM21 17.1765V6.35294C19.96 6.04235 18.79 5.88235 17.5 5.88235C15.45 5.88235 13.62 6.35294 12 7.29412V18.1176C13.62 17.1765 15.45 16.7059 17.5 16.7059C18.69 16.7059 19.86 16.8565 21 17.1765ZM17.5 4C19.85 4 21.69 4.47059 23 5.41176V19.1153C23 19.2282 22.95 19.3412 22.84 19.4447C22.73 19.5294 22.61 19.6047 22.5 19.6047C22.39 19.6047 22.31 19.5859 22.25 19.5576C20.97 18.9082 19.38 18.5882 17.5 18.5882C15.45 18.5882 13.62 19.0588 12 20C10.66 19.0588 8.83 18.5882 6.5 18.5882C4.84 18.5882 3.25 18.9271 1.75 19.5953C1.72 19.6047 1.68 19.6047 1.63 19.6235C1.59 19.6329 1.55 19.6424 1.5 19.6424C1.39 19.6424 1.27 19.6047 1.16 19.5294C1.05 19.4259 1 19.3224 1 19.2V5.41176C2.34 4.47059 4.18 4 6.5 4C8.83 4 10.66 4.47059 12 5.41176C13.34 4.47059 15.17 4 17.5 4Z",fill:"currentColor"})),"menu"===n&&(e=(0,r.jsx)("path",{d:"M4.25537 9.03516C3.72412 9.03516 3.30078 8.57861 3.30078 8.06396C3.30078 7.54102 3.72412 7.08447 4.25537 7.08447H19.7446C20.2759 7.08447 20.6992 7.52441 20.6992 8.06396C20.6992 8.58691 20.2759 9.03516 19.7446 9.03516H4.25537ZM4.25537 12.9863C3.72412 12.9863 3.30078 12.5298 3.30078 12.0151C3.30078 11.4839 3.72412 11.0356 4.25537 11.0356H19.7446C20.2759 11.0356 20.6992 11.4756 20.6992 12.0151C20.6992 12.5381 20.2759 12.9863 19.7446 12.9863H4.25537ZM4.25537 16.9458C3.72412 16.9458 3.30078 16.481 3.30078 15.9663C3.30078 15.4434 3.72412 14.9951 4.25537 14.9951H19.7446C20.2759 14.9951 20.6992 15.4268 20.6992 15.9663C20.6992 16.4893 20.2759 16.9458 19.7446 16.9458H4.25537Z",fill:"currentColor"})),"megaphone"===n&&(e=(0,r.jsx)("path",{d:"M18.8906 19.4922C17.8359 19.4922 17.0547 18.7031 17.0547 17.6484V5.51562C17.0547 4.46094 17.8359 3.67188 18.8906 3.67188C19.9375 3.67188 20.7188 4.46094 20.7188 5.51562V17.6484C20.7188 18.7031 19.9375 19.4922 18.8906 19.4922ZM8.39844 15.5234V7.71094C10.5234 7.47656 13.5938 6.67969 15.8828 5.52344C15.8828 5.64062 15.875 5.74219 15.875 5.85156V17.3594C15.875 17.4688 15.8828 17.5859 15.8906 17.7031C13.5 16.5234 10.7031 15.7969 8.39844 15.5234ZM5.75781 15.5156C3.50781 15.5156 2.27344 14.3125 2.27344 12.1484V11.0859C2.27344 8.91406 3.50781 7.71094 5.75781 7.71094H7.17969V15.5156H5.75781ZM9.05469 21.0469C8.02344 21.0469 7.52344 20.5234 7.05469 19.6016L5.60156 16.6875C5.78125 16.6875 5.96094 16.6953 6.08594 16.7031C8.14062 16.7266 9.28906 16.8516 10.1875 17.0469L10.6406 18.9141C10.9609 20.1875 10.1406 21.0469 9.05469 21.0469Z",fill:"currentColor"})),"bolt"===n&&(e=(0,r.jsx)("path",{d:"M5.6084 13.0278C5.6084 12.812 5.68311 12.6211 5.84912 12.4219L13.9673 2.53564C14.6313 1.73047 15.6606 2.26172 15.2871 3.24951L12.6641 10.189H17.686C18.0845 10.189 18.3833 10.4712 18.3833 10.853C18.3833 11.0688 18.3003 11.2598 18.1426 11.459L10.0161 21.3452C9.35205 22.1504 8.32275 21.6274 8.70459 20.6313L11.3276 13.6919H6.30566C5.89893 13.6919 5.6084 13.4097 5.6084 13.0278Z",fill:"currentColor"})),"star"===n&&(e=(0,r.jsx)("path",{d:"M6.45312 20.1328C6.01562 19.7969 5.92188 19.2422 6.15625 18.5547L7.71875 13.9219L3.74219 11.0781C3.14062 10.6484 2.875 10.1484 3.05469 9.60938C3.23438 9.09375 3.73438 8.83594 4.46875 8.84375L9.34375 8.88281L10.8281 4.22656C11.0547 3.51562 11.4375 3.11719 12 3.11719C12.5547 3.11719 12.9375 3.51562 13.1641 4.22656L14.6484 8.88281L19.5156 8.84375C20.2578 8.83594 20.7578 9.09375 20.9375 9.61719C21.1172 10.1484 20.8516 10.6484 20.25 11.0781L16.2734 13.9219L17.8359 18.5547C18.0703 19.2422 17.9766 19.7969 17.5391 20.1328C17.0938 20.4766 16.5391 20.3672 15.9297 19.9297L12 17.0312L8.05469 19.9297C7.45312 20.3672 6.89844 20.4766 6.45312 20.1328Z",fill:"currentColor"})),"gear"===n&&(e=(0,r.jsx)("path",{d:"M10.7002 22.2607C10.0586 22.2607 9.5752 21.874 9.44336 21.2588L9.02148 19.501C8.78418 19.4219 8.56445 19.334 8.3623 19.2373L6.83301 20.1865C6.31445 20.5117 5.68164 20.4502 5.24219 20.0195L4.12598 18.8945C3.68652 18.4551 3.625 17.8047 3.96777 17.2861L4.89941 15.7656C4.80273 15.5635 4.71484 15.3525 4.64453 15.1416L2.87793 14.7197C2.27148 14.5879 1.88477 14.0957 1.88477 13.4629V11.8984C1.88477 11.2744 2.27148 10.7822 2.87793 10.6416L4.62695 10.2285C4.70605 9.99121 4.79395 9.77148 4.88184 9.58691L3.9502 8.04004C3.60742 7.50391 3.66016 6.87109 4.1084 6.44043L5.25098 5.31543C5.69922 4.90234 6.25293 4.84082 6.78906 5.13086L8.35352 6.08887C8.55566 5.9834 8.78418 5.89551 9.02148 5.81641L9.44336 4.05859C9.5752 3.43457 10.0586 3.04785 10.7002 3.04785H12.291C12.9238 3.04785 13.416 3.43457 13.5479 4.0498L13.9697 5.8252C14.207 5.91309 14.4268 6.00098 14.6201 6.09766L16.1934 5.13086C16.7295 4.84082 17.292 4.91992 17.7314 5.31543L18.874 6.44043C19.3311 6.87109 19.375 7.50391 19.041 8.04004L18.1006 9.58691C18.1885 9.77148 18.2764 9.99121 18.3555 10.2285L20.1045 10.6416C20.7197 10.7822 21.1064 11.2744 21.1064 11.8984V13.4629C21.1064 14.0957 20.7197 14.5879 20.1045 14.7197L18.3379 15.1416C18.2676 15.3525 18.1797 15.5635 18.0918 15.7656L19.0146 17.2861C19.3662 17.8047 19.3047 18.4551 18.8652 18.8945L17.7402 20.0195C17.3096 20.4502 16.6768 20.5117 16.1494 20.1865L14.6201 19.2373C14.418 19.334 14.1982 19.4219 13.9697 19.501L13.5479 21.2588C13.416 21.874 12.9238 22.2607 12.291 22.2607H10.7002ZM11.4912 15.6865C13.1611 15.6865 14.5234 14.3154 14.5234 12.6455C14.5234 10.9932 13.1611 9.63086 11.4912 9.63086C9.83008 9.63086 8.46777 10.9932 8.46777 12.6455C8.46777 14.3154 9.83008 15.6865 11.4912 15.6865Z",fill:"currentColor"})),"play"===n&&(e=(0,r.jsx)("path",{d:"M6.73633 20.2754C5.91016 20.2754 5.24219 19.6426 5.24219 18.5879V5.73828C5.24219 4.68359 5.91016 4.05957 6.73633 4.05957C7.14062 4.05957 7.50977 4.18262 8.00195 4.46387L18.5488 10.5811C19.3574 11.0557 19.7617 11.4863 19.7617 12.1631C19.7617 12.8486 19.3574 13.2793 18.5488 13.7451L8.00195 19.8623C7.50977 20.1436 7.14062 20.2754 6.73633 20.2754Z",fill:"currentColor"})),"learn"===n&&(e=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("path",{d:"M21.3516 8.46875C21.9609 8.75 22.3047 9.26562 22.3047 9.83594C22.3047 10.4062 21.9609 10.9141 21.3516 11.1953L13.7344 14.6797C12.8906 15.0703 12.1797 15.2422 11.5 15.2344C10.8203 15.2422 10.1172 15.0703 9.26562 14.6797L5.78906 13.0938L10.6328 10.8672C10.9062 10.9531 11.2109 11 11.5156 11C12.4922 11 13.4141 10.5312 13.4141 9.83594C13.4141 9.14844 12.4922 8.69531 11.5156 8.69531C10.5391 8.69531 9.60938 9.15625 9.60938 9.83594C9.60938 9.88281 9.61719 9.92188 9.64062 9.96094L4.375 12.4062L1.65625 11.1953C1.03906 10.9297 0.695312 10.4062 0.695312 9.83594C0.695312 9.26562 1.03906 8.75 1.65625 8.46875L9.26562 4.99219C10.1172 4.60938 10.8203 4.42969 11.5 4.4375C12.1797 4.42969 12.8906 4.60938 13.7344 4.99219L21.3516 8.46875ZM5.77344 14.4766L8.73438 15.8359C9.73438 16.2891 10.6484 16.5156 11.5 16.5078C12.3516 16.5156 13.2734 16.2891 14.2656 15.8359L19.4766 13.4453V15.5625C19.4766 18.1406 16.0703 20.1406 11.5 20.1406C9.21094 20.1406 7.20312 19.6328 5.77344 18.7891V14.4766ZM3.52344 13.4531L4.39844 13.8516V17.6406C3.83594 16.9922 3.52344 16.2422 3.52344 15.5625V13.4531ZM3.60156 20.625C3.60156 20.0391 3.90625 19.6094 4.39844 19.4531V17.6406C4.75 18.0703 5.21094 18.4531 5.77344 18.7891V19.4531C6.26562 19.6094 6.5625 20.0391 6.5625 20.625V22.6094C6.5625 23.3516 6.07031 23.8438 5.32812 23.8438H4.83594C4.09375 23.8438 3.60156 23.3516 3.60156 22.6094V20.625Z",fill:"currentColor"})})),"crown"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M4.075 15.407h15.891l1.05-4.235c1.225-.04 2.21-1.022 2.21-2.24 0-1.224-1.026-2.23-2.284-2.23-1.257 0-2.275 1.006-2.275 2.23 0 .293.05.56.15.812L16.5 11.351c-.198.137-.339.089-.447-.065L13.2 7.27a2.23 2.23 0 0 0 1.092-1.915c0-1.225-1.017-2.231-2.274-2.231-1.266 0-2.283 1.006-2.283 2.231a2.22 2.22 0 0 0 1.1 1.915l-2.83 3.983c-.107.146-.23.187-.43.057L5.21 9.671c.082-.235.124-.478.124-.738 0-1.225-1.018-2.231-2.275-2.231S.775 7.708.775 8.932c0 1.226 1 2.224 2.242 2.24l1.058 4.235Zm.39 1.566.314 1.241c.355 1.444 1.199 2.175 2.705 2.175h9.066c1.505 0 2.34-.723 2.705-2.175l.314-1.241H4.464Z"})),"target"===n&&(e=(0,r.jsx)("path",{d:"M12 20.9443C6.91113 20.9443 2.71875 16.752 2.71875 11.6543C2.71875 6.56543 6.90234 2.37305 12 2.37305C17.0889 2.37305 21.2812 6.56543 21.2812 11.6543C21.2812 16.752 17.0977 20.9443 12 20.9443ZM12 18.6328C15.8672 18.6328 18.9785 15.5215 18.9697 11.6543C18.9697 7.7959 15.8584 4.68457 12 4.68457C8.13281 4.68457 5.03906 7.7959 5.03906 11.6543C5.03906 15.5215 8.1416 18.6328 12 18.6328ZM12 17.1475C9.01172 17.1475 6.50684 14.6602 6.50684 11.6631C6.50684 8.65723 8.99414 6.16113 12 6.16113C15.0234 6.16113 17.4932 8.63965 17.4932 11.6631C17.4932 14.6602 15.0059 17.1475 12 17.1475ZM12 15.1787C13.9072 15.1787 15.5156 13.5703 15.5156 11.6631C15.5156 9.75586 13.8984 8.13867 12 8.13867C10.0928 8.13867 8.48438 9.74707 8.48438 11.6631C8.48438 13.5615 10.1016 15.1787 12 15.1787ZM12.0088 13.7021C10.8926 13.7021 9.95215 12.7705 9.95215 11.6543C9.95215 10.5381 10.8838 9.61523 12.0088 9.61523C13.1162 9.61523 14.0566 10.5469 14.0566 11.6543C14.0566 12.7793 13.125 13.7021 12.0088 13.7021Z",fill:"currentColor"})),"percent"===n&&(e=(0,r.jsx)("path",{d:"M6.79541 19.793C6.30566 19.5024 6.17285 18.8965 6.54639 18.3403L15.7769 4.57764C16.1338 4.04639 16.7231 3.93018 17.1797 4.1875C17.6777 4.46973 17.8354 5.10889 17.4702 5.65674L8.23975 19.4692C7.90771 19.9673 7.26025 20.0669 6.79541 19.793ZM6.57129 12.2891C4.50439 12.2891 3.20947 10.7534 3.20947 8.21338C3.20947 5.66504 4.521 4.1626 6.57129 4.1626C8.62158 4.1626 9.93311 5.65674 9.93311 8.20508C9.93311 10.7368 8.63818 12.2891 6.57129 12.2891ZM6.57129 10.604C7.37646 10.604 7.81641 9.77393 7.81641 8.21338C7.81641 6.66113 7.37646 5.84766 6.57129 5.84766C5.76611 5.84766 5.32617 6.66943 5.32617 8.21338C5.32617 9.77393 5.75781 10.604 6.57129 10.604ZM17.4204 19.8594C15.3535 19.8594 14.0586 18.3154 14.0586 15.7754C14.0586 13.2271 15.3701 11.7246 17.4204 11.7246C19.4707 11.7246 20.7822 13.2188 20.7822 15.7754C20.7822 18.3071 19.4873 19.8594 17.4204 19.8594ZM17.4204 18.1743C18.2256 18.1743 18.6655 17.3442 18.6655 15.7754C18.6655 14.2231 18.2256 13.4097 17.4204 13.4097C16.6152 13.4097 16.1753 14.2314 16.1753 15.7754C16.1753 17.3442 16.6069 18.1743 17.4204 18.1743Z",fill:"currentColor"})),"characters"===n&&(e=(0,r.jsx)("path",{d:"M15.25 19.9688C14.6953 19.9688 14.4062 19.7109 14.4062 19.2578C14.4062 18.7969 14.6953 18.5547 15.25 18.5547H16.7109V4.14062H15.25C14.6953 4.14062 14.4062 3.89062 14.4062 3.42188C14.4062 2.97656 14.6953 2.73438 15.25 2.73438H19.7344C20.2891 2.73438 20.5781 2.97656 20.5781 3.42188C20.5781 3.89062 20.2891 4.14062 19.7344 4.14062H18.3281V18.5547H19.7344C20.2891 18.5547 20.5781 18.7969 20.5781 19.2578C20.5781 19.7109 20.2891 19.9688 19.7344 19.9688H15.25ZM4.64062 17.3594C3.88281 17.3594 3.42188 16.9219 3.42188 16.2109C3.42188 15.9844 3.46094 15.75 3.55469 15.4766L6.67969 6.84375C7.00781 5.89844 7.65625 5.42969 8.66406 5.42969C9.73438 5.42969 10.3828 5.89062 10.7109 6.85156L13.7891 15.3828C13.8828 15.6719 13.9297 15.8984 13.9297 16.1797C13.9297 16.8906 13.4297 17.3594 12.6562 17.3594C11.9453 17.3594 11.5625 17.0469 11.3516 16.2969L10.7266 14.4531H6.57031L5.9375 16.2969C5.73438 17.0469 5.35156 17.3594 4.64062 17.3594ZM7.10156 12.5547H10.2031L8.67969 7.83594H8.625L7.10156 12.5547Z",fill:"currentColor"})),"tags"===n&&(e=(0,r.jsx)("path",{d:"M7.26025 21.5029C6.41357 21.5029 5.86572 20.9136 5.86572 20.0005V5.39941C5.86572 3.63135 6.84521 2.65186 8.59668 2.65186H15.395C17.1465 2.65186 18.126 3.63135 18.126 5.39941V20.0005C18.126 20.9136 17.5698 21.5029 16.7314 21.5029C16.2002 21.5029 15.8599 21.2705 15.2041 20.6313L12.0664 17.4937C12.0249 17.4604 11.9668 17.4604 11.9253 17.4937L8.7959 20.623C8.14014 21.2705 7.7832 21.5029 7.26025 21.5029ZM8.23145 18.0083L11.2695 15.0698C11.7593 14.5967 12.2324 14.5967 12.7222 15.0698L15.7603 18.0083C15.8682 18.1162 15.9844 18.0747 15.9844 17.9253V5.62354C15.9844 5.04248 15.7271 4.79346 15.1543 4.79346H8.8374C8.26465 4.79346 8.00732 5.04248 8.00732 5.62354V17.9253C8.00732 18.0747 8.13184 18.1162 8.23145 18.0083Z",fill:"currentColor"})),"quote"===n&&(e=(0,r.jsx)("path",{d:"M24 13.7495C24 16.7766 21.7701 19 18.7831 19C15.6508 19 13.0994 16.62 13.0994 12.5073C13.0994 10.19 13.9188 8.14405 15.3812 6.6096C16.3976 5.53445 17.6837 4.73069 19.0527 4.26096C19.6335 4.07307 19.9551 4 20.4218 4C20.9818 4 21.376 4.35491 21.376 4.85595C21.376 5.11691 21.2826 5.32568 21.1063 5.48225C20.9507 5.63883 20.7018 5.74322 20.3596 5.8476C17.9222 6.48434 16.1175 8.17537 15.5782 10.0438H15.9723C16.8021 9.08351 17.9533 8.60334 19.2705 8.60334C21.9568 8.60334 24 10.8163 24 13.7495ZM10.9006 13.7495C10.9006 16.7766 8.68107 19 5.68366 19C2.5618 19 0 16.62 0 12.5073C0 10.19 0.829732 8.14405 2.29213 6.6096C3.30856 5.53445 4.58427 4.73069 5.9637 4.26096C6.53414 4.07307 6.86603 4 7.32239 4C7.88245 4 8.28695 4.35491 8.28695 4.85595C8.28695 5.11691 8.18323 5.32568 8.01729 5.48225C7.86171 5.63883 7.61279 5.74322 7.27053 5.8476C4.82282 6.48434 3.01815 8.17537 2.4892 10.0438H2.87295C3.71305 9.08351 4.8643 8.60334 6.1815 8.60334C8.86776 8.60334 10.9006 10.8163 10.9006 13.7495Z",fill:"currentColor"})),"fire"===n&&(e=(0,r.jsx)("path",{d:"M11.5693 21.707C7.19238 21.707 4.2832 19.1758 4.2832 15.3789C4.2832 12.0215 5.84766 11.1777 5.84766 9.08594C5.84766 8.57617 5.77734 8.18066 5.77734 7.83789C5.77734 7.2666 6.12012 6.93262 6.62988 6.93262C7.35938 6.93262 8.13281 7.43359 8.71289 8.62012C8.72168 8.5498 8.72168 8.47949 8.72168 8.40918C8.71289 6.80078 7.79004 5.48242 6.62988 4.08496C6.41016 3.82129 6.27832 3.50488 6.27832 3.20605C6.27832 2.43262 6.97266 2.01074 8.00098 2.01074C12.7559 2.01074 19.7168 5.40332 19.7168 13.498C19.7168 18.4287 16.4561 21.707 11.5693 21.707ZM11.666 19.791C15.3047 19.791 17.7393 17.251 17.7393 13.4453C17.7393 8.37402 14.3115 4.58594 8.90625 3.93555C9.86426 5.1748 10.4355 6.7832 10.4355 8.40039C10.4355 9.9209 9.83789 11.8369 8.87988 11.8369C8.58984 11.8369 8.39648 11.6523 8.34375 11.3271C8.19434 10.5977 7.95703 9.90332 7.61426 9.33203C7.58789 12.083 6.20801 12.8389 6.20801 15.3789C6.20801 18.0244 8.39648 19.791 11.666 19.791ZM11.8066 18.5869C10.2158 18.5869 9.16113 17.6377 9.16113 16.2227C9.16113 14.7725 10.1719 14.333 10.3037 13.1992C10.3125 13.0586 10.4531 12.9795 10.5938 13.0938C10.9453 13.4365 11.1826 13.8584 11.3672 14.4121C11.7979 13.665 11.8857 12.54 11.71 11.3184C11.6748 11.1338 11.8242 11.0459 11.9736 11.1074C13.793 11.9072 14.8037 13.6914 14.8037 15.4844C14.8037 17.2246 13.7227 18.5869 11.8066 18.5869Z",fill:"currentColor"})),"fire-filled"===n&&(e=(0,r.jsx)("path",{d:"M11.5693 21.707C7.19238 21.707 4.2832 19.1758 4.2832 15.3789C4.2832 12.0215 5.84766 11.1777 5.84766 9.08594C5.84766 8.57617 5.77734 8.18066 5.77734 7.83789C5.77734 7.2666 6.12012 6.93262 6.62988 6.93262C7.35938 6.93262 8.13281 7.43359 8.71289 8.62012C8.72168 8.5498 8.72168 8.47949 8.72168 8.40918C8.71289 6.80078 7.79004 5.48242 6.62988 4.08496C6.41016 3.82129 6.27832 3.50488 6.27832 3.20605C6.27832 2.43262 6.97266 2.01074 8.00098 2.01074C12.7559 2.01074 19.7168 5.40332 19.7168 13.498C19.7168 18.4287 16.4561 21.707 11.5693 21.707ZM11.7979 18.5869C13.7578 18.5869 14.8652 17.1982 14.8652 15.4141C14.8652 13.5859 13.8281 11.7666 11.9736 10.9492C11.8154 10.8877 11.666 10.9756 11.7012 11.1602C11.877 12.4082 11.7891 13.5508 11.3584 14.3154C11.1738 13.7617 10.9277 13.3223 10.5674 12.9707C10.4268 12.8477 10.2773 12.9355 10.2686 13.085C10.1279 14.2451 9.09961 14.6846 9.09961 16.1699C9.09961 17.6201 10.1719 18.5869 11.7979 18.5869Z",fill:"currentColor"})),"lock"===n&&(e=(0,r.jsx)("path",{d:"M12 17a2 2 0 0 0 2-2 2 2 0 0 0-2-2 2 2 0 0 0-2 2 2 2 0 0 0 2 2m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 0 1 5-5 5 5 0 0 1 5 5v2h1m-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3Z",fill:"currentColor"})),"chevron-right"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M18 12c0 .535-.188.982-.652 1.42l-8.354 8.089c-.331.327-.74.491-1.226.491C6.796 22 6 21.225 6 20.264c0-.491.199-.928.564-1.288l7.281-6.987-7.281-6.976A1.753 1.753 0 0 1 6 3.736C6 2.786 6.796 2 7.768 2c.486 0 .895.164 1.226.491l8.354 8.09c.453.426.652.873.652 1.419Z"})),"linkedin"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M19 3A2 2 0 0 1 21 5V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V5A2 2 0 0 1 5 3H19M18.5 18.5V13.2A3.26 3.26 0 0 0 15.24 9.94C14.39 9.94 13.4 10.46 12.92 11.24V10.13H10.13V18.5H12.92V13.57C12.92 12.8 13.54 12.17 14.31 12.17A1.4 1.4 0 0 1 15.71 13.57V18.5H18.5M6.88 8.56A1.68 1.68 0 0 0 8.56 6.88C8.56 5.95 7.81 5.19 6.88 5.19A1.69 1.69 0 0 0 5.19 6.88C5.19 7.81 5.95 8.56 6.88 8.56M8.27 18.5V10.13H5.5V18.5H8.27Z"})),"instagram"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"})),"youtube"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z"})),"twitch"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M11.64 5.93H13.07V10.21H11.64M15.57 5.93H17V10.21H15.57M7 2L3.43 5.57V18.43H7.71V22L11.29 18.43H14.14L20.57 12V2M19.14 11.29L16.29 14.14H13.43L10.93 16.64V14.14H7.71V3.43H19.14Z"})),"money"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M7,15H9C9,16.08 10.37,17 12,17C13.63,17 15,16.08 15,15C15,13.9 13.96,13.5 11.76,12.97C9.64,12.44 7,11.78 7,9C7,7.21 8.47,5.69 10.5,5.18V3H13.5V5.18C15.53,5.69 17,7.21 17,9H15C15,7.92 13.63,7 12,7C10.37,7 9,7.92 9,9C9,10.1 10.04,10.5 12.24,11.03C14.36,11.56 17,12.22 17,15C17,16.79 15.53,18.31 13.5,18.82V21H10.5V18.82C8.47,18.31 7,16.79 7,15Z"})),"sun"===n&&(e=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 2.40002C12.3182 2.40002 12.6234 2.52645 12.8484 2.7515C13.0735 2.97654 13.1999 3.28176 13.1999 3.60002V4.80002C13.1999 5.11828 13.0735 5.42351 12.8484 5.64855C12.6234 5.8736 12.3182 6.00002 11.9999 6.00002C11.6816 6.00002 11.3764 5.8736 11.1514 5.64855C10.9263 5.42351 10.7999 5.11828 10.7999 4.80002V3.60002C10.7999 3.28176 10.9263 2.97654 11.1514 2.7515C11.3764 2.52645 11.6816 2.40002 11.9999 2.40002ZM16.7999 12C16.7999 13.2731 16.2942 14.494 15.394 15.3941C14.4938 16.2943 13.2729 16.8 11.9999 16.8C10.7269 16.8 9.50596 16.2943 8.60579 15.3941C7.70562 14.494 7.1999 13.2731 7.1999 12C7.1999 10.727 7.70562 9.50609 8.60579 8.60591C9.50596 7.70574 10.7269 7.20002 11.9999 7.20002C13.2729 7.20002 14.4938 7.70574 15.394 8.60591C16.2942 9.50609 16.7999 10.727 16.7999 12ZM16.2431 17.94L17.0915 18.7884C17.3178 19.007 17.6209 19.128 17.9356 19.1252C18.2502 19.1225 18.5512 18.9963 18.7737 18.7738C18.9962 18.5513 19.1224 18.2503 19.1251 17.9357C19.1278 17.6211 19.0069 17.3179 18.7883 17.0916L17.9399 16.2432C17.7136 16.0246 17.4105 15.9037 17.0958 15.9064C16.7812 15.9092 16.4802 16.0354 16.2577 16.2578C16.0352 16.4803 15.909 16.7813 15.9063 17.0959C15.9036 17.4106 16.0245 17.7137 16.2431 17.94ZM18.7871 5.21162C19.0121 5.43666 19.1384 5.74183 19.1384 6.06002C19.1384 6.37822 19.0121 6.68339 18.7871 6.90842L17.9399 7.75682C17.8292 7.87144 17.6968 7.96286 17.5504 8.02575C17.404 8.08864 17.2465 8.12174 17.0872 8.12313C16.9278 8.12451 16.7698 8.09415 16.6224 8.03381C16.4749 7.97347 16.3409 7.88437 16.2282 7.7717C16.1156 7.65903 16.0265 7.52505 15.9661 7.37757C15.9058 7.23009 15.8754 7.07208 15.8768 6.91274C15.8782 6.75341 15.9113 6.59594 15.9742 6.44954C16.0371 6.30313 16.1285 6.17072 16.2431 6.06002L17.0915 5.21162C17.3165 4.98666 17.6217 4.86028 17.9399 4.86028C18.2581 4.86028 18.5621 4.98666 18.7871 5.21162ZM20.3999 13.2C20.7182 13.2 21.0234 13.0736 21.2484 12.8486C21.4735 12.6235 21.5999 12.3183 21.5999 12C21.5999 11.6818 21.4735 11.3765 21.2484 11.1515C21.0234 10.9265 20.7182 10.8 20.3999 10.8H19.1999C18.8816 10.8 18.5764 10.9265 18.3514 11.1515C18.1263 11.3765 17.9999 11.6818 17.9999 12C17.9999 12.3183 18.1263 12.6235 18.3514 12.8486C18.5764 13.0736 18.8816 13.2 19.1999 13.2H20.3999ZM11.9999 18C12.3182 18 12.6234 18.1265 12.8484 18.3515C13.0735 18.5765 13.1999 18.8818 13.1999 19.2V20.4C13.1999 20.7183 13.0735 21.0235 12.8484 21.2486C12.6234 21.4736 12.3182 21.6 11.9999 21.6C11.6816 21.6 11.3764 21.4736 11.1514 21.2486C10.9263 21.0235 10.7999 20.7183 10.7999 20.4V19.2C10.7999 18.8818 10.9263 18.5765 11.1514 18.3515C11.3764 18.1265 11.6816 18 11.9999 18ZM6.0599 7.75682C6.17132 7.86832 6.3036 7.95677 6.4492 8.01714C6.5948 8.07751 6.75086 8.10861 6.90848 8.10867C7.0661 8.10872 7.22218 8.07773 7.36782 8.01747C7.51347 7.9572 7.64581 7.86884 7.7573 7.75742C7.86879 7.64601 7.95725 7.51373 8.01762 7.36813C8.07799 7.22253 8.10909 7.06647 8.10915 6.90885C8.1092 6.75123 8.07821 6.59514 8.01795 6.4495C7.95768 6.30386 7.86932 6.17152 7.7579 6.06002L6.9083 5.21162C6.68198 4.99303 6.37886 4.87208 6.06422 4.87482C5.74958 4.87755 5.44861 5.00375 5.22612 5.22624C5.00363 5.44873 4.87743 5.74971 4.87469 6.06434C4.87196 6.37898 4.99291 6.6821 5.2115 6.90842L6.0599 7.75682ZM7.7567 17.94L6.9083 18.7884C6.68198 19.007 6.37886 19.128 6.06422 19.1252C5.74958 19.1225 5.44861 18.9963 5.22612 18.7738C5.00363 18.5513 4.87743 18.2503 4.87469 17.9357C4.87196 17.6211 4.99291 17.3179 5.2115 17.0916L6.0599 16.2432C6.28623 16.0246 6.58935 15.9037 6.90398 15.9064C7.21862 15.9092 7.51959 16.0354 7.74208 16.2578C7.96457 16.4803 8.09078 16.7813 8.09351 17.0959C8.09625 17.4106 7.97529 17.7137 7.7567 17.94ZM4.7999 13.2C5.11816 13.2 5.42339 13.0736 5.64843 12.8486C5.87347 12.6235 5.9999 12.3183 5.9999 12C5.9999 11.6818 5.87347 11.3765 5.64843 11.1515C5.42339 10.9265 5.11816 10.8 4.7999 10.8H3.5999C3.28164 10.8 2.97642 10.9265 2.75137 11.1515C2.52633 11.3765 2.3999 11.6818 2.3999 12C2.3999 12.3183 2.52633 12.6235 2.75137 12.8486C2.97642 13.0736 3.28164 13.2 3.5999 13.2H4.7999Z",fill:"currentColor"})),"moon"===n&&(e=(0,r.jsx)("path",{d:"M20.7516 15.9516C18.9738 16.7557 16.9932 16.9991 15.0736 16.6491C13.154 16.2992 11.3867 15.3727 10.007 13.993C8.62728 12.6133 7.70076 10.8459 7.35084 8.92637C7.00093 7.00681 7.24424 5.0262 8.04837 3.24841C6.63304 3.88803 5.39401 4.86145 4.43757 6.08516C3.48114 7.30888 2.83584 8.74636 2.55706 10.2743C2.27828 11.8022 2.37432 13.3749 2.83696 14.8576C3.2996 16.3402 4.11501 17.6885 5.21325 18.7867C6.31149 19.885 7.65976 20.7004 9.1424 21.163C10.625 21.6257 12.1978 21.7217 13.7257 21.4429C15.2536 21.1641 16.6911 20.5188 17.9148 19.5624C19.1385 18.606 20.112 17.3669 20.7516 15.9516Z",fill:"currentColor"})),(0,r.jsx)("svg",{width:o,height:o,viewBox:"0 0 24 24",fill:i||"undefined",color:i||void 0,style:{color:i||"undefined",verticalAlign:"middle",marginRight:a||"0.5rem",marginLeft:c||"0"},xmlns:"http://www.w3.org/2000/svg",children:e})})},9241:function(t,e,n){"use strict";n.d(e,{R:function(){return s},a:function(){return i}});var r=n(2322);n(2784);function i(t){var e=t.height,n=t.noMargin,i=t.leftMargin;return(0,r.jsx)("svg",{viewBox:"0 0 166 166",height:e||"1.6em",style:{margin:n?null:i?" 0 0 0 ".concat(i):"0 0.8rem"},className:"loader",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{d:"M83 166c-45.84 0-83-37.16-83-83S37.16 0 83 0s83 37.16 83 83-37.16 83-83 83zm0-29c29.823 0 54-24.177 54-54s-24.177-54-54-54-54 24.177-54 54 24.177 54 54 54z",fill:"currentColor",style:{opacity:.2}}),(0,r.jsx)("path",{d:"M137.008 83H137c0-29.823-24.177-54-54-54S29 53.177 29 83h-.008c.005.166.008.333.008.5C29 91.508 22.508 98 14.5 98S0 91.508 0 83.5c0-.167.003-.334.008-.5H0C0 37.16 37.16 0 83 0s83 37.16 83 83h-.008c.005.166.008.333.008.5 0 8.008-6.492 14.5-14.5 14.5S137 91.508 137 83.5c0-.167.003-.334.008-.5z",fill:"currentColor"}),(0,r.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 83 83",to:"360 83 83",repeatCount:"indefinite"})]})})}function s(t){var e=t.children;return(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"2rem 1rem"},children:[(0,r.jsx)(i,{})," ",e]})}},6399:function(t,e,n){"use strict";n.d(e,{T:function(){return v}});var r=n(2322),i=n(2784),s=n(2260),o=n(9097),a=n.n(o),c=(n(8329),n(1893)),u=n(5632),l=n(9604),h=n(7414),d=n(5598);function f(){var t=(new Date).getFullYear();(0,h.P)(),(0,c.a)();return(0,r.jsxs)("div",{className:"v2-footer",children:[(0,r.jsxs)("div",{className:"footer__copyright",children:["\xa9 ",t," CSSBattle"]}),(0,r.jsx)("div",{className:"footer__links",children:(0,r.jsxs)(d.HStack,{gap:"1.5rem",justify:"flex-end",children:[(0,r.jsx)(a(),{href:"/tips",children:(0,r.jsx)("a",{children:"Tips & Tricks"})}),(0,r.jsx)("a",{href:"/blog/",children:"Blog"}),(0,r.jsx)(a(),{href:"/faqs",children:(0,r.jsx)("a",{children:"FAQs"})}),(0,r.jsx)("a",{href:"https://community.cssbattle.dev",target:"_blank",rel:"external noopener noreferrer",children:"Community"}),(0,r.jsx)(a(),{href:"/about",children:(0,r.jsx)("a",{children:"About"})}),(0,r.jsx)(a(),{href:"/advertise",children:(0,r.jsx)("a",{children:"Advertise"})}),(0,r.jsx)(a(),{href:"/privacy-and-terms",children:(0,r.jsx)("a",{children:"Privacy & Terms"})}),(0,r.jsx)("a",{href:"https://discord.gg/rvqvbcFM86",target:"_blank",rel:"external noopener noreferrer",className:"hint--top-left","aria-label":"Join on Discord",children:(0,r.jsx)(l.J,{marginRight:"0",name:"discord-alt",size:"18"})}),(0,r.jsx)("a",{href:"https://twitter.com/css_battle",target:"_blank",rel:"external noopener noreferrer",className:"hint--top-left","aria-label":"Join on Twitter",children:(0,r.jsx)(l.J,{marginRight:"0",name:"twitter",size:"18"})}),(0,r.jsx)("a",{href:"mailto:contact@cssbattle.dev",target:"_blank",rel:"external noopener noreferrer",className:"hint--top-left","aria-label":"Contact us",children:(0,r.jsx)(l.J,{marginRight:"0",name:"mail",size:"18"})})]})})]})}var p=i.memo(f),m=n(9514),g=n(3552);function v(t){var e=t.children,n=(0,u.useRouter)(),o=/\/(play\/)|(learn\/)|(course-editor)\S*/.test(n.asPath),a=(0,i.useState)(!o),c=a[0],l=a[1],h=function(){l(!c)};(0,i.useEffect)((function(){l(!o&&c)}),[n.asPath]);var d=(0,i.useContext)(g.k),f=d.levelId,v=d.level,y=d.battle;d.setBattle;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"page-wrapper",children:[(0,r.jsx)(m.n,{collapsible:o,visible:c}),(0,r.jsxs)("div",{className:"content-wrapper",children:[(0,r.jsx)(s.h,{onToggleSidebar:h,isSidebarVisible:c,levelId:f,level:v,battle:y}),(0,r.jsx)("div",{className:"page-content ".concat(o&&"page-content--no-padding"),children:(0,r.jsxs)("div",{className:"page-content__inner ".concat(o&&"page-content__inner--fluid"),children:[e,(0,r.jsx)("div",{className:"".concat(o&&c?"sidebar-container--visible":""),children:(0,r.jsx)("div",{className:"underlay",onClick:h})})]})}),(0,r.jsx)(p,{})]})]})})}},8329:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(2322),i=function(t){var e=t.height,n=void 0===e?18:e,i=t.style;return(0,r.jsx)("img",{height:n,className:"pro-badge",style:i,src:"/images/pro-badge.svg",alt:"Pro badge"})}},3290:function(t,e,n){"use strict";n.d(e,{q:function(){return r}});var r=function(t){var e=t.name,n=t.category,r=t.label;window.gtag&&window.gtag("event",e,{event_category:n,event_label:r})}},1211:function(t,e,n){"use strict";n.d(e,{z:function(){return a}});var r=n(930),i=n(2322),s=n(2784);var o=function(t){var e=t.value,n=t.nextValue,r=(0,s.useRef)();return(0,s.useEffect)((function(){var t;n!==e&&(null===(t=r.current)||void 0===t||t.classList.remove("changed"),setTimeout((function(){var t;null===(t=r.current)||void 0===t||t.classList.add("changing")}),20),setTimeout((function(){var t,e;null===(t=r.current)||void 0===t||t.classList.add("changed"),null===(e=r.current)||void 0===e||e.classList.remove("changing")}),950))}),[n]),(0,i.jsxs)("div",{ref:r,className:"count up",children:[(0,i.jsx)("span",{className:"current top ",children:e}),(0,i.jsx)("span",{className:"next top ",children:n}),(0,i.jsx)("span",{className:"current bottom",children:e}),(0,i.jsx)("span",{className:"next bottom",children:n})]})},a=function(t){var e=t.number,n=t.countDigits,a=void 0===n?3:n,c=t.size,u=void 0===c?"0.6":c,l=(0,s.useState)(Array(4).fill(a)),h=l[0],d=l[1],f=(0,s.useState)(Array(4).fill(a)),p=f[0],m=f[1];return(0,s.useEffect)((function(){var t=(e+"").padStart(a,"0").split("");m((0,r.Z)(h)),d(t)}),[e]),(0,i.jsx)("div",{style:{display:"inline-flex",gap:"calc(1rem * var(--size))","--size":u},children:h.map((function(t,e){return(0,i.jsx)(o,{value:p[e],nextValue:t},e)}))})}},9514:function(t,e,n){"use strict";n.d(e,{n:function(){return m}});var r=n(2322),i=(n(2784),n(9502)),s=n.n(i),o=n(9097),a=n.n(o),c=n(9604),u=n(5632),l=n(1893),h=n(8387),d=n(5598),f=n(7414),p=function(t){var e=t.icon,n=t.title,i=t.link,o=t.tag,l=t.matchRegex,h=(0,u.useRouter)().asPath,d=h==i||(null===l||void 0===l?void 0:l.test(h));return(0,r.jsx)(a(),{href:i,children:(0,r.jsxs)("a",{className:"".concat(s().sidebarPageItem,"\n      ").concat(d?s().sidebarPageItemActive:""),children:[(0,r.jsx)(c.J,{name:e,size:"18",marginRight:"0"}),(0,r.jsx)("span",{className:s().sidebarPageItemText,children:n}),o?(0,r.jsx)("span",{className:s().sidebarPageItemTag,children:o}):null]})})},m=function(t){var e=t.collapsible,n=void 0!==e&&e,i=t.visible,o=void 0!==i&&i,c=((new Date).getFullYear(),(0,f.P)()),u=(0,l.a)();return(0,r.jsxs)("div",{className:"".concat(s().sidebarContainer," ").concat(n?s().sidebarContainerCollapsible:""," ").concat(o?s().sidebarContainerVisible:""),children:[(0,r.jsx)("div",{className:s().sidebarLogo,children:(0,r.jsx)(a(),{href:"/",children:(0,r.jsx)("a",{className:"logo-image logo-image--full"})})}),(0,r.jsx)("div",{className:s().sidebarLogoSmall,children:(0,r.jsx)(a(),{href:"/",children:(0,r.jsx)("a",{className:"logo-image logo-image--glyph"})})}),(0,r.jsxs)("div",{className:s().sidebarMainContent,children:[(0,r.jsx)("div",{className:s().sidebarSection,children:(0,r.jsx)(p,{icon:"home",title:"Home",link:"/"})}),(0,r.jsxs)("div",{className:s().sidebarSection,children:[(0,r.jsx)("div",{className:s().sidebarSectionHeading,children:"Play"}),(0,r.jsx)(p,{icon:"daily-targets",title:"Daily targets",link:"/daily",tag:"new"}),(0,r.jsx)(p,{icon:"battle",title:"Battles",link:"/battles",tag:"1 ongoing",matchRegex:/\/\/battle\/\S+/}),(0,r.jsx)(p,{icon:"trophy",title:"Leaderboards",link:"/leaderboard",matchRegex:/\/leaderboard\/\S+/}),(0,r.jsx)(p,{icon:"learn",title:"Learn CSS",link:"/learn"})]}),u&&c?(0,r.jsxs)("div",{className:s().sidebarSection,children:[(0,r.jsx)("div",{className:s().sidebarSectionHeading,children:"For you"}),(0,r.jsx)(p,{icon:"profile",title:"Profile",link:"/player/".concat(u.username||u.uid)}),(0,r.jsx)(p,{icon:"stats",title:"Stats",link:"/me"}),(0,r.jsx)(p,{icon:"gear",title:"Settings",link:"/settings"})]}):null]}),(0,r.jsx)("div",{className:s().sidebarFooter,children:(0,r.jsx)(d.VStack,{gap:"1rem",align:"stretch",children:(null===u||void 0===u?void 0:u.isPro)&&c?null:(0,r.jsx)(a(),{href:"/plus",children:(0,r.jsxs)("a",{className:"button button--full-width",style:{position:"relative"},children:[(0,r.jsxs)(d.HStack,{gap:"0",children:[(0,r.jsx)("span",{children:"Upgrade to"}),(0,r.jsx)(h.Z,{})]}),(0,r.jsx)("span",{className:"button__border"})]})})})})]})}},8387:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(2322),i=(n(2784),function(t){var e=t.height,n=void 0===e?18:e,i=t.style;return(0,r.jsx)("img",{height:n,className:"pro-badge",style:i,src:"/images/pro-badge.svg",alt:"Pro badge"})})},5598:function(t,e,n){"use strict";n.r(e),n.d(e,{HStack:function(){return u},Spacer:function(){return l},Stack:function(){return a},VStack:function(){return c}});var r=n(865),i=n(6670),s=n(2322),o=n(2784),a=(0,o.forwardRef)((function(t,e){var n=t.classes,r=void 0===n?"":n,i=t.gap,o=void 0===i?"1rem":i,a=t.align,c=void 0===a?"center":a,u=t.justify,l=void 0===u?"flex-start":u,h=t.direction,d=void 0===h?"horizontal":h,f=t.expand,p=void 0!==f&&f,m=t.wrap,g=t.children;return(0,s.jsx)("div",{ref:e,style:{display:"flex",gap:o,alignItems:c,justifyContent:l,flexDirection:"vertical"===d?"column":"row",height:p&&"vertical"===d?"100%":null,width:p&&"horizontal"===d?"100%":null,flexWrap:m?"wrap":null},className:r,children:g})})),c=(0,o.forwardRef)((function(t,e){return(0,s.jsx)(a,(0,i.Z)((0,r.Z)({},t),{direction:"vertical",ref:e}))})),u=(0,o.forwardRef)((function(t,e){return(0,s.jsx)(a,(0,i.Z)((0,r.Z)({classes:"hstack ".concat(t.responsive?"hstack--responsive":"")},t),{ref:e}))})),l=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{style:{flexGrow:"1"}})})}},7841:function(t,e,n){"use strict";n.d(e,{x:function(){return o}});var r=n(865),i=n(2322),s=(n(2784),{normal:{color:"var(--clr-text)"},primary:{color:"var(--clr-heading)"},secondary:{color:"var(--clr-text-light)"},tertiary:{color:"var(--clr-text-lightest-final)"},brand:{color:"var(--clr-brand)"}}),o=function(t){var e=t.size,n=void 0===e?0:e,o=t.weight,a=void 0===o?"normal":o,c=t.tag,u=t.style,l=void 0===u?"normal":u,h=t.appearance,d=void 0===h?"normal":h,f=t.mono,p=void 0===f||f,m=t.letterSpacing,g=void 0===m?0:m,v=t.lineHeight,y=void 0===v?1.4:v,_=t.align,b=void 0===_?"left":_,w=t.classes,C=void 0===w?"":w,E=t.children,T=c||"span",S=(0,r.Z)({letterSpacing:g,fontSize:"var(--font-size-".concat(n,")"),fontFamily:p?"IBM Plex Mono":"ClashGrotesk",fontWeight:a,textAlign:b,lineHeight:y,fontStyle:"italic"===l?"italic":"normal"},s[d]);return(0,i.jsx)(T,{style:S,className:C,children:E})}},3552:function(t,e,n){"use strict";n.d(e,{S:function(){return i},k:function(){return s}});var r=n(2784),i=(0,r.createContext)({user:null,setUser:function(){}}),s=(0,r.createContext)({streak:null,battle:null,setBattle:null,theme:"dark",setTheme:function(){}})},4675:function(t,e,n){"use strict";n.d(e,{NX:function(){return u},I8:function(){return l},db:function(){return h},OB:function(){return o},H:function(){return c}});var r=n(5500);(0,r.KN)("firebase","10.0.0","app");var i=n(3947),s=n(8747),o=n(3542).env.NEXT_PUBLIC_ENV||"production",a=(0,r.C6)(),c=a.length?a[0]:(0,r.ZF)("development"===o?{apiKey:"AIzaSyCm7WWpsZ1EycmQR-NBvTMToS1lZ9gfGpw",authDomain:"cssbattle-756.firebaseapp.com",databaseURL:"https://cssbattle-756.firebaseio.com",projectId:"cssbattle-756",storageBucket:"cssbattle-756.appspot.com",messagingSenderId:"423644073145",appId:"1:423644073145:web:71a6e7778358269017df68"}:{apiKey:"AIzaSyCR1oteCf0oGnq0HXymDmcn0jOf7IXUmuo",authDomain:"cssbattleapp.firebaseapp.com",databaseURL:"https://cssbattleapp.firebaseio.com",projectId:"cssbattleapp",storageBucket:"cssbattleapp.appspot.com",messagingSenderId:"924387938820"}),u="development"===o?"cssbattle-756":"cssbattleapp",l=(0,i.v0)(c),h=(0,s.ad)(c)},9288:function(t,e,n){"use strict";n.d(e,{I:function(){return i}});var r=n(2784);function i(){var t=(0,r.useState)(""),e=t[0],n=t[1];return(0,r.useEffect)((function(){n(navigator.userAgent.includes("Mac OS X")?"\u2318":"Ctrl")}),[]),e}},1893:function(t,e,n){"use strict";n.d(e,{a:function(){return s}});var r=n(2784),i=n(3552);function s(){return(0,r.useContext)(i.S)}},7414:function(t,e,n){"use strict";n.d(e,{P:function(){return i}});var r=n(2784),i=function(){var t=(0,r.useState)(!1),e=t[0],n=t[1];return(0,r.useEffect)((function(){n(!0)}),[]),e}},7537:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return hn}});var r=n(865),i=n(6670),s=n(2322),o=n(2784),a=n.t(o,2),c=n(7729),u=n.n(c),l=n(5632),h=n(8788),d=n(2970);function f(){return p.apply(this,arguments)}function p(){return(p=(0,h.Z)((function(){return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch("/api/session?action=add")];case 1:return[4,t.sent().text()];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function m(){(0,o.useEffect)((function(){var t;(function(){var t=new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),e=navigator.userAgent;return t.test(e)})()||window.sessionStorage.getItem("cssbattleSessionLogged")||(window.sessionStorage.setItem("cssbattleSessionLogged",!0),f().then((function(e){return t=e})),setInterval((function(){f().then((function(e){return t=e}))}),65e3),window.addEventListener("beforeunload",(function(){navigator.sendBeacon("/api/session?action=remove&sessionId=".concat(t))})))}),[])}var g=n(3552),v=n(2367),y=(n(7007),n(9461),n(7175),n(1552),n(7102),n(4896)),_=n(7037),b=n(7414),w=n(930),C=n(7896);function E(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null===t||void 0===t||t(r),!1===n||!r.defaultPrevented)return null===e||void 0===e?void 0:e(r)}}function T(...t){return e=>t.forEach((t=>function(t,e){"function"===typeof t?t(e):null!==t&&void 0!==t&&(t.current=e)}(t,e)))}function S(...t){return(0,o.useCallback)(T(...t),t)}function I(...t){const e=t[0];if(1===t.length)return e;const n=()=>{const n=t.map((t=>({useScope:t(),scopeName:t.scopeName})));return function(t){const r=n.reduce(((e,{useScope:n,scopeName:r})=>({...e,...n(t)[`__scope${r}`]})),{});return(0,o.useMemo)((()=>({[`__scope${e.scopeName}`]:r})),[r])}};return n.scopeName=e.scopeName,n}const x=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?o.useLayoutEffect:()=>{},k=a["useId".toString()]||(()=>{});let A=0;function R(t){const[e,n]=o.useState(k());return x((()=>{t||n((t=>null!==t&&void 0!==t?t:String(A++)))}),[t]),t||(e?`radix-${e}`:"")}function D(t){const e=(0,o.useRef)(t);return(0,o.useEffect)((()=>{e.current=t})),(0,o.useMemo)((()=>(...t)=>{var n;return null===(n=e.current)||void 0===n?void 0:n.call(e,...t)}),[])}function O({prop:t,defaultProp:e,onChange:n=(()=>{})}){const[r,i]=function({defaultProp:t,onChange:e}){const n=(0,o.useState)(t),[r]=n,i=(0,o.useRef)(r),s=D(e);return(0,o.useEffect)((()=>{i.current!==r&&(s(r),i.current=r)}),[r,i,s]),n}({defaultProp:e,onChange:n}),s=void 0!==t,a=s?t:r,c=D(n);return[a,(0,o.useCallback)((e=>{if(s){const n=e,r="function"===typeof e?n(t):e;r!==t&&c(r)}else i(e)}),[s,t,i,c])]}var L=n(8316);const N=(0,o.forwardRef)(((t,e)=>{const{children:n,...r}=t,i=o.Children.toArray(n),s=i.find(F);if(s){const t=s.props.children,n=i.map((e=>e===s?o.Children.count(t)>1?o.Children.only(null):(0,o.isValidElement)(t)?t.props.children:null:e));return(0,o.createElement)(P,(0,C.Z)({},r,{ref:e}),(0,o.isValidElement)(t)?(0,o.cloneElement)(t,void 0,n):null)}return(0,o.createElement)(P,(0,C.Z)({},r,{ref:e}),n)}));N.displayName="Slot";const P=(0,o.forwardRef)(((t,e)=>{const{children:n,...r}=t;return(0,o.isValidElement)(n)?(0,o.cloneElement)(n,{...j(r,n.props),ref:T(e,n.ref)}):o.Children.count(n)>1?o.Children.only(null):null}));P.displayName="SlotClone";const M=({children:t})=>(0,o.createElement)(o.Fragment,null,t);function F(t){return(0,o.isValidElement)(t)&&t.type===M}function j(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?n[r]=(...t)=>{null===s||void 0===s||s(...t),null===i||void 0===i||i(...t)}:"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const U=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((t,e)=>{const n=(0,o.forwardRef)(((t,n)=>{const{asChild:r,...i}=t,s=r?N:e;return(0,o.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,o.createElement)(s,(0,C.Z)({},i,{ref:n}))}));return n.displayName=`Primitive.${e}`,{...t,[e]:n}}),{});const B="dismissableLayer.update",V="dismissableLayer.pointerDownOutside",H="dismissableLayer.focusOutside";let z;const q=(0,o.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$=(0,o.forwardRef)(((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...u}=t,l=(0,o.useContext)(q),[h,d]=(0,o.useState)(null),[,f]=(0,o.useState)({}),p=S(e,(t=>d(t))),m=Array.from(l.layers),[g]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),y=h?m.indexOf(h):-1,_=l.layersWithOutsidePointerEventsDisabled.size>0,b=y>=v,w=function(t){const e=D(t),n=(0,o.useRef)(!1),r=(0,o.useRef)((()=>{}));return(0,o.useEffect)((()=>{const t=t=>{if(t.target&&!n.current){const i={originalEvent:t};function s(){W(V,e,i,{discrete:!0})}"touch"===t.pointerType?(document.removeEventListener("click",r.current),r.current=s,document.addEventListener("click",r.current,{once:!0})):s()}n.current=!1},i=window.setTimeout((()=>{document.addEventListener("pointerdown",t)}),0);return()=>{window.clearTimeout(i),document.removeEventListener("pointerdown",t),document.removeEventListener("click",r.current)}}),[e]),{onPointerDownCapture:()=>n.current=!0}}((t=>{const e=t.target,n=[...l.branches].some((t=>t.contains(e)));b&&!n&&(null===i||void 0===i||i(t),null===a||void 0===a||a(t),t.defaultPrevented||null===c||void 0===c||c())})),T=function(t){const e=D(t),n=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{const t=t=>{if(t.target&&!n.current){W(H,e,{originalEvent:t},{discrete:!1})}};return document.addEventListener("focusin",t),()=>document.removeEventListener("focusin",t)}),[e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}((t=>{const e=t.target;[...l.branches].some((t=>t.contains(e)))||(null===s||void 0===s||s(t),null===a||void 0===a||a(t),t.defaultPrevented||null===c||void 0===c||c())}));return function(t){const e=D(t);(0,o.useEffect)((()=>{const t=t=>{"Escape"===t.key&&e(t)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[e])}((t=>{y===l.layers.size-1&&(null===r||void 0===r||r(t),!t.defaultPrevented&&c&&(t.preventDefault(),c()))})),(0,o.useEffect)((()=>{if(h)return n&&(0===l.layersWithOutsidePointerEventsDisabled.size&&(z=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(h)),l.layers.add(h),G(),()=>{n&&1===l.layersWithOutsidePointerEventsDisabled.size&&(document.body.style.pointerEvents=z)}}),[h,n,l]),(0,o.useEffect)((()=>()=>{h&&(l.layers.delete(h),l.layersWithOutsidePointerEventsDisabled.delete(h),G())}),[h,l]),(0,o.useEffect)((()=>{const t=()=>f({});return document.addEventListener(B,t),()=>document.removeEventListener(B,t)}),[]),(0,o.createElement)(U.div,(0,C.Z)({},u,{ref:p,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:E(t.onFocusCapture,T.onFocusCapture),onBlurCapture:E(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:E(t.onPointerDownCapture,w.onPointerDownCapture)}))}));function G(){const t=new CustomEvent(B);document.dispatchEvent(t)}function W(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?function(t,e){t&&(0,L.flushSync)((()=>t.dispatchEvent(e)))}(i,s):i.dispatchEvent(s)}const Z="focusScope.autoFocusOnMount",K="focusScope.autoFocusOnUnmount",X={bubbles:!1,cancelable:!0},J=(0,o.forwardRef)(((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[c,u]=(0,o.useState)(null),l=D(i),h=D(s),d=(0,o.useRef)(null),f=S(e,(t=>u(t))),p=(0,o.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,o.useEffect)((()=>{if(r){function t(t){if(p.paused||!c)return;const e=t.target;c.contains(e)?d.current=e:et(d.current,{select:!0})}function e(t){!p.paused&&c&&(c.contains(t.relatedTarget)||et(d.current,{select:!0}))}return document.addEventListener("focusin",t),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",t),document.removeEventListener("focusout",e)}}}),[r,c,p.paused]),(0,o.useEffect)((()=>{if(c){nt.add(p);const e=document.activeElement;if(!c.contains(e)){const n=new CustomEvent(Z,X);c.addEventListener(Z,l),c.dispatchEvent(n),n.defaultPrevented||(!function(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(et(r,{select:e}),document.activeElement!==n)return}((t=Y(c),t.filter((t=>"A"!==t.tagName))),{select:!0}),document.activeElement===e&&et(c))}return()=>{c.removeEventListener(Z,l),setTimeout((()=>{const t=new CustomEvent(K,X);c.addEventListener(K,h),c.dispatchEvent(t),t.defaultPrevented||et(null!==e&&void 0!==e?e:document.body,{select:!0}),c.removeEventListener(K,h),nt.remove(p)}),0)}}var t}),[c,l,h,p]);const m=(0,o.useCallback)((t=>{if(!n&&!r)return;if(p.paused)return;const e="Tab"===t.key&&!t.altKey&&!t.ctrlKey&&!t.metaKey,i=document.activeElement;if(e&&i){const e=t.currentTarget,[r,s]=function(t){const e=Y(t),n=Q(e,t),r=Q(e.reverse(),t);return[n,r]}(e);r&&s?t.shiftKey||i!==s?t.shiftKey&&i===r&&(t.preventDefault(),n&&et(s,{select:!0})):(t.preventDefault(),n&&et(r,{select:!0})):i===e&&t.preventDefault()}}),[n,r,p.paused]);return(0,o.createElement)(U.div,(0,C.Z)({tabIndex:-1},a,{ref:f,onKeyDown:m}))}));function Y(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const e="INPUT"===t.tagName&&"hidden"===t.type;return t.disabled||t.hidden||e?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Q(t,e){for(const n of t)if(!tt(n,{upTo:e}))return n}function tt(t,{upTo:e}){if("hidden"===getComputedStyle(t).visibility)return!0;for(;t;){if(void 0!==e&&t===e)return!1;if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}function et(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&function(t){return t instanceof HTMLInputElement&&"select"in t}(t)&&e&&t.select()}}const nt=function(){let t=[];return{add(e){const n=t[0];e!==n&&(null===n||void 0===n||n.pause()),t=rt(t,e),t.unshift(e)},remove(e){var n;t=rt(t,e),null===(n=t[0])||void 0===n||n.resume()}}}();function rt(t,e){const n=[...t],r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}const it=(0,o.forwardRef)(((t,e)=>{var n;const{container:r=(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body),...i}=t;return r?L.createPortal((0,o.createElement)(U.div,(0,C.Z)({},i,{ref:e})),r):null}));const st=t=>{const{present:e,children:n}=t,r=function(t){const[e,n]=(0,o.useState)(),r=(0,o.useRef)({}),i=(0,o.useRef)(t),s=(0,o.useRef)("none"),a=t?"mounted":"unmounted",[c,u]=function(t,e){return(0,o.useReducer)(((t,n)=>{const r=e[t][n];return null!==r&&void 0!==r?r:t}),t)}(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,o.useEffect)((()=>{const t=ot(r.current);s.current="mounted"===c?t:"none"}),[c]),x((()=>{const e=r.current,n=i.current;if(n!==t){const r=s.current,o=ot(e);if(t)u("MOUNT");else if("none"===o||"none"===(null===e||void 0===e?void 0:e.display))u("UNMOUNT");else{const t=r!==o;u(n&&t?"ANIMATION_OUT":"UNMOUNT")}i.current=t}}),[t,u]),x((()=>{if(e){const t=t=>{const n=ot(r.current).includes(t.animationName);t.target===e&&n&&(0,L.flushSync)((()=>u("ANIMATION_END")))},n=t=>{t.target===e&&(s.current=ot(r.current))};return e.addEventListener("animationstart",n),e.addEventListener("animationcancel",t),e.addEventListener("animationend",t),()=>{e.removeEventListener("animationstart",n),e.removeEventListener("animationcancel",t),e.removeEventListener("animationend",t)}}u("ANIMATION_END")}),[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:(0,o.useCallback)((t=>{t&&(r.current=getComputedStyle(t)),n(t)}),[])}}(e),i="function"===typeof n?n({present:r.isPresent}):o.Children.only(n),s=S(r.ref,i.ref);return"function"===typeof n||r.isPresent?(0,o.cloneElement)(i,{ref:s}):null};function ot(t){return(null===t||void 0===t?void 0:t.animationName)||"none"}st.displayName="Presence";let at=0;function ct(){(0,o.useEffect)((()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(t=n[0])&&void 0!==t?t:ut()),document.body.insertAdjacentElement("beforeend",null!==(e=n[1])&&void 0!==e?e:ut()),at++,()=>{1===at&&document.querySelectorAll("[data-radix-focus-guard]").forEach((t=>t.remove())),at--}}),[])}function ut(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var lt=n(5346),ht=n(2442),dt=(0,n(4597)._)(),ft=function(){},pt=o.forwardRef((function(t,e){var n=o.useRef(null),r=o.useState({onScrollCapture:ft,onWheelCapture:ft,onTouchMoveCapture:ft}),i=r[0],s=r[1],a=t.forwardProps,c=t.children,u=t.className,l=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,m=t.noIsolation,g=t.inert,v=t.allowPinchZoom,y=t.as,_=void 0===y?"div":y,b=(0,d.__rest)(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=p,C=(0,ht.q)([n,e]),E=(0,d.__assign)((0,d.__assign)({},b),i);return o.createElement(o.Fragment,null,h&&o.createElement(w,{sideCar:dt,removeScrollBar:l,shards:f,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:n}),a?o.cloneElement(o.Children.only(c),(0,d.__assign)((0,d.__assign)({},E),{ref:C})):o.createElement(_,(0,d.__assign)({},E,{className:u,ref:C}),c))}));pt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},pt.classNames={fullWidth:lt.zi,zeroRight:lt.pF};var mt=n(7758),gt=n(181),vt=n(3225),yt=!1;if("undefined"!==typeof window)try{var _t=Object.defineProperty({},"passive",{get:function(){return yt=!0,!0}});window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch(dn){yt=!1}var bt=!!yt&&{passive:!1},wt=function(t,e){var n=e;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),Ct(t,n)){var r=Et(t,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Ct=function(t,e){return"v"===t?function(t){var e=window.getComputedStyle(t);return"hidden"!==e.overflowY&&!(e.overflowY===e.overflowX&&"visible"===e.overflowY)}(e):function(t){var e=window.getComputedStyle(t);return"hidden"!==e.overflowX&&!(e.overflowY===e.overflowX&&"visible"===e.overflowX)}(e)},Et=function(t,e){return"v"===t?[(n=e).scrollTop,n.scrollHeight,n.clientHeight]:function(t){return[t.scrollLeft,t.scrollWidth,t.clientWidth]}(e);var n},Tt=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},St=function(t){return[t.deltaX,t.deltaY]},It=function(t){return t&&"current"in t?t.current:t},xt=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},kt=0,At=[];var Rt=(0,mt.L)(dt,(function(t){var e=o.useRef([]),n=o.useRef([0,0]),r=o.useRef(),i=o.useState(kt++)[0],s=o.useState((function(){return(0,vt.Ws)()}))[0],a=o.useRef(t);o.useEffect((function(){a.current=t}),[t]),o.useEffect((function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var e=(0,d.__spreadArray)([t.lockRef.current],(t.shards||[]).map(It),!0).filter(Boolean);return e.forEach((function(t){return t.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),e.forEach((function(t){return t.classList.remove("allow-interactivity-".concat(i))}))}}}),[t.inert,t.lockRef.current,t.shards]);var c=o.useCallback((function(t,e){if("touches"in t&&2===t.touches.length)return!a.current.allowPinchZoom;var i,s=Tt(t),o=n.current,c="deltaX"in t?t.deltaX:o[0]-s[0],u="deltaY"in t?t.deltaY:o[1]-s[1],l=t.target,h=Math.abs(c)>Math.abs(u)?"h":"v";if("touches"in t&&"h"===h&&"range"===l.type)return!1;var d=wt(h,l);if(!d)return!0;if(d?i=h:(i="v"===h?"h":"v",d=wt(h,l)),!d)return!1;if(!r.current&&"changedTouches"in t&&(c||u)&&(r.current=i),!i)return!0;var f=r.current||i;return function(t,e,n,r,i){var s=function(t,e){return"h"===t&&"rtl"===e?-1:1}(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),u=!1,l=o>0,h=0,d=0;do{var f=Et(t,a),p=f[0],m=f[1]-f[2]-s*p;(p||m)&&Ct(t,a)&&(h+=m,d+=p),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(l&&(i&&0===h||!i&&o>h)||!l&&(i&&0===d||!i&&-o>d))&&(u=!0),u}(f,e,t,"h"===f?c:u,!0)}),[]),u=o.useCallback((function(t){var n=t;if(At.length&&At[At.length-1]===s){var r="deltaY"in n?St(n):Tt(n),i=e.current.filter((function(t){return t.name===n.type&&t.target===n.target&&function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.delta,r)}))[0];if(i&&i.should)n.preventDefault();else if(!i){var o=(a.current.shards||[]).map(It).filter(Boolean).filter((function(t){return t.contains(n.target)}));(o.length>0?c(n,o[0]):!a.current.noIsolation)&&n.preventDefault()}}}),[]),l=o.useCallback((function(t,n,r,i){var s={name:t,delta:n,target:r,should:i};e.current.push(s),setTimeout((function(){e.current=e.current.filter((function(t){return t!==s}))}),1)}),[]),h=o.useCallback((function(t){n.current=Tt(t),r.current=void 0}),[]),f=o.useCallback((function(e){l(e.type,St(e),e.target,c(e,t.lockRef.current))}),[]),p=o.useCallback((function(e){l(e.type,Tt(e),e.target,c(e,t.lockRef.current))}),[]);o.useEffect((function(){return At.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,bt),document.addEventListener("touchmove",u,bt),document.addEventListener("touchstart",h,bt),function(){At=At.filter((function(t){return t!==s})),document.removeEventListener("wheel",u,bt),document.removeEventListener("touchmove",u,bt),document.removeEventListener("touchstart",h,bt)}}),[]);var m=t.removeScrollBar,g=t.inert;return o.createElement(o.Fragment,null,g?o.createElement(s,{styles:xt(i)}):null,m?o.createElement(gt.jp,{gapMode:"margin"}):null)})),Dt=o.forwardRef((function(t,e){return o.createElement(pt,(0,d.__assign)({},t,{ref:e,sideCar:Rt}))}));Dt.classNames=pt.classNames;var Ot=Dt,Lt=function(t){return"undefined"===typeof document?null:(Array.isArray(t)?t[0]:t).ownerDocument.body},Nt=new WeakMap,Pt=new WeakMap,Mt={},Ft=0,jt=function(t){return t&&(t.host||jt(t.parentNode))},Ut=function(t,e,n,r){var i=function(t,e){return e.map((function(e){if(t.contains(e))return e;var n=jt(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)})).filter((function(t){return Boolean(t)}))}(e,Array.isArray(t)?t:[t]);Mt[n]||(Mt[n]=new WeakMap);var s=Mt[n],o=[],a=new Set,c=new Set(i),u=function(t){t&&!a.has(t)&&(a.add(t),u(t.parentNode))};i.forEach(u);var l=function(t){t&&!c.has(t)&&Array.prototype.forEach.call(t.children,(function(t){if(a.has(t))l(t);else{var e=t.getAttribute(r),i=null!==e&&"false"!==e,c=(Nt.get(t)||0)+1,u=(s.get(t)||0)+1;Nt.set(t,c),s.set(t,u),o.push(t),1===c&&i&&Pt.set(t,!0),1===u&&t.setAttribute(n,"true"),i||t.setAttribute(r,"true")}}))};return l(e),a.clear(),Ft++,function(){o.forEach((function(t){var e=Nt.get(t)-1,i=s.get(t)-1;Nt.set(t,e),s.set(t,i),e||(Pt.has(t)||t.removeAttribute(r),Pt.delete(t)),i||t.removeAttribute(n)})),--Ft||(Nt=new WeakMap,Nt=new WeakMap,Pt=new WeakMap,Mt={})}},Bt=function(t,e,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||Lt(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Ut(r,i,n,"aria-hidden")):function(){return null}};const Vt="Dialog",[Ht,zt]=function(t,e=[]){let n=[];const r=()=>{const e=n.map((t=>(0,o.createContext)(t)));return function(n){const r=(null===n||void 0===n?void 0:n[t])||e;return(0,o.useMemo)((()=>({[`__scope${t}`]:{...n,[t]:r}})),[n,r])}};return r.scopeName=t,[function(e,r){const i=(0,o.createContext)(r),s=n.length;function a(e){const{scope:n,children:r,...a}=e,c=(null===n||void 0===n?void 0:n[t][s])||i,u=(0,o.useMemo)((()=>a),Object.values(a));return(0,o.createElement)(c.Provider,{value:u},r)}return n=[...n,r],a.displayName=e+"Provider",[a,function(n,a){const c=(null===a||void 0===a?void 0:a[t][s])||i,u=(0,o.useContext)(c);if(u)return u;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${e}\``)}]},I(r,...e)]}(Vt),[qt,$t]=Ht(Vt),Gt=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,c=(0,o.useRef)(null),u=(0,o.useRef)(null),[l=!1,h]=O({prop:r,defaultProp:i,onChange:s});return(0,o.createElement)(qt,{scope:e,triggerRef:c,contentRef:u,contentId:R(),titleId:R(),descriptionId:R(),open:l,onOpenChange:h,onOpenToggle:(0,o.useCallback)((()=>h((t=>!t))),[h]),modal:a},n)},Wt="DialogPortal",[Zt,Kt]=Ht(Wt,{forceMount:void 0}),Xt=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=$t(Wt,e);return(0,o.createElement)(Zt,{scope:e,forceMount:n},o.Children.map(r,(t=>(0,o.createElement)(st,{present:n||s.open},(0,o.createElement)(it,{asChild:!0,container:i},t)))))},Jt="DialogOverlay",Yt=(0,o.forwardRef)(((t,e)=>{const n=Kt(Jt,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=$t(Jt,t.__scopeDialog);return s.modal?(0,o.createElement)(st,{present:r||s.open},(0,o.createElement)(Qt,(0,C.Z)({},i,{ref:e}))):null})),Qt=(0,o.forwardRef)(((t,e)=>{const{__scopeDialog:n,...r}=t,i=$t(Jt,n);return(0,o.createElement)(Ot,{as:N,allowPinchZoom:!0,shards:[i.contentRef]},(0,o.createElement)(U.div,(0,C.Z)({"data-state":oe(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))})),te="DialogContent",ee=(0,o.forwardRef)(((t,e)=>{const n=Kt(te,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=$t(te,t.__scopeDialog);return(0,o.createElement)(st,{present:r||s.open},s.modal?(0,o.createElement)(ne,(0,C.Z)({},i,{ref:e})):(0,o.createElement)(re,(0,C.Z)({},i,{ref:e})))})),ne=(0,o.forwardRef)(((t,e)=>{const n=$t(te,t.__scopeDialog),r=(0,o.useRef)(null),i=S(e,n.contentRef,r);return(0,o.useEffect)((()=>{const t=r.current;if(t)return Bt(t)}),[]),(0,o.createElement)(ie,(0,C.Z)({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:E(t.onCloseAutoFocus,(t=>{var e;t.preventDefault(),null===(e=n.triggerRef.current)||void 0===e||e.focus()})),onPointerDownOutside:E(t.onPointerDownOutside,(t=>{const e=t.detail.originalEvent,n=0===e.button&&!0===e.ctrlKey;(2===e.button||n)&&t.preventDefault()})),onFocusOutside:E(t.onFocusOutside,(t=>t.preventDefault()))}))})),re=(0,o.forwardRef)(((t,e)=>{const n=$t(te,t.__scopeDialog),r=(0,o.useRef)(!1);return(0,o.createElement)(ie,(0,C.Z)({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{var i,s;(null===(i=t.onCloseAutoFocus)||void 0===i||i.call(t,e),e.defaultPrevented)||(r.current||null===(s=n.triggerRef.current)||void 0===s||s.focus(),e.preventDefault());r.current=!1},onInteractOutside:e=>{var i,s;null===(i=t.onInteractOutside)||void 0===i||i.call(t,e),e.defaultPrevented||(r.current=!0);const o=e.target;(null===(s=n.triggerRef.current)||void 0===s?void 0:s.contains(o))&&e.preventDefault()}}))})),ie=(0,o.forwardRef)(((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,c=$t(te,n),u=S(e,(0,o.useRef)(null));return ct(),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(J,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s},(0,o.createElement)($,(0,C.Z)({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":oe(c.open)},a,{ref:u,onDismiss:()=>c.onOpenChange(!1)}))),!1)})),se="DialogTitle";function oe(t){return t?"open":"closed"}const ae="DialogTitleWarning",[ce,ue]=function(t,e){const n=(0,o.createContext)(e);function r(t){const{children:e,...r}=t,i=(0,o.useMemo)((()=>r),Object.values(r));return(0,o.createElement)(n.Provider,{value:i},e)}return r.displayName=t+"Provider",[r,function(r){const i=(0,o.useContext)(n);if(i)return i;if(void 0!==e)return e;throw new Error(`\`${r}\` must be used within \`${t}\``)}]}(ae,{contentName:te,titleName:se,docsSlug:"dialog"}),le=Gt,he=Xt,de=Yt,fe=ee;var pe=n(844),me='[cmdk-group=""]',ge='[cmdk-group-items=""]',ve='[cmdk-item=""]',ye=`${ve}:not([aria-disabled="true"])`,_e="cmdk-item-select",be="data-value",we=(t,e)=>pe(t,e),Ce=o.createContext(void 0),Ee=()=>o.useContext(Ce),Te=o.createContext(void 0),Se=()=>o.useContext(Te),Ie=o.createContext(void 0),xe=o.forwardRef(((t,e)=>{let n=o.useRef(null),r=Ve((()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}}))),i=Ve((()=>new Set)),s=Ve((()=>new Map)),a=Ve((()=>new Map)),c=Ve((()=>new Set)),u=Ue(t),{label:l,children:h,value:d,onValueChange:f,filter:p,shouldFilter:m,...g}=t,v=o.useId(),y=o.useId(),_=o.useId(),b=$e();Be((()=>{if(void 0!==d){let t=d.trim().toLowerCase();r.current.value=t,b(6,x),w.emit()}}),[d]);let w=o.useMemo((()=>({subscribe:t=>(c.current.add(t),()=>c.current.delete(t)),snapshot:()=>r.current,setState:(t,e,n)=>{var i,s,o;if(!Object.is(r.current[t],e)){if(r.current[t]=e,"search"===t)I(),T(),b(1,S);else if("value"===t){if(void 0!==(null==(i=u.current)?void 0:i.value))return void(null==(o=(s=u.current).onValueChange)||o.call(s,e));n||b(5,x)}w.emit()}},emit:()=>{c.current.forEach((t=>t()))}})),[]),C=o.useMemo((()=>({value:(t,e)=>{e!==a.current.get(t)&&(a.current.set(t,e),r.current.filtered.items.set(t,E(e)),b(2,(()=>{T(),w.emit()})))},item:(t,e)=>(i.current.add(t),e&&(s.current.has(e)?s.current.get(e).add(t):s.current.set(e,new Set([t]))),b(3,(()=>{I(),T(),r.current.value||S(),w.emit()})),()=>{a.current.delete(t),i.current.delete(t),r.current.filtered.items.delete(t),b(4,(()=>{I(),S(),w.emit()}))}),group:t=>(s.current.has(t)||s.current.set(t,new Set),()=>{a.current.delete(t),s.current.delete(t)}),filter:()=>u.current.shouldFilter,label:l||t["aria-label"],listId:v,inputId:_,labelId:y})),[]);function E(t){var e;let n=(null==(e=u.current)?void 0:e.filter)??we;return t?n(t,r.current.search):0}function T(){if(!n.current||!r.current.search||!1===u.current.shouldFilter)return;let t=r.current.filtered.items,e=[];r.current.filtered.groups.forEach((n=>{let r=s.current.get(n),i=0;r.forEach((e=>{let n=t.get(e);i=Math.max(n,i)})),e.push([n,i])}));let i=n.current.querySelector('[cmdk-list-sizer=""]');A().sort(((e,n)=>{let r=e.getAttribute(be),i=n.getAttribute(be);return(t.get(i)??0)-(t.get(r)??0)})).forEach((t=>{let e=t.closest(ge);e?e.appendChild(t.parentElement===e?t:t.closest(`${ge} > *`)):i.appendChild(t.parentElement===i?t:t.closest(`${ge} > *`))})),e.sort(((t,e)=>e[1]-t[1])).forEach((t=>{let e=n.current.querySelector(`${me}[${be}="${t[0]}"]`);null==e||e.parentElement.appendChild(e)}))}function S(){let t=A().find((t=>!t.ariaDisabled)),e=null==t?void 0:t.getAttribute(be);w.setState("value",e||void 0)}function I(){if(!r.current.search||!1===u.current.shouldFilter)return void(r.current.filtered.count=i.current.size);r.current.filtered.groups=new Set;let t=0;for(let e of i.current){let n=E(a.current.get(e));r.current.filtered.items.set(e,n),n>0&&t++}for(let[e,n]of s.current)for(let t of n)if(r.current.filtered.items.get(t)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=t}function x(){var t,e,n;let r=k();r&&((null==(t=r.parentElement)?void 0:t.firstChild)===r&&(null==(n=null==(e=r.closest(me))?void 0:e.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),r.scrollIntoView({block:"nearest"}))}function k(){return n.current.querySelector(`${ve}[aria-selected="true"]`)}function A(){return Array.from(n.current.querySelectorAll(ye))}function R(t){let e=A()[t];e&&w.setState("value",e.getAttribute(be))}function D(t){var e;let n=k(),r=A(),i=r.findIndex((t=>t===n)),s=r[i+t];null!=(e=u.current)&&e.loop&&(s=i+t<0?r[r.length-1]:i+t===r.length?r[0]:r[i+t]),s&&w.setState("value",s.getAttribute(be))}function O(t){let e,n=k(),r=null==n?void 0:n.closest(me);for(;r&&!e;)r=t>0?Fe(r,me):je(r,me),e=null==r?void 0:r.querySelector(ye);e?w.setState("value",e.getAttribute(be)):D(t)}let L=()=>R(A().length-1),N=t=>{t.preventDefault(),t.metaKey?L():t.altKey?O(1):D(1)},P=t=>{t.preventDefault(),t.metaKey?R(0):t.altKey?O(-1):D(-1)};return o.createElement("div",{ref:He([n,e]),...g,"cmdk-root":"",onKeyDown:t=>{var e;if(null==(e=g.onKeyDown)||e.call(g,t),!t.defaultPrevented)switch(t.key){case"n":case"j":t.ctrlKey&&N(t);break;case"ArrowDown":N(t);break;case"p":case"k":t.ctrlKey&&P(t);break;case"ArrowUp":P(t);break;case"Home":t.preventDefault(),R(0);break;case"End":t.preventDefault(),L();break;case"Enter":{t.preventDefault();let e=k();if(e){let t=new Event(_e);e.dispatchEvent(t)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:Ge},l),o.createElement(Te.Provider,{value:w},o.createElement(Ce.Provider,{value:C},h)))})),ke=o.forwardRef(((t,e)=>{let n=o.useId(),r=o.useRef(null),i=o.useContext(Ie),s=Ee(),a=Ue(t);Be((()=>s.item(n,i)),[]);let c=qe(n,r,[t.value,t.children,r]),u=Se(),l=ze((t=>t.value&&t.value===c.current)),h=ze((t=>!1===s.filter()||(!t.search||t.filtered.items.get(n)>0)));function d(){var t,e;null==(e=(t=a.current).onSelect)||e.call(t,c.current)}if(o.useEffect((()=>{let e=r.current;if(e&&!t.disabled)return e.addEventListener(_e,d),()=>e.removeEventListener(_e,d)}),[h,t.onSelect,t.disabled]),!h)return null;let{disabled:f,value:p,onSelect:m,...g}=t;return o.createElement("div",{ref:He([r,e]),...g,"cmdk-item":"",role:"option","aria-disabled":f||void 0,"aria-selected":l||void 0,"data-selected":l||void 0,onPointerMove:f?void 0:function(){u.setState("value",c.current,!0)},onClick:f?void 0:d},t.children)})),Ae=o.forwardRef(((t,e)=>{let{heading:n,children:r,...i}=t,s=o.useId(),a=o.useRef(null),c=o.useRef(null),u=o.useId(),l=Ee(),h=ze((t=>!1===l.filter()||(!t.search||t.filtered.groups.has(s))));Be((()=>l.group(s)),[]),qe(s,a,[t.value,t.heading,c]);let d=o.createElement(Ie.Provider,{value:s},r);return o.createElement("div",{ref:He([a,e]),...i,"cmdk-group":"",role:"presentation",hidden:!h||void 0},n&&o.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},d))})),Re=o.forwardRef(((t,e)=>{let{alwaysRender:n,...r}=t,i=o.useRef(null),s=ze((t=>!t.search));return n||s?o.createElement("div",{ref:He([i,e]),...r,"cmdk-separator":"",role:"separator"}):null})),De=o.forwardRef(((t,e)=>{let{onValueChange:n,...r}=t,i=null!=t.value,s=Se(),a=ze((t=>t.search)),c=Ee();return o.useEffect((()=>{null!=t.value&&s.setState("search",t.value)}),[t.value]),o.createElement("input",{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,id:c.inputId,type:"text",value:i?t.value:a,onChange:t=>{i||s.setState("search",t.target.value),null==n||n(t.target.value)}})})),Oe=o.forwardRef(((t,e)=>{let{children:n,...r}=t,i=o.useRef(null),s=o.useRef(null),a=Ee();return o.useEffect((()=>{if(s.current&&i.current){let t,e=s.current,n=i.current,r=new ResizeObserver((()=>{t=requestAnimationFrame((()=>{let t=e.getBoundingClientRect().height;n.style.setProperty("--cmdk-list-height",t.toFixed(1)+"px")}))}));return r.observe(e),()=>{cancelAnimationFrame(t),r.unobserve(e)}}}),[]),o.createElement("div",{ref:He([i,e]),...r,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:a.listId,"aria-labelledby":a.inputId},o.createElement("div",{ref:s,"cmdk-list-sizer":""},n))})),Le=o.forwardRef(((t,e)=>{let{open:n,onOpenChange:r,container:i,...s}=t;return o.createElement(le,{open:n,onOpenChange:r},o.createElement(he,{container:i},o.createElement(de,{"cmdk-overlay":""}),o.createElement(fe,{"aria-label":t.label,"cmdk-dialog":""},o.createElement(xe,{ref:e,...s}))))})),Ne=o.forwardRef(((t,e)=>{let n=o.useRef(!0),r=ze((t=>0===t.filtered.count));return o.useEffect((()=>{n.current=!1}),[]),n.current||!r?null:o.createElement("div",{ref:e,...t,"cmdk-empty":"",role:"presentation"})})),Pe=o.forwardRef(((t,e)=>{let{progress:n,children:r,...i}=t;return o.createElement("div",{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},o.createElement("div",{"aria-hidden":!0},r))})),Me=Object.assign(xe,{List:Oe,Item:ke,Input:De,Group:Ae,Separator:Re,Dialog:Le,Empty:Ne,Loading:Pe});function Fe(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function je(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function Ue(t){let e=o.useRef(t);return Be((()=>{e.current=t})),e}var Be=typeof window>"u"?o.useEffect:o.useLayoutEffect;function Ve(t){let e=o.useRef();return void 0===e.current&&(e.current=t()),e}function He(t){return e=>{t.forEach((t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)}))}}function ze(t){let e=Se(),n=()=>t(e.snapshot());return o.useSyncExternalStore(e.subscribe,n,n)}function qe(t,e,n){let r=o.useRef(),i=Ee();return Be((()=>{var s;let o=(()=>{var t;for(let e of n){if("string"==typeof e)return e.trim().toLowerCase();if("object"==typeof e&&"current"in e&&e.current)return null==(t=e.current.textContent)?void 0:t.trim().toLowerCase()}})();i.value(t,o),null==(s=e.current)||s.setAttribute(be,o),r.current=o})),r}var $e=()=>{let[t,e]=o.useState(),n=Ve((()=>new Map));return Be((()=>{n.current.forEach((t=>t())),n.current=new Map}),[t]),(t,r)=>{n.current.set(t,r),e({})}},Ge={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},We=n(1893),Ze=n(8329),Ke=n(9604),Xe=n(8396),Je=n.n(Xe),Ye=n(8688),Qe=n.n(Ye),tn=n(7500);function en(t){var e=t.isOpen,n=t.onOpenChange,r=t.onRequestClose,i=function(t){v.push(t),p(""),r()},a=function(t){window.open(t,"_blank"),p(""),r()},c=(0,o.useState)([]),u=c[0],h=c[1],d=(0,o.useState)(""),f=d[0],p=d[1],m=u[u.length-1],g=(0,We.a)(),v=(0,l.useRouter)();return(0,o.useEffect)((function(){e||(p(""),h([]))}),[e]),(0,s.jsxs)(Me.Dialog,{className:Je().dialog,open:e,onOpenChange:n,label:"Command Menu",onKeyDown:function(t){"Escape"===t.key&&u.length&&(t.preventDefault(),h((function(t){return t.slice(0,-1)})),p(""))},children:[(0,s.jsx)(Me.Input,{value:f,onValueChange:p,placeholder:"Search anything here..."}),(0,s.jsxs)(Me.List,{children:[(0,s.jsx)(Me.Empty,{children:"No results found."}),!m&&(0,s.jsxs)(s.Fragment,{children:[g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Me.Item,{onSelect:function(){i("/me")},children:"My analytics"}),(0,s.jsx)(Me.Separator,{})]}),(0,s.jsxs)(Me.Group,{heading:"Help",children:[(0,s.jsx)(Me.Item,{onSelect:function(){return i("/tips")},children:"Tips & Tricks"}),(0,s.jsx)(Me.Item,{onSelect:function(){return i("/learn")},children:"Learn CSS"}),(0,s.jsx)(Me.Item,{onSelect:function(){return i("/faqs")},children:"FAQs"})]}),(0,s.jsx)(Me.Separator,{}),(0,s.jsx)(Me.Item,{onSelect:function(){i("/daily")},children:"Daily targets"}),(0,s.jsx)(Me.Item,{onSelect:function(){i("/leaderboard")},children:"Leaderboard"}),(0,s.jsx)(Me.Item,{onSelect:function(){var t=Qe()[Math.floor(Math.random()*Qe().length)];i("/play/".concat(t.id))},children:"I am feeling lucky \ud83c\udfaf"}),!(null===g||void 0===g?void 0:g.isPro)&&(0,s.jsxs)(Me.Item,{onSelect:function(){return i("/plus")},children:["Upgrade to ",(0,s.jsx)(Ze.Z,{style:{marginLeft:"0.5rem"}})]}),g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Me.Item,{onSelect:function(){return i("/settings")},children:"Settings"}),(0,s.jsx)(Me.Item,{onSelect:function(){return i("/player/".concat(g.username||g.uid))},children:"My profile"})]}),(0,s.jsx)(Me.Item,{onSelect:function(){return i("/")},children:"Home"}),(0,s.jsx)(Me.Item,{onSelect:function(){return i("/blog")},children:"Blog"}),(0,s.jsx)(Me.Separator,{}),(0,s.jsxs)(Me.Group,{heading:"Community",children:[(0,s.jsx)(Me.Item,{onSelect:function(){a("https://community.cssbattle.dev")},children:"Community"}),(0,s.jsxs)(Me.Item,{onSelect:function(){a("https://discord.gg/rvqvbcFM86")},children:["Join on Discord ",(0,s.jsx)(Ke.J,{name:"discord",size:"18"})]})]}),(0,s.jsx)(Me.Separator,{}),(0,s.jsx)(Me.Item,{onSelect:function(){h((0,w.Z)(u).concat(["targets"])),p("")},children:"Play target \u25b6"}),(0,s.jsx)(Me.Item,{onSelect:function(){h((0,w.Z)(u).concat(["battles"])),p("")},children:"Battles \u25b6"}),(0,s.jsx)(Me.Separator,{}),(0,s.jsx)(Me.Item,{onSelect:function(){a("https://github.com/cssbattle/forum/issues")},children:"Report a bug"}),(0,s.jsx)(Me.Item,{onSelect:function(){return i("/changelog")},children:"Changelog"}),f?Qe().map((function(t){return(0,s.jsxs)(Me.Item,{onSelect:function(){i("/play/".concat(t.id)),h([])},children:["Play target #",t.id," - ",t.name]},t.id)})):null,f?tn.battles.map((function(t){return(0,s.jsxs)(Me.Item,{onSelect:function(){i("/battle/".concat(t.id)),h([])},children:["Battle #",t.id," - ",t.name]},t.id)})):null]}),"targets"===m&&(0,s.jsx)(Me.Group,{heading:"Play target \u25bc",children:Qe().map((function(t){return(0,s.jsxs)(Me.Item,{onSelect:function(){i("/play/".concat(t.id)),h([])},children:["Play target #",t.id," - ",t.name]},t.id)}))}),"battles"===m&&(0,s.jsx)(Me.Group,{heading:"Battles \u25bc",children:tn.battles.map((function(t){return(0,s.jsxs)(Me.Item,{onSelect:function(){i("/battle/".concat(t.id)),h([])},children:["Battle #",t.id," - ",t.name]},t.id)}))})]})]})}var nn=n(3290),rn=n(6399),sn=n(4675),on=n(3947),an=window.localStorage.getItem("lastUser");try{var cn,un=JSON.parse(an);if(un&&"light"===(null===un||void 0===un||null===(cn=un.settings)||void 0===cn?void 0:cn.theme)){var ln=document.createElement("link");ln.href="/light-theme.css",ln.rel="stylesheet",ln.id="lightThemeLink",document.head.append(ln)}}catch(fn){}var hn=function(t){var e=t.Component,n=t.pageProps,a=(0,l.useRouter)(),c=(0,o.useState)((function(){var t=window.localStorage.getItem("lastUser"),e=JSON.parse(t);return e&&(e.gameMode=!!window.localStorage.getItem("gamemode")),t?e:null})),h=c[0],d=c[1],f=(0,o.useState)(!1),p=f[0],w=f[1],C=(0,b.P)();(0,o.useEffect)((function(){console.log("\n _______  _______  _______  _______  _______  _______  _______  ___      _______ \n|       ||       ||       ||  _    ||   _   ||       ||       ||   |    |       |\n|       ||  _____||  _____|| |_|   ||  |_|  ||_     _||_     _||   |    |    ___|\n|       || |_____ | |_____ |       ||       |  |   |    |   |  |   |    |   |___ \n|      _||_____  ||_____  ||  _   | |       |  |   |    |   |  |   |___ |    ___|\n|     |_  _____| | _____| || |_|   ||   _   |  |   |    |   |  |       ||   |___ \n|_______||_______||_______||_______||__| |__|  |___|    |___|  |_______||_______|\n"),console.log("{\u2694\ufe0f} Join our community forum -> https://community.cssbattle.dev")}),[]),m(),(0,o.useEffect)((function(){if(window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),!location.href.match(/localhost/)){var t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=G-3TQQFVS3DE",t.async=!0,document.body.appendChild(t)}gtag("config","G-3TQQFVS3DE"),gtag("config","AW-862376687")}),[]),(0,o.useEffect)((function(){(0,on.Aj)(sn.I8,(function(t){if((0,v.qu)("auth change",h,t),t){var e={uid:t.uid,photoURL:t.photoURL};["isPro","displayName","settings","gameMode"].forEach((function(t){h&&void 0!==h[t]&&(e[t]=h[t])})),e.firebaseUser=t,d(e),(0,_.$Y)(t.uid,!0).then((function(t){e=(0,r.Z)((0,i.Z)((0,r.Z)({},e),{isPro:!1}),t),(0,v.xX)(e),d(e),window.localStorage.getItem("pendingEmailSubscription")&&((0,_.Ii)(e.uid,{"settings.emailNotifications":!0}),window.localStorage.removeItem("pendingEmailSubscription"))}))}else window.localStorage.removeItem("lastUser"),d(null)}))}),[]),(0,o.useEffect)((function(){var t=function(t){(t.metaKey||t.ctrlKey)&&"k"===t.key&&(w((function(t){return t||(0,nn.q)({name:"commandPaletteOpen"}),!t})),t.preventDefault())};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[]);var E=(0,o.useState)(null),T=E[0],S=E[1],I=(0,o.useState)(null),x=I[0],k=I[1],A=(0,o.useState)(),R=A[0],D=A[1],O=(0,o.useState)(null),L=O[0],N=O[1];return(0,o.useEffect)((function(){if(L){if("light"===L&&!document.querySelector("#lightThemeLink")){var t=document.createElement("link");t.href="/light-theme.css",t.rel="stylesheet",t.id="lightThemeLink",document.head.append(t)}"dark"===L&&document.querySelector("#lightThemeLink")&&document.querySelector("#lightThemeLink").remove()}}),[L]),(0,o.useEffect)((function(){var t;N(null===h||void 0===h||null===(t=h.settings)||void 0===t?void 0:t.theme)}),[h]),(0,o.useEffect)((function(){(null===h||void 0===h?void 0:h.uid)&&(0,_.vU)(h.uid).then((function(t){var e;D((null===t||void 0===t||null===(e=t.streak)||void 0===e?void 0:e.count)||0)}))}),[null===h||void 0===h?void 0:h.uid]),(0,s.jsxs)(g.S.Provider,{value:h,children:[(0,s.jsxs)(u(),{children:[(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,s.jsx)("meta",{property:"og:url",content:"https://cssbattle.dev"},"url"),(0,s.jsx)("meta",{property:"og:image",content:"https://cssbattle.dev/images/banner2.png"},"banner"),(0,s.jsx)("meta",{property:"og:title",content:"CSSBattle"},"ogTitle"),(0,s.jsx)("title",{children:"CSSBattle"},"title"),(0,s.jsx)("meta",{property:"og:description",content:"The funnest CSS game for web designers & developers"},"desc"),(0,s.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,s.jsx)("link",{rel:"shortcut icon",href:"/images/logo-square.png"}),(0,s.jsx)("style",{id:"critical-css",type:C?"ruby":void 0,children:"/* CRITICAL CSS */\n          body {\n            background-color: #171d23;\n          }\n\n          body:after {\n            font-size: 1.5rem;\n            text-align: center;\n            font-family: 'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono',\n              'Lucida Console', monospace;\n            color: #cbd1e1;\n            display: block;\n            content: 'Hang on! The battleground is getting setup...';\n            width: 400px;\n            position: fixed;\n            top: 40vh;\n            left: calc(50vw - 200px);\n            opacity: 0;\n            animation: 0.3s show ease forwards;\n            animation-delay: 1s;\n          }\n\n          @keyframes show {\n            to {\n              opacity: 1;\n            }\n          }"})]}),(0,s.jsx)(g.k.Provider,{value:{battle:T,setBattle:S,level:x,setLevel:k,streakCount:R,theme:L,setTheme:N},children:(0,s.jsx)(rn.T,{children:function(){a.asPath;return!0}()&&(0,s.jsx)(e,(0,r.Z)({},n))})}),C&&(0,s.jsx)(en,{isOpen:p,onOpenChange:w,onRequestClose:function(){w(!1)}}),(0,s.jsx)(y.Ix,{position:"bottom-right",autoClose:3500,theme:"dark"}),(0,s.jsx)("div",{id:"portal-root"})]})}},7037:function(t,e,n){"use strict";n.d(e,{$Y:function(){return Q},A9:function(){return Et},AH:function(){return X},CU:function(){return le},D2:function(){return xe},DI:function(){return he},DO:function(){return ce},FC:function(){return qt},GT:function(){return vt},HC:function(){return H},Ii:function(){return Ot},Ko:function(){return w},Oz:function(){return Ce},Pu:function(){return mt},QC:function(){return Ie},Qz:function(){return Qt},R6:function(){return at},Sv:function(){return Lt},T8:function(){return Pt},TU:function(){return ee},Ty:function(){return nt},UZ:function(){return ut},V6:function(){return Wt},W:function(){return Ut},Ws:function(){return Jt},X2:function(){return Z},XU:function(){return G},Z6:function(){return Vt},a8:function(){return ve},bQ:function(){return rt},bl:function(){return b},c_:function(){return me},ch:function(){return Kt},d:function(){return _t},dT:function(){return se},eL:function(){return ft},en:function(){return de},g5:function(){return fe},hC:function(){return Ft},nR:function(){return ae},pc:function(){return Dt},pn:function(){return re},qW:function(){return zt},r8:function(){return At},rz:function(){return we},sk:function(){return wt},uL:function(){return ht},uf:function(){return st},vU:function(){return Te},wd:function(){return xt},y:function(){return $t}});var r=n(8788),i=n(7842),s=n(2838),o=n(865),a=n(6670),c=n(6383),u=n(930),l=n(2970),h=n(2367),d=n(7500),f=n(8688),p=n.n(f),m=n(8747),g=n(1540),v=n(4675),y=n(3542),_={},b="development"===(y.env.NEXT_PUBLIC_ENV||"production")?"https://us-central1-cssbattle-756.cloudfunctions.net":"https://cssbattle.dev/api",w="/api",C="battles",E="battleScores",T="targetScores",S="purchases",I="subscriptions",x="events",k="submissions",A="following",R="scores",D="levels",O="editorPlugins",L="course",N="topSubmissions";function P(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,m.IO)((0,m.hJ)(v.db,T),(0,m.ar)("levelId","==",t),(0,m.Xo)(e?"score":"overall.score","desc"),(0,m.Xo)(e?"lastUpdated":"overall.lastUpdated"))}function M(t){if(_[t])return{exists:function(){return!0},id:t,data:function(){return _[t]}}}function F(t){var e=[];return t.forEach((function(t){e.push((0,o.Z)({id:t.id},t.data())),_[t.id]=t.data()})),e.length,e}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.withoutId,r=void 0!==n&&n,i=e.useCache,s=void 0!==i&&i,a=s&&M(t.id);return(a?Promise.resolve(a):(0,m.QT)(t)).then((function(t){return t.exists()?r?t.data():(0,o.Z)({id:t.id},t.data()):null}))}function U(t){return(0,m.PL)(t).then(F)}function B(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.sort((function(t,n){return e?t.score===n.score?t.lastUpdated-n.lastUpdated:n.score-t.score:(null===(r=t.overall)||void 0===r?void 0:r.score)===(null===(i=n.overall)||void 0===i?void 0:i.score)?(null===(s=t.overall)||void 0===s?void 0:s.lastUpdated)-(null===(o=n.overall)||void 0===o?void 0:o.lastUpdated):((null===(a=n.overall)||void 0===a?void 0:a.score)||0)-((null===(c=t.overall)||void 0===c?void 0:c.score)||0);var r,i,s,o,a,c}))}function V(t){return(0,m.QT)((0,m.JU)(v.db,"scores/".concat(t))).then((function(t){return t.exists()?t.data():void 0})).catch((function(){}))}function H(t){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)((function(t){var e,n;function r(t){return U((0,m.IO)((0,m.hJ)(v.db,T),(0,m.ar)("levelId","==",t),(0,m.ar)("userId","==",e))).then((function(t){return t[0]}))}return(0,l.__generator)(this,(function(i){return e=t.userId,n=t.levelIds,[2,Promise.all(n.filter(Boolean).map(r)).then((function(t){return t.filter(Boolean).reduce((function(t,e){return t[e.levelId]=e,t}),{})}))]}))}))).apply(this,arguments)}function q(t){return U((0,m.IO)((0,m.hJ)(v.db,A),(0,m.ar)("followerId","==",t))).then((function(t){return t.map((function(t){return t.followedId}))}))}function $(t,e){var n=e.split("."),r=t.map((function(t){return 1===n.length?t[e]:t[n[0]][n[1]]}));return Promise.all(r.map(et)).then((function(e){t.forEach((function(t,n){t.playerProfile=e[n]}))}))}function G(t){return W.apply(this,arguments)}function W(){return(W=(0,r.Z)((function(t){var e,n,r,i;return(0,l.__generator)(this,(function(s){return e=t.userId,n=t.levelId,r=t.count,i=(0,m.IO)((0,m.hJ)(v.db,k),(0,m.ar)("userId","==",e),(0,m.ar)("levelId","==",n),(0,m.Xo)("timestamp","desc")),m.b9&&(i=(0,m.IO)(i,(0,m.b9)(r))),[2,U(i).catch((function(t){return console.log("Error getting document:",t),0}))]}))}))).apply(this,arguments)}function Z(t){return K.apply(this,arguments)}function K(){return K=(0,r.Z)((function(t){var e,n;function i(){return(i=(0,r.Z)((function(t){return(0,l.__generator)(this,(function(e){return[2,j((0,m.JU)(v.db,"submissions/".concat(t)))]}))}))).apply(this,arguments)}return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,at({levelId:t})];case 1:return e=r.sent(),[4,Promise.all(e.map((function(t){return function(t){return i.apply(this,arguments)}(t.submissionId)})))];case 2:return n=r.sent(),[2,e.map((function(t,e){return(0,o.Z)({},n[e],t)}))]}}))})),K.apply(this,arguments)}function X(t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,j((0,m.JU)(v.db,"".concat(N,"/").concat(t)))];case 1:return(e=n.sent())?[4,$(e.submissions,"userId")]:[3,3];case 2:return n.sent(),[2,e.submissions];case 3:return[2,[]]}}))}))).apply(this,arguments)}function Y(t){var e=new Map;return(0,r.Z)((function(){var n,r,i,s,o,a=arguments;return(0,l.__generator)(this,(function(c){for(n=a.length,r=new Array(n),i=0;i<n;i++)r[i]=a[i];return s=JSON.stringify(r),e.has(s)?[2,e.get(s)]:(o=t.apply(void 0,(0,u.Z)(r)),e.set(s,o),[2,o])}))}))}function Q(t,e){return tt.apply(this,arguments)}function tt(){return(tt=(0,r.Z)((function(t,e){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return window.location.href.match(/localhost/)||e?[2,j((0,m.JU)(v.db,"players",t)).then((function(t){return t&&(t=(0,a.Z)((0,o.Z)({},t),{displayName:t.displayName||"User"})),t}))]:[3,1];case 1:return[4,fetch("".concat(w,"/playerProfile?userId=").concat(t))];case 2:return[4,n.sent().json()];case 3:return[2,n.sent()];case 4:return[2]}}))}))).apply(this,arguments)}var et=Y(Q);function nt(t){return U((0,m.IO)((0,m.hJ)(v.db,"players"),(0,m.ar)("username","==",t))).then((function(t){if(t.length)return(0,a.Z)((0,o.Z)({id:t[0].id},t[0]),{displayName:t[0].displayName||"User"})}))}function rt(){return it.apply(this,arguments)}function it(){return it=(0,r.Z)((function(){var t,e,n=arguments;return(0,l.__generator)(this,(function(i){return t=n.length>0&&void 0!==n[0]?n[0]:10,e=(0,m.IO)((0,m.hJ)(v.db,R),(0,m.Xo)("score","desc"),(0,m.Xo)("lastUpdated"),(0,m.b9)(t)),[2,(0,m.PL)(e).then(function(){var t=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return(e=F(t)).length?[4,$(e,"id")]:[2,[]];case 1:return n.sent(),[2,e.map((function(t,e){return(0,a.Z)((0,o.Z)({},t),{rank:e+1,playedCount:Object.keys(t.levels).length})}))]}}))}));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return console.log("Error getting document:",t),0}))]}))})),it.apply(this,arguments)}function st(t){return ot.apply(this,arguments)}function ot(){return(ot=(0,r.Z)((function(t){var e,n,r;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return[4,q(e=t.userId)];case 1:return(n=i.sent()).length?(n.push(e),r=n.map((function(t){return Promise.all([Q(t),V(t)])})),[2,Promise.all(r).then((function(t){return t=t.map((function(t,e){var n=(0,c.Z)(t,2),r=n[0],i=n[1];return(0,a.Z)((0,o.Z)({},i),{id:r.id,playedCount:Object.keys(i.levels).length,playerProfile:r})})),B(t)}))]):[2,[]]}}))}))).apply(this,arguments)}function at(t){return ct.apply(this,arguments)}function ct(){return ct=(0,r.Z)((function(t){var e,n,i,s,c;return(0,l.__generator)(this,(function(u){return e=t.levelId,n=t.numberOfPlayers,i=void 0===n?10:n,s=t.isCSSLeaderboard,c=void 0===s||s,[2,U((0,m.IO)(P(e,c),(0,m.b9)(i))).then(function(){var t=(0,r.Z)((function(t){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return t.length?[4,$(t,"userId")]:[2,[]];case 1:return e.sent(),[2,t.map((function(t,e){return(0,a.Z)((0,o.Z)({},t),{rank:e+1})}))]}}))}));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return console.log("Error getting document:",t),0}))]}))})),ct.apply(this,arguments)}function ut(t){return lt.apply(this,arguments)}function lt(){return(lt=(0,r.Z)((function(t){var e,n,r,i,s,u;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e=t.userId,n=t.levelId,r=t.isCSSLeaderboard,i=void 0===r||r,[4,q(e)];case 1:return(s=l.sent()).length?(s.push(e),u=s.map((function(t){return Promise.all([Q(t),Et({playerId:t,levelId:n}).then((function(t){return t||{score:0}}))])})),[2,Promise.all(u).then((function(t){return t=t.map((function(t,e){var n=(0,c.Z)(t,2),r=n[0],i=n[1];return(0,a.Z)((0,o.Z)({},i),{id:r.id,playerProfile:r})})),B(t,i)}))]):[2,[]]}}))}))).apply(this,arguments)}function ht(t){return dt.apply(this,arguments)}function dt(){return dt=(0,r.Z)((function(t){var e,n,i,s,u;return(0,l.__generator)(this,(function(f){return e=t.battleId,n=t.numberOfPlayers,i=void 0===n?10:n,s=t.isCSSLeaderboard,u=void 0===s||s,[2,U((0,m.IO)((0,m.hJ)(v.db,E),(0,m.ar)("battleId","==",e),(0,m.Xo)(u?"score":"overall.score","desc"),(0,m.Xo)(u?"lastUpdated":"overall.lastUpdated"),(0,m.b9)(i))).then(function(){var t=(0,r.Z)((function(t){var n,r;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return t.length?[4,Kt(e)]:[2,[]];case 1:return n=i.sent(),r=t.map((function(t){return Promise.all([et(t.userId),H({userId:t.userId,levelIds:n.levelIds})])})),[2,Promise.all(r).then((function(e){return e.map((function(e,r){var i,s=(0,c.Z)(e,2),u=s[0],l=s[1];return(0,a.Z)((0,o.Z)({},t[r]),{timeTaken:(0,h.Xg)(n,t[r].lastUpdated),id:t[r].userId,rank:r+1,playedCount:n.gameMode===d.BattleGameModes.FIRST_TO_MATCH?((null===(i=t[r])||void 0===i?void 0:i.score)||0)/600:n.levelIds.filter((function(t){var e;return null===(e=l[t])||void 0===e?void 0:e.score})).length,playerProfile:u})}))}))]}}))}));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return console.log("Error getting document:",t),[]}))]}))})),dt.apply(this,arguments)}function ft(t){return pt.apply(this,arguments)}function pt(){return(pt=(0,r.Z)((function(t){var e,n,r,i,s,u,d;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e=t.userId,n=t.battleId,r=t.isCSSLeaderboard,i=void 0===r||r,[4,Kt(n)];case 1:return s=l.sent(),[4,q(e)];case 2:return(u=l.sent()).length?(u.push(e),d=u.map((function(t){return Promise.all([Q(t),V(t),(0,m.PL)((0,m.IO)((0,m.hJ)(v.db,E),(0,m.ar)("userId","==",t),(0,m.ar)("battleId","==",n))).then((function(t){return F(t)[0]||{score:0}}))])})),[2,Promise.all(d).then((function(t){return t=t.map((function(t,e){var n=(0,c.Z)(t,3),r=n[0],i=n[1],u=n[2];return(0,a.Z)((0,o.Z)({},u),{id:r.id,timeTaken:u.score?(0,h.Xg)(s,u.lastUpdated):0,playedCount:s.levelIds.filter((function(t){return i.levels[t]})).length,playerProfile:r})})),B(t,i)}))]):[2,[]]}}))}))).apply(this,arguments)}function mt(){return gt.apply(this,arguments)}function gt(){return gt=(0,r.Z)((function(){return(0,l.__generator)(this,(function(t){return[2,U((0,m.IO)((0,m.hJ)(v.db,"streaks"),(0,m.ar)("streak.count",">",0),(0,m.Xo)("streak.count","desc"),(0,m.b9)(100))).then(function(){var t=(0,r.Z)((function(t){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return t.length?[4,$(t,"id")]:[2,[]];case 1:return e.sent(),[2,t.map((function(t,e){return(0,a.Z)((0,o.Z)({},t),{rank:e+1})}))]}}))}));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return console.log("Error getting document:",t),0}))]}))})),gt.apply(this,arguments)}function vt(t){return yt.apply(this,arguments)}function yt(){return(yt=(0,r.Z)((function(t){return(0,l.__generator)(this,(function(e){return[2,U((0,m.IO)(P(t),(0,m.b9)(1))).then((function(e){if(!e.length)return null;var n=e.map((function(t){return Q(t.userId)}));return n.length?Promise.all(n).then((function(n){return n.map((function(n,r){return{levelId:t,highscore:{score:e[r].score,codeSize:e[r].codeSize,match:e[r].match,playerProfile:n}}}))[0]})):null})).catch((function(t){return console.log("Error getting document:",t),null}))]}))}))).apply(this,arguments)}function _t(t){return bt.apply(this,arguments)}function bt(){return(bt=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){return e=t.map((function(t){return vt(t)})),[2,Promise.all(e)]}))}))).apply(this,arguments)}function wt(t){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,r.Z)((function(t){return(0,l.__generator)(this,(function(e){return[2,U((0,m.IO)(P(t),(0,m.b9)(3))).catch((function(t){return console.log("Error getting document:",t),[]}))]}))}))).apply(this,arguments)}function Et(t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,r.Z)((function(t){var e,n;return(0,l.__generator)(this,(function(r){return e=t.playerId,n=t.levelId,[2,j((0,m.JU)(v.db,"".concat(T,"/").concat(e,"_").concat(n)),{withoutId:!0}).catch((function(){}))]}))}))).apply(this,arguments)}function St(t){return It.apply(this,arguments)}function It(){return(It=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){return e=t.playerId,[2,(0,m.QT)((0,m.JU)(v.db,"scores/".concat(e))).then((function(t){return t.exists()?t.data():{}})).catch((function(){return{}}))]}))}))).apply(this,arguments)}function xt(t){return kt.apply(this,arguments)}function kt(){return(kt=(0,r.Z)((function(t){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,St({playerId:t.playerId})];case 1:return[2,e.sent().levels||{}]}}))}))).apply(this,arguments)}function At(t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)((function(t){var e,n,r,i,s,o,a;return(0,l.__generator)(this,(function(c){switch(c.label){case 0:e=t.token,n=void 0===e?"":e,r=t.userId,i=t.levelId,s=t.battleId,o=new URLSearchParams((0,h.BE)({token:n,userId:r,battleId:s,levelId:i})),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,fetch("https://us-central1-".concat(v.NX,".cloudfunctions.net/getRank?").concat(o))];case 2:return[4,c.sent().json()];case 3:return a=c.sent(),[3,5];case 4:return c.sent(),[2,null];case 5:return[2,a]}}))}))).apply(this,arguments)}function Dt(){return j((0,m.JU)(v.db,"global/stats"))}function Ot(t,e){return(0,m.r7)((0,m.JU)(v.db,"players/".concat(t)),e)}function Lt(t,e){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,r.Z)((function(t,e){var n;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.firebaseUser.getIdToken()];case 1:return n=r.sent(),[2,fetch("".concat(b,"/saveUsername"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,username:e})}).then((function(t){if(!t.ok)throw t;return t.text()})).catch((function(t){if((0,s.Z)(t,Response))throw t.text()}))]}}))}))).apply(this,arguments)}function Pt(t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)((function(t){var e,n;return(0,l.__generator)(this,(function(r){return e=t.followedId,n=t.followerId,[2,(0,m.QT)((0,m.JU)(v.db,A,"".concat(e,"_").concat(n))).then((function(t){return t.exists()}))]}))}))).apply(this,arguments)}function Ft(t){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)((function(t){var e,n;return(0,l.__generator)(this,(function(r){return e=t.followedId,n=t.followerId,[2,(0,m.pl)((0,m.JU)(v.db,A,"".concat(e,"_").concat(n)),{followedId:e,followerId:n,timestamp:(0,m.Bt)()})]}))}))).apply(this,arguments)}function Ut(t){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)((function(t){var e,n;return(0,l.__generator)(this,(function(r){return e=t.followedId,n=t.followerId,[2,(0,m.oe)((0,m.JU)(v.db,A,"".concat(e,"_").concat(n)))]}))}))).apply(this,arguments)}function Vt(t){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){return e=t.userId,[2,(0,m.PL)((0,m.IO)((0,m.hJ)(v.db,O),(0,m.ar)("userId","==",e))).then(F).catch((function(t){return console.log("Error getting document:",t),0}))]}))}))).apply(this,arguments)}function zt(t){var e={title:t.title,code:t.code,shouldAutoRun:t.shouldAutoRun||!1};return t.id?(0,m.r7)((0,m.JU)(v.db,O,t.id),(0,a.Z)((0,o.Z)({},e),{updatedOn:(0,m.Bt)()})):(0,m.ET)((0,m.hJ)(v.db,O),(0,a.Z)((0,o.Z)({},e),{userId:t.userId,createdOn:(0,m.Bt)()})).then((function(t){return t.id}))}function qt(t){return(0,m.oe)((0,m.JU)(v.db,O,t.id))}function $t(t){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,r.Z)((function(t){var e,n,r,i,s,o,a,u;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e=t.userId,n=(0,m.IO)((0,m.hJ)(v.db,I),(0,m.ar)("userId","==",e),(0,m.ar)("type","==","subscription_payment_succeeded"),(0,m.Xo)("timestamp","desc")),r=(0,m.IO)((0,m.hJ)(v.db,I),(0,m.ar)("userId","==",e),(0,m.ar)("type","==","subscription_created"),(0,m.Xo)("timestamp","desc")),i=(0,m.IO)((0,m.hJ)(v.db,I),(0,m.ar)("userId","==",e),(0,m.ar)("type","==","subscription_cancelled"),(0,m.Xo)("timestamp","desc")),[4,Promise.all([U(r),U(n),U(i)])];case 1:return s=c.Z.apply(void 0,[l.sent(),3]),o=s[0],a=s[1],u=s[2],[2,{lastSubscription:o[0],lastPayment:a[0],lastCancellation:u[0]}]}}))}))).apply(this,arguments)}function Wt(t){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){return e=(0,m.IO)((0,m.hJ)(v.db,x),(0,m.Xo)("timestamp","desc")),t&&(e=(0,m.IO)(e,(0,m.ar)("data.battleId","==",t))),e=(0,m.IO)(e,(0,m.b9)(20)),[2,(0,m.PL)(e).then(function(){var t=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return(e=F(t)).length?((0,h.P$)(e),[4,$(e,"data.userId")]):[2,e];case 1:return n.sent(),[2,e.map((function(t,e){return(0,a.Z)((0,o.Z)({},t),{timestamp:1e3*t.timestamp.seconds})}))]}}))}));return function(e){return t.apply(this,arguments)}}())]}))})),Zt.apply(this,arguments)}function Kt(t){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){return(e=d.battles.find((function(e){return e.id===t})))?[2,e]:[2,j((0,m.JU)(v.db,C,t))]}))}))).apply(this,arguments)}function Jt(t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){return(e=t?d.battles.find((function(e){return e.levelIds.includes(t.id)})):null)?[2,e]:t.battleId?[2,j((0,m.JU)(v.db,C,t.battleId))]:[2,null]}))}))).apply(this,arguments)}function Qt(t){return te.apply(this,arguments)}function te(){return(te=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){return t?(e=p().find((function(e){return e.id===t})))?[2,e]:[2,j((0,m.JU)(v.db,D,t),{useCache:!0})]:[2,{}]}))}))).apply(this,arguments)}function ee(t){return ne.apply(this,arguments)}function ne(){return(ne=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){return e=t.map((function(t){return Qt(t)})),[2,Promise.all(e)]}))}))).apply(this,arguments)}function re(t){return ie.apply(this,arguments)}function ie(){return(ie=(0,r.Z)((function(t){var e,n,r,i,s,c,u,f;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e=t.userId,n=t.battle,r=t.levels,i=t.oldLevels,s=(0,h.BE)({name:n.name,description:n.description,duration:n.duration,status:n.status,gameMode:n.gameMode,levelIds:r?r.map((function(t){return t.id})):void 0,startDate:n.startDate,endDate:n.endDate}),console.table(s),s.startDate&&(s.startDate=(0,m.Bt)()),s.endDate&&(s.endDate=(0,m.Bt)()),r&&i&&i.length?(c=i.filter((function(t){return!r.find((function(e){return e.id===t.id}))})).map((function(t){return t.id}))).length?(u=c.map((function(t){return ce(t)})),console.log("levels to delete",c),[4,Promise.all(u)]):[3,2]:[3,2];case 1:l.sent(),l.label=2;case 2:return f=r?r.map((function(t){return ae({userId:e,battleId:n.id,level:t})})):Promise.resolve(),console.log("saving battle",n,r,e,s),n.id?[2,Promise.all([(0,m.r7)((0,m.JU)(v.db,C,n.id),(0,a.Z)((0,o.Z)({},s),{updatedOn:(0,m.Bt)()})),f])]:[2,(0,m.ET)((0,m.hJ)(v.db,C),(0,a.Z)((0,o.Z)({},s),{createdBy:e,status:d.BattleStatuses.UPCOMING,createdOn:(0,m.Bt)(),updatedOn:(0,m.Bt)()})).then((function(t){return t.id}))]}}))}))).apply(this,arguments)}function se(t){return oe.apply(this,arguments)}function oe(){return(oe=(0,r.Z)((function(t){var e,n,r;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return e=t.battleId,n=t.levelIds,r=(void 0===n?[]:n).map((function(t){return ce(t)})),[4,Promise.all(r)];case 1:return i.sent(),[2,(0,m.oe)((0,m.JU)(v.db,"".concat(C,"/").concat(e)))]}}))}))).apply(this,arguments)}function ae(t){var e=t.userId,n=t.battleId,r=t.level,i=(0,h.BE)((0,o.Z)({createdBy:e,battleId:n,updatedOn:(0,m.Bt)()},r));return console.log("level saving ",i),(0,m.pl)((0,m.JU)(v.db,"levels",r.id),i)}function ce(t){return ue.apply(this,arguments)}function ue(){return(ue=(0,r.Z)((function(t){var e,r,i,s,o;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return n(343),e=(0,g.cF)(v.H),[4,Qt(t)];case 1:return r=a.sent(),i=decodeURIComponent(r.image.match(/user.*png/)[0]),s=(0,g.iH)(e,i),o=(0,g.iH)(e,i.replace(".png","@2x.png")),[2,Promise.all([(0,m.oe)((0,m.JU)(v.db,"".concat(D,"/").concat(t))),(0,g.oq)(s),(0,g.oq)(o)])]}}))}))).apply(this,arguments)}function le(t){return U((0,m.IO)((0,m.hJ)(v.db,C),(0,m.ar)("createdBy","==",t)))}function he(t){return U((0,m.IO)((0,m.hJ)(v.db,S),(0,m.ar)("userId","==",t),(0,m.ar)("type","==","customBattle")))}function de(t,e){return(0,m.cf)((0,m.IO)((0,m.hJ)(v.db,S),(0,m.ar)("userId","==",t),(0,m.ar)("type","==","customBattle"),(0,m.ar)("isUsed","==",!1)),(function(t){var n=F(t);e(n)}))}function fe(t){return pe.apply(this,arguments)}function pe(){return(pe=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,U((0,m.IO)((0,m.hJ)(v.db,E),(0,m.ar)("userId","==",t)))];case 1:return e=n.sent(),[4,Promise.all(e.map((function(t){return Kt(t.battleId)})))];case 2:return[2,n.sent().map((function(t,n){return(0,o.Z)({},e[n],t)}))]}}))}))).apply(this,arguments)}function me(t){return ge.apply(this,arguments)}function ge(){return(ge=(0,r.Z)((function(t){return(0,l.__generator)(this,(function(e){return[2,j((0,m.JU)(v.db,"".concat(L,"/").concat(t)))]}))}))).apply(this,arguments)}function ve(t){return ye.apply(this,arguments)}function ye(){return(ye=(0,r.Z)((function(t){var e,n,r,s,o;return(0,l.__generator)(this,(function(a){return e=t.userId,n=t.courseName,r=t.levelId,s=t.hasCompleted,o={level:r,lastUpdated:(0,m.Bt)()},s&&(o.completedDate=(0,m.Bt)()),(0,m.r7)((0,m.JU)(v.db,"course/".concat(e)),(0,i.Z)({},n,o)),[2]}))}))).apply(this,arguments)}function _e(){var t=new Date,e=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0))}function be(){return(be=(0,r.Z)((function(t){var e;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return e=_e(),[4,U((0,m.IO)((0,m.hJ)(v.db,D),(0,m.ar)("type","==","daily"),(0,m.ar)("startDate","<=",e),(0,m.Xo)("startDate","desc"),(0,m.b9)(t)))];case 1:return[2,n.sent()]}}))}))).apply(this,arguments)}var we=Y((function(t){return be.apply(this,arguments)}));function Ce(t){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,r.Z)((function(t){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,U((0,m.IO)((0,m.hJ)(v.db,D),(0,m.ar)("type","==","daily"),(0,m.Xo)("startDate","desc"),(0,m.b9)(t)))];case 1:return[2,e.sent()]}}))}))).apply(this,arguments)}function Te(t){return Se.apply(this,arguments)}function Se(){return(Se=(0,r.Z)((function(t){return(0,l.__generator)(this,(function(e){return[2,j((0,m.JU)(v.db,"streaks",t))]}))}))).apply(this,arguments)}function Ie(t){return j((0,m.JU)(v.db,"targetStats/".concat(t)))}function xe(t){return j((0,m.JU)(v.db,"targetStats/".concat(t)))}},2367:function(t,e,n){"use strict";n.d(e,{BE:function(){return h},Ds:function(){return u},NR:function(){return C},P$:function(){return y},SG:function(){return l},TF:function(){return v},TN:function(){return T},Ti:function(){return R},VG:function(){return p},WQ:function(){return _},Xg:function(){return k},Z3:function(){return I},cT:function(){return w},dQ:function(){return D},hM:function(){return m},lC:function(){return f},nX:function(){return E},qA:function(){return S},qu:function(){return O},tF:function(){return x},uY:function(){return A},wm:function(){return b},x4:function(){return d},xX:function(){return g}});var r=n(865),i=n(6670),s=n(930),o=n(2788),a=n(4675),c=n(1540);function u(t,e,n){var r;return function(){var i=this,s=arguments,o=function(){r=null,n||t.apply(i,s)},a=n&&!r;clearTimeout(r),r=setTimeout(o,e),a&&t.apply(i,s)}}function l(t,e,n){for(var r=e.split("."),i=t;r.length>1;){var s=r.shift();i[s]=i[s]||{},i=i[s]}return i[r[0]]=n,t}function h(t){return Object.keys(t).forEach((function(e){t[e]&&"object"===typeof t[e]?h(t[e]):void 0!==t[e]&&null!==t[e]||delete t[e]})),t}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"#".concat(String(t).padStart(e,"0"))}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e=Date.now()+1e3*t;!function t(){(0,o.Z)({particleCount:1,startVelocity:0,ticks:100,origin:{x:Math.random(),y:Math.random()-.2},colors:[["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"][~~(7*Math.random())]]}),Date.now()<e&&requestAnimationFrame(t)}()}var p=function(t){"object"!==typeof t&&(t=new Date(t));var e,n=Math.floor((new Date-t)/1e3),r=Math.floor(n/31536e3);return r>=1?e="year":(r=Math.floor(n/2592e3))>=1?e="month":(r=Math.floor(n/86400))>=1?e="day":(r=Math.floor(n/3600))>=1?e="hour":(r=Math.floor(n/60))>=1?e="minute":(r=n,e="second"),(r>1||0===r)&&(e+="s"),r+" "+e};function m(t,e){var n=Math.abs(new Date(e)-new Date(t))/1e3,r=Math.floor(n/86400);n-=86400*r;var i=Math.floor(n/3600)%24;n-=3600*i;var s=Math.floor(n/60)%60;return n-=60*s,{days:r,hours:i,minutes:s,seconds:Math.floor(n%60)}}function g(t){var e={};["uid","displayName","photoURL","isPro","settings"].map((function(n){return e[n]=t[n]})),window.localStorage.setItem("lastUser",JSON.stringify(e))}function v(t,e){return new Function("code","\n  ".concat(t.code,"\n\n  return run(code);\n  "))(e)}function y(t){for(var e,n,r=0;r<t.length-1;){for(var i=r;i+1<t.length&&(e=t[r],n=t[i+1],e.data.userId===n.data.userId&&e.data.levelId===n.data.levelId&&e.data.previousUserId===n.data.previousUserId);)t[r].data.previousUserCodeSize=t[i+1].data.previousUserCodeSize,i++;r!==i&&t.splice(r+1,i-r),r++}}function _(t){for(var e,n,r=0;r<t.length-1;){for(var i=r+1;i<t.length;)e=t[r],n=t[i],e.code.trim()===n.code.trim()?t.splice(i,1):i++;r++}}function b(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e="abcdefghijklmnopqrstuvqxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=t;r--;)n+=e[~~(Math.random()*e.length)];return n}function w(t){var e=t.path,n=t.file,r=t.metaData,i=void 0===r?{}:r,s=(0,c.cF)(a.H);return(0,c.KV)((0,c.iH)(s,e),n,i).then((function(t){return"https://firebasestorage.googleapis.com/v0/b/".concat(a.NX,".appspot.com/o/").concat(encodeURIComponent(e),"?alt=media")}))}function C(t){return t.length>6}function E(t,e){return"https://cssbattle.dev/api/adRedirect?url=".concat(encodeURIComponent(t),"&sponsorId=").concat(e)}function T(t,e){return Math.floor(Math.random()*(e-t+1))+t}function S(t){var e=t.score,n=t.codeSize,r=t.levelId,i=(t.levelName,t.date),s=t.isDaily,o=void 0!==s&&s,a=t.streak,c=void 0===a?1:a,u=["I am on ".concat(e," score with just ").concat(n," characters on Target ").concat(r,". Do you have what it takes to beat that? \ud83d\ude0e"),"Just scored ".concat(e," on Target ").concat(r,"! Join me in the best ever CSS game \u2694\ufe0f"),"I recreated Target ".concat(r," in just ").concat(n," bytes of CSS! Having fun in this crazy CSS game!"),"I just finished a challenge on Target ".concat(r," with ").concat(e," score! Who can do better?"),"Want to have fun with CSS while learning? Beat my score of ".concat(e," on Target ").concat(r," in CSSBattle! \ud83d\udd25"),"CSS art FTW! I created Target ".concat(r," on CSSBattle in just ").concat(n," characters!! \ud83e\udd29 Beat that!"),"Scored ".concat(e," points on Target ").concat(r," of CSSBattle - where CSS and fun meets! Who's up for a challenge?"),"woah! I achieved ".concat(e," score on Target ").concat(r,"? It's time to show off your CSS skills! \ud83d\ude0f"),"Witness my CSS prowess! I conquered Target ".concat(r," with an epic score of ").concat(e,"! Dare to challenge me? \ud83d\udcaa"),"Who's ready to level up? I reached a mind-blowing score of ".concat(e," on Target ").concat(r,"! Join me and let's battle it out in CSS! \ud83d\udca5"),"Unleashing my CSS mastery! Just achieved an impressive score of ".concat(e," on Target ").concat(r,"! Can you surpass me? \ud83d\ude80"),"Calling all CSS artists! I cracked Target ".concat(r," with a score of ").concat(e,"! Join the battle and prove your mettle! \u26a1"),"Best website for CSS artists! Join me on Target ".concat(r," and beat my score of ").concat(e)],l=["%7B\u2694\ufe0f%7D Day ".concat(c||1," of %23CSSBattleDaily streak:\n ").concat(i,"  \u2014 ").concat(e," score / ").concat(n," chars")];return o?l[~~(Math.random()*l.length)]:u[~~(Math.random()*u.length)]}function I(t){var e=t.url,n=t.text,r=t.hashTags;return"https://twitter.com/share?url=".concat(e,"&text=").concat(n,"&hashtags=").concat(r,"&via=css_battle&related=css_battle")}function x(t,e){var n,s=t||{},o=!1,a=null===(n=e.validationTags)||void 0===n?void 0:n.includes("css");if(a&&(o=!(null===t||void 0===t?void 0:t.score)||e.score>t.score)&&(s=(0,r.Z)({},s,e)),a||(o=!(null===t||void 0===t?void 0:t.nonCss)||e.score>t.nonCss.score)&&(s=(0,i.Z)((0,r.Z)({},s),{nonCss:e})),s.nonCss){var c=s.nonCss.score>(s.score||0);s.overall={score:c?s.nonCss.score:s.score,codeSize:c?s.nonCss.codeSize:s.codeSize}}return{newObj:s,isAHighScore:o}}function k(t,e){var n=t.startDate,r="string"===typeof n?+new Date(n):n.toMillis();return((e.toMillis?e.toMillis():1e3*e._seconds)-r)/1e3}function A(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function R(t){for(var e,n,r=0,i=1;r<t.length-1;){var s=r;for(t[r].rank=i;s+1<t.length&&t[r].streak.count===t[s+1].streak.count;)t[s+1].rank=t[r].rank,s++;r=s+1,i++}var o=0;return 4!==(null===(e=t[3])||void 0===e?void 0:e.rank)&&(null===(n=t[3])||void 0===n?void 0:n.rank)?2===t[1].rank&&2===t[2].rank&&3===t[3].rank?o=3:t[1].rank!==t[2].rank&&t[2].rank!==t[3].rank||(o=1):o=3,o}function D(t){var e=t.toDate(),n=e.getUTCDate(),r=e.getUTCMonth();return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r]," ").concat(n)}function O(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;("development"===a.OB||(null===window||void 0===window||null===(r=window.location)||void 0===r?void 0:r.href.match(/localhost/)))&&(i=console).log.apply(i,(0,s.Z)(e))}},8396:function(t){t.exports={dialog:"CommandPalette_dialog__Uy7o1"}},6578:function(t){t.exports={breadcrumbs:"Header_breadcrumbs__mCYlG",headerLogo:"Header_headerLogo__qxS_C",headerLogoSmall:"Header_headerLogoSmall__A7Hg_"}},9502:function(t){t.exports={sidebarContainer:"CSSBattleSidebar_sidebarContainer__05AyU",sidebarContainerCollapsible:"CSSBattleSidebar_sidebarContainerCollapsible__yR0d3",sidebarContainerVisible:"CSSBattleSidebar_sidebarContainerVisible__fRbgm",sidebarMainContent:"CSSBattleSidebar_sidebarMainContent__CMtpS",sidebarLogo:"CSSBattleSidebar_sidebarLogo__MnsoD",sidebarLogoSmall:"CSSBattleSidebar_sidebarLogoSmall__xPfvU",sidebarFooter:"CSSBattleSidebar_sidebarFooter__op2CS",sidebarSection:"CSSBattleSidebar_sidebarSection__kLPXk",sidebarPageItemText:"CSSBattleSidebar_sidebarPageItemText__HjcHV",sidebarPageItem:"CSSBattleSidebar_sidebarPageItem__0Z0k_",sidebarPageItemActive:"CSSBattleSidebar_sidebarPageItemActive__TyBMZ",sidebarSectionHeading:"CSSBattleSidebar_sidebarSectionHeading__bbmVk",sidebarCopyright:"CSSBattleSidebar_sidebarCopyright__n0Fkp",sidebarSocialIcon:"CSSBattleSidebar_sidebarSocialIcon__Tmo8E",sidebarSocialLinks:"CSSBattleSidebar_sidebarSocialLinks__Q3hz6",sidebarPageItemTag:"CSSBattleSidebar_sidebarPageItemTag__yxr8k",sidebasidebarFooter:"CSSBattleSidebar_sidebasidebarFooter__pW_fP"}},5932:function(t){t.exports={widget:"StreaksWidget_widget__NN76h",bg:"StreaksWidget_bg__IWXFY",widgetText:"StreaksWidget_widgetText__6UBg0",widgetMain:"StreaksWidget_widgetMain__c5e_H",widgetShineBig:"StreaksWidget_widgetShineBig__i9jMt",widgetShineSmall:"StreaksWidget_widgetShineSmall__QPj5o",bar:"StreaksWidget_bar__Ahzb0",rays:"StreaksWidget_rays__dBVjC"}},7007:function(){},7175:function(){},9461:function(){},7102:function(){},1552:function(){},2351:function(t){!function(){var e={229:function(t){var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!u){var t=o(h);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var s=n[t]={exports:{}},o=!0;try{e[t](s,s.exports,r),o=!1}finally{o&&delete n[t]}return s.exports}r.ab="//";var i=r(229);t.exports=i}()},7729:function(t,e,n){t.exports=n(5913)},9097:function(t,e,n){t.exports=n(162)},5632:function(t,e,n){t.exports=n(3642)},5346:function(t,e,n){"use strict";n.d(e,{Av:function(){return o},pF:function(){return r},xv:function(){return s},zi:function(){return i}});var r="right-scroll-bar-position",i="width-before-scroll-bar",s="with-scroll-bars-hidden",o="--removed-body-scroll-bar-size"},181:function(t,e,n){"use strict";n.d(e,{jp:function(){return h}});var r=n(2784),i=n(3225),s=n(5346),o={left:0,top:0,right:0,gap:0},a=function(t){return parseInt(t||"",10)||0},c=function(t){if(void 0===t&&(t="margin"),"undefined"===typeof window)return o;var e=function(t){var e=window.getComputedStyle(document.body),n=e["padding"===t?"paddingLeft":"marginLeft"],r=e["padding"===t?"paddingTop":"marginTop"],i=e["padding"===t?"paddingRight":"marginRight"];return[a(n),a(r),a(i)]}(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},u=(0,i.Ws)(),l=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,c=t.gap;return void 0===n&&(n="margin"),"\n  .".concat(s.xv," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(c,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([e&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(s.pF," {\n    right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(s.zi," {\n    margin-right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(s.pF," .").concat(s.pF," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(s.zi," .").concat(s.zi," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat(s.Av,": ").concat(c,"px;\n  }\n")},h=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,s=void 0===i?"margin":i,o=r.useMemo((function(){return c(s)}),[s]);return r.createElement(u,{styles:l(o,!e,s,n?"":"!important")})}},3225:function(t,e,n){"use strict";n.d(e,{Ws:function(){return a}});var r,i=n(2784);function s(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=r||n.nc;return e&&t.setAttribute("nonce",e),t}var o=function(){var t=0,e=null;return{add:function(n){var r,i;0==t&&(e=s())&&(i=n,(r=e).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(t){(document.head||document.getElementsByTagName("head")[0]).appendChild(t)}(e)),t++},remove:function(){!--t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},a=function(){var t=function(){var t=o();return function(e,n){i.useEffect((function(){return t.add(e),function(){t.remove()}}),[e&&n])}}();return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}}},2442:function(t,e,n){"use strict";n.d(e,{q:function(){return i}});var r=n(2784);function i(t,e){return function(t,e){var n=(0,r.useState)((function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(t){var e=n.value;e!==t&&(n.value=t,n.callback(t,e))}}}}))[0];return n.callback=e,n.facade}(e||null,(function(e){return t.forEach((function(t){return function(t,e){return"function"===typeof t?t(e):t&&(t.current=e),t}(t,e)}))}))}},7758:function(t,e,n){"use strict";n.d(e,{L:function(){return o}});var r=n(2970),i=n(2784),s=function(t){var e=t.sideCar,n=(0,r.__rest)(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return i.createElement(s,(0,r.__assign)({},n))};function o(t,e){return t.useMedium(e),s}s.isSideCarExport=!0},4597:function(t,e,n){"use strict";n.d(e,{_:function(){return a},s:function(){return o}});var r=n(2970);function i(t){return t}function s(t,e){void 0===e&&(e=i);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(t){var i=e(t,r);return n.push(i),function(){n=n.filter((function(t){return t!==i}))}},assignSyncMedium:function(t){for(r=!0;n.length;){var e=n;n=[],e.forEach(t)}n={push:function(e){return t(e)},filter:function(){return n}}},assignMedium:function(t){r=!0;var e=[];if(n.length){var i=n;n=[],i.forEach(t),e=n}var s=function(){var n=e;e=[],n.forEach(t)},o=function(){return Promise.resolve().then(s)};o(),n={push:function(t){e.push(t),o()},filter:function(t){return e=e.filter(t),n}}}}}function o(t,e){return void 0===e&&(e=i),s(t,e)}function a(t){void 0===t&&(t={});var e=s(null);return e.options=(0,r.__assign)({async:!0,ssr:!1},t),e}},7500:function(t){const e={BIG_BATTLE:"big",MINI_BATTLE:"mini"},n={UPCOMING:"upComing",ONGOING:"onGoing",FINISHED:"finished"},r=[{id:1,slug:"pilot-battle",name:"Pilot Battle",type:e.BIG_BATTLE,levelIds:[1,2,3,4,5,6,7,8,9,10,11,12],startDate:"Apr 4 2019 16:30:00 GMT+0530",endDate:"May 9 2019 16:30:00 GMT+0530",description:"First ever battle of CSSBattle. 12 fun warm-up targets to play and climb the leaderboards."},{id:2,slug:"visibility",name:"Visibility",type:e.BIG_BATTLE,levelIds:[13,14,15,16,17,18],startDate:"May 9 2019 16:30:00 GMT+0530",endDate:"May 30 2019 16:30:00 GMT+0530",description:"6 targets unlock across 3 weeks. Recreate them in the smallest possible CSS code and climb the leaderboards."},{id:3,slug:"cursor",name:"Cursor",type:e.MINI_BATTLE,levelIds:[19,20],startDate:"Jun 1 2019 16:30:00 GMT+0530",endDate:"Jun 3 2019 16:30:00 GMT+0530",description:"First ever mini-battle. 48 hours, 2 Targets. Some intense CSS golfing."},{id:4,slug:"display",name:"Display",type:e.BIG_BATTLE,levelIds:[21,22,23,24,25,26,27,28],startDate:"Jun 12 2019 16:30:00 GMT+0530",endDate:"Jul 3 2019 16:30:00 GMT+0530",description:"8 targets unlock across 3 weeks. Recreate them in the smallest possible CSS code and climb the leaderboard!",sponsor:{name:"SitePoint",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.sitepoint.com%3Futm_source%3Dcss-battles%26utm_medium%3Dreferral%26utm_campaign%3Dlogo-battle&sponsorId=2"},rewards:{gold:"$50",silver:"$30",bronze:"$20",others:"Top 20: SitePoint Premium"}},{id:5,slug:"inline",name:"Inline",type:e.MINI_BATTLE,levelIds:[29,30],startDate:"Jul 13 2019 16:30:00 GMT+0530",endDate:"Jul 15 2019 16:30:00 GMT+0530",description:"48 hours, 2 Targets and some intense CSS golfing."},{id:6,slug:"conic",name:"Conic",type:e.MINI_BATTLE,levelIds:[31,32],startDate:"Jul 19 2019 16:30:00 GMT+0530",endDate:"Jul 21 2019 16:30:00 GMT+0530",description:"48 hours, 2 Targets and some intense CSS golfing."},{id:7,slug:"backface",name:"Backface",type:e.BIG_BATTLE,levelIds:[33,34,35,36,37,38,39,40,41],startDate:"Aug 01 2019 16:30:00 GMT+0530",endDate:"Aug 22 2019 16:30:00 GMT+0530",description:"9 targets unlock across 3 weeks. Recreate them with smallest possible CSS code and climb the leaderboard!"},{id:8,slug:"transition",name:"Transition",type:e.MINI_BATTLE,levelIds:[42,43,44],startDate:"Sep 07 2019 16:30:00 GMT+0530",endDate:"Sep 09 2019 16:30:00 GMT+0530",description:"3 fun targets for the weekend \ud83d\ude00"},{id:9,slug:"margin",name:"Margin",type:e.MINI_BATTLE,levelIds:[45,46],startDate:"Dec 12 2019 16:30:00 GMT+0530",endDate:"Dec 14 2019 16:30:00 GMT+0530",description:"2 fun targets to flex your muscles for the next big battle \ud83d\udd25"},{id:10,slug:"block",name:"Block",type:e.BIG_BATTLE,levelIds:[47,48,49,50,51,52],startDate:"Mar 26 2020 16:30:00 GMT+0530",endDate:"Apr 9 2020 16:30:00 GMT+0530",description:"6 targets to battle out over 2 weeks and learn about best practices against Corona Virus \ud83d\udd25"},{id:11,slug:"overflow",name:"Overflow",type:e.BIG_BATTLE,levelIds:[53,54,55,56,57,58,59,60],startDate:"Jun 9 2020 16:30:00 GMT+0530",endDate:"Jul 9 2020 16:30:00 GMT+0530",description:"8 targets (2 per week) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"Pastel",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fusepastel.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=3"},rewards:{gold:"$50",silver:"$30",bronze:"$20",others:"Top 10: 1-year free Pastel Premium"}},{id:12,slug:"blend",name:"Blend",type:e.BIG_BATTLE,levelIds:[61,62,63,64,65,66,67,68],openLevelIds:[62],startDate:"Nov 21 2020 16:30:00 GMT+0530",endDate:"Dec 20 2020 16:30:00 GMT+0530",description:"8 targets (2 per week, and a new twist) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"ImprovMX",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fimprovmx.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=4"},rewards:{gold:"$80 + ImprovMX premium for 1337 months",silver:"$55 + ImprovMX premium for 42 months",bronze:"$40 + ImprovMX premium for 24 months",others:"4th-10th: $25 + ImprovMX premium for 12 months",note:"Cash prizes will be given in the form of Amazon Gift Cards"}},{id:13,slug:"clip",name:"Clip",type:e.BIG_BATTLE,levelIds:[69,70,71,72,73,74,75,76],openLevelIds:[69,71,73],startDate:"Mar 02 2021 16:30:00 GMT+0530",endDate:"Mar 30 2021 16:30:00 GMT+0530",rewards:{others:"Top 10: Customized limited edition CSSBattle Merchandise"},description:"8 targets (with some open ones!) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"PushOwl",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fpushowl.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=5"}},{id:14,slug:"zindex",name:"ZIndex",type:e.MINI_BATTLE,levelIds:[77,78,79,80],startDate:"May 25 2021 16:30:00 GMT+0530",endDate:"May 29 2021 16:30:00 GMT+0530",description:"4 days, 1 new target everyday \ud83c\udfaf! Ultimate crash course for CSS golfing!"},{id:15,slug:"filter",name:"Filter",type:e.BIG_BATTLE,levelIds:[81,82,83,84,85,86,87,88],openLevelIds:[84],startDate:"Sep 21 2021 16:30:00 GMT+0530",endDate:"Oct 21 2021 16:30:00 GMT+0530",description:"8 targets (with some open ones!) to battle out over 4 weeks and level up your CSS!",sponsor:{name:"Odoo",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.odoo.com%2Fapp%2Fwebsite%3Futm_source%3DCSSBattle%26utm_medium%3Dcpc-social%26utm_campaign%3Dwebsite&sponsorId=6"}},{id:16,slug:"aspect",name:"Aspect",type:e.BIG_BATTLE,levelIds:[89,90,91,92,93,94,95,96],openLevelIds:[91],startDate:"Oct 28 2021 16:30:00 GMT+0530",endDate:"Nov 28 2021 16:30:00 GMT+0530",description:"Create 8 targets (with some open ones!) over 4 weeks and level up your CSS!"},{id:17,slug:"christmas",name:"Christmas \ud83c\udf84",type:e.MINI_BATTLE,levelIds:[97,98,99,100],openLevelIds:[100],startDate:"Dec 22 2021 16:30:00 GMT+0530",endDate:"Dec 26 2021 16:30:00 GMT+0530",description:"This festive season, let's celebrate Christmas with these 4 merry targets and some joyful CSS! \ud83c\udf84\ud83c\udf85\ud83c\udffc"},{id:18,slug:"float",name:"Float",type:e.BIG_BATTLE,levelIds:[101,102,103,104,105,106,107,108],openLevelIds:[106],startDate:"Mar 10 2022 16:30:00 GMT+0530",endDate:"Apr 09 2022 16:30:00 GMT+0530",description:"First battle of the year! Let's get into the CSS art mood with some nice Anime targets!"},{id:19,slug:"spacing",name:"Spacing",type:e.BIG_BATTLE,levelIds:[109,110,111,112,113,114,115,116],openLevelIds:[111],startDate:"Jun 07 2022 16:30:00 GMT+0530",endDate:"Jul 05 2022 16:30:00 GMT+0530",description:"4 weeks full of CSS art! 8 fun targets coming your way!"},{id:20,slug:"hover",name:"Hover",type:e.BIG_BATTLE,levelIds:[117,118,119,120,121,122,123,124],openLevelIds:[120],startDate:"Aug 04 2022 16:30:00 GMT+0530",endDate:"Sep 02 2022 16:30:00 GMT+0530",description:"4 weeks full of CSS art! 8 fun targets coming your way in our 20th battle!",sponsor:{name:"Arineo",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Farineo.com%2Fen%2F&sponsorId=7"},rewards:{others:"Top 20: Limited-Edition CSSBattle Stickers!"}},{id:21,slug:"rotate",name:"Rotate",type:e.BIG_BATTLE,firstLevelId:125,levelIds:[125,126,127,128,129,130,131,132],openLevelIds:[130],startDate:"Sep 15 2022 22:00:00 GMT+0530",endDate:"Oct 13 2022 22:00:00 GMT+0530",description:"4 weeks full of crazy letter art! Time to do some CSS art calligraphy.",sponsor:{name:"RootLearn",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.rootlearn.com%2Fbootcamp%2Fweb-dev%3Fsource%3Dcssbattle&sponsorId=8"}},{id:22,slug:"grid",name:"Grid",type:e.BIG_BATTLE,firstLevelId:133,levelIds:[133,134,135,136,137,138,139,140],openLevelIds:[137],startDate:"Nov 29 2022 22:00:00 GMT+0530",endDate:"Dec 27 2022 22:00:00 GMT+0530",description:"Let\u2019s celebrate the end of the year with some festive targets and some joyful CSS!"},{id:23,slug:"contain",name:"Contain",type:e.MINI_BATTLE,firstLevelId:141,levelIds:[141,142],openLevelIds:[142],startDate:"Mar 18 2023 22:00:00 GMT+0530",endDate:"Mar 20 2023 22:00:00 GMT+0530",description:"New year, new rules! Join us in this mini battle to kickstart the year!"},{id:24,slug:"offset",name:"Offset",type:e.BIG_BATTLE,firstLevelId:143,levelIds:[143,144,145,146,147,148,149,150],openLevelIds:[148],startDate:"May 01 2023 22:00:00 GMT+0530",endDate:"Jun 01 2023 22:00:00 GMT+0530",description:"4 weeks full of CSS art! 8 corner-themed fun targets coming your way!"},{id:25,slug:"flex",name:"Flex",type:e.BIG_BATTLE,firstLevelId:151,levelIds:[151,152,153,154,155,156,157,158],openLevelIds:[],startDate:"Jun 07 2023 22:00:00 GMT+0530",endDate:"Jul 05 2023 22:00:00 GMT+0530",description:"4 weeks full of CSS art! 8 fun targets coming your way!"},{id:26,slug:"initial",name:"Initial",type:e.BIG_BATTLE,firstLevelId:159,levelIds:[159,160,0,0,0,0,0,0],openLevelIds:[],startDate:"Aug 24 2023 22:00:00 GMT+0530",endDate:"Sep 21 2023 22:00:00 GMT+0530",description:"Time to flex your CSS art skills! 8 fun targets coming your way!"}];function i(t){return t.id.length>6}t.exports={BattleTypes:e,BattleStatuses:n,BattleGameModes:{CODE_GOLF:"codegolf",FIRST_TO_MATCH:"firstToMatch"},battles:r,checkIfCustomBattle:i,getBattleStatus:function(t){if(i(t={...t})){if(!t.startDate)return n.UPCOMING;t.startDate=new Date(1e3*t.startDate.seconds),t.endDate=t.endDate?new Date(1e3*t.endDate.seconds):+t.startDate+60*t.duration*1e3}const e=Date.now(),r=new Date(t.startDate).getTime(),s=new Date(t.endDate).getTime();return e<r?n.UPCOMING:e>s?n.FINISHED:n.ONGOING}}},8688:function(t){t.exports=[{id:1,name:"Simply Square",image:"/targets/1.png",colors:["#5d3a3a","#b5e0ba"]},{id:2,name:"Carrom",image:"/targets/2.png",colors:["#62374e","#fdc57b"]},{id:3,name:"Push Button",image:"/targets/3.png",colors:["#6592CF","#243D83","#EEB850"]},{id:4,name:"Ups n Downs",image:"/targets/4.png",colors:["#62306D","#F7EC7D"]},{id:5,name:"Acid Rain",image:"/targets/5.png",colors:["#0B2429","#F3AC3C","#998235"]},{id:6,name:"Missing Slice",image:"/targets/6.png",colors:["#E3516E","#F7F3D7","#51B5A9","#FADE8B"]},{id:7,name:"Leafy Trail",image:"/targets/7.png",colors:["#0B2429","#F3AC3C","#998235","#1A4341"]},{id:8,name:"Forking Crazy",image:"/targets/8.png",colors:["#6592CF","#060F55"]},{id:9,name:"Tesseract",image:"/targets/9.png",colors:["#222730","#4CAAB3","#393E46"]},{id:10,name:"Cloaked Spirits",image:"/targets/10.png",colors:["#62306D","#F7EC7D","#AA445F","#E38F66"]},{id:11,name:"Eye of Sauron",image:"/targets/11.png",colors:["#191210","#ECA03D","#84271C"]},{id:12,name:"Wiggly Moustache",image:"/targets/12.png",colors:["#F5D6B4","#D86F45"]},{id:13,name:"Totally Triangle",image:"/targets/13.png",colors:["#0B2429","#F3AC3C"]},{id:14,name:"Web Maker Logo",image:"/targets/14.png",colors:["#F2F2B6","#FF6D00","#FD4602"]},{id:15,name:"Overlap",image:"/targets/15.png",colors:["#09042A","#7B3F61","#E78481"]},{id:16,name:"Eye of the Tiger",image:"/targets/16.png",colors:["#0B2429","#998235","#F3AC3C"]},{id:17,name:"Fidget Spinner",image:"/targets/17.png",colors:["#09042A","#E78481","#F5BB9C"]},{id:18,name:"Matrix",image:"/targets/18.png",colors:["#5C434C","#F09462","#F5D6B4"]},{id:19,name:"Cube",image:"/targets/19.png",colors:["#0B2429","#F3AC3C","#998235","#1A4341"]},{id:20,name:"Ticket",image:"/targets/20.png",colors:["#62306D","#F7EC7D","#E38F66"]},{id:21,name:"SitePoint Logo",image:"/targets/21.png",colors:["#222","#F2994A","#2D9CDB"]},{id:22,name:"Cloud",image:"/targets/22.png",colors:["#F5D6B4","#D86F45"]},{id:23,name:"Boxception",image:"/targets/23.png",colors:["#F3AC3C","#1A4341","#998235"]},{id:24,name:"Switches",image:"/targets/24.png",colors:["#62306D","#F7EC7D","#AA445F","#E38F66"]},{id:25,name:"Blossom",image:"/targets/25.png",colors:["#998235","#1A4341","#F3AC3C"]},{id:26,name:"Smiley",image:"/targets/26.png",colors:["#6592CF","#060F55"]},{id:27,name:"Lock Up",image:"/targets/27.png",colors:["#E38F66","#AA445F","#F7EC7D"]},{id:28,name:"Cups & Balls",image:"/targets/28.png",colors:["#1A4341","#998235","#F3AC3C"]},{id:29,name:"Suffocate",image:"/targets/29.png",colors:["#F3AC3C","#1A4341"]},{id:30,name:"Horizon",image:"/targets/30.png",colors:["#F7EC7D","#E38F66","#AA445F","#62306D"]},{id:31,name:"Equals",image:"/targets/31.png",colors:["#AA445F","#F7EC7D","#E38F66"]},{id:32,name:"Band-aid",image:"/targets/32.png",colors:["#FFFFFF","#F3AC3C","#A3A368","#FBE18C"]},{id:33,name:"Birdie",image:"/targets/33.png",colors:["#1A4341","#998235","#F3AC3C","#0B2429"]},{id:34,name:"Christmas Tree",image:"/targets/34.png",colors:["#007065","#FFEECF","#F5C181","#00A79D"]},{id:35,name:"Ice Cream",image:"/targets/35.png",colors:["#293462","#FFF1C1","#FE5F55","#A64942"]},{id:36,name:"Interleaved",image:"/targets/36.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:37,name:"Tunnel",image:"/targets/37.png",colors:["#6592CF","#243D83"]},{id:38,name:"Not Simply Square",image:"/targets/38.png",colors:["#293462","#FFF1C1","#FE5F55","#A64942"]},{id:39,name:"Sunset",image:"/targets/39.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:40,name:"Letter B",image:"/targets/40.png",colors:["#6592CF","#243D83"]},{id:41,name:"Fox Head",image:"/targets/41.png",colors:["#293462","#FE5F55"]},{id:42,name:"Baby",image:"/targets/42.png",colors:["#293462","#FE5F55","#FFF1C1"]},{id:43,name:"Wrench",image:"/targets/43.png",colors:["#6592CF","#243D83"]},{id:44,name:"Stripes",image:"/targets/44.png",colors:["#1A4341","#F3AC3C"]},{id:45,name:"Magical Tree",image:"/targets/45.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:46,name:"Mountains",image:"/targets/46.png",colors:["#293462","#FFF1C1","#FE5F55"]},{id:47,name:"Corona Virus",image:"/targets/47.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:48,name:"Wash Your Hands",image:"/targets/48.png",colors:["#293462","#FE5F55","#A64942"]},{id:49,name:"Stay at Home",image:"/targets/49.png",colors:["#6592CF","#243D83","#EEB850"]},{id:50,name:"Use Hand Sanitizer",image:"/targets/50.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:51,name:"Wear a Mask",image:"/targets/51.png",colors:["#293462","#FFF1C1","#FE5F55"]},{id:52,name:"Break the Chain",image:"/targets/52.png",colors:["#6592CF","#243D83","#EEB850"]},{id:53,name:"Pastel Logo",image:"/targets/53.png",colors:["#19191A","#4F77FF","#9AD5FF","#F9E492"]},{id:54,name:"Black Lives Matter",image:"/targets/54.png",colors:["#191919","#F9E492"]},{id:55,name:"Windmill",image:"/targets/55.png",colors:["#191919","#F9E492","#4F77FF"]},{id:56,name:"Skull",image:"/targets/56.png",colors:["#191919","#4F77FF"]},{id:57,name:"Pillars",image:"/targets/57.png",colors:["#191919","#4F77FF","#F9E492"]},{id:58,name:"Rose",image:"/targets/58.png",colors:["#191919","#4F77FF","#F9E492"]},{id:59,name:"Earth",image:"/targets/59.png",colors:["#191919","#4F77FF"]},{id:60,name:"Evil Triangles",image:"/targets/60.png",colors:["#191919","#4F77FF"]},{id:61,name:"ImprovMX",image:"/targets/61.png",colors:["#191919","#5DBCF9"]},{id:62,name:"Sunset",isOpen:!0,image:"/targets/62.png",colors:["#191919","#F2AD43","#E08027","#824B20","#FFF58F"]},{id:63,name:"Command Key",image:"/targets/63.png",colors:["#191919","#5DBCF9"]},{id:64,name:"Door Knob",image:"/targets/64.png",colors:["#191919","#E08027","#824B20","#FFF58F"]},{id:65,name:"Max Volume",image:"/targets/65.png",colors:["#191919","#5DBCF9"]},{id:66,name:"Batmicky",image:"/targets/66.png",colors:["#191919","#F2AD43"]},{id:67,name:"Video Reel",image:"/targets/67.png",colors:["#191919","#5DBCF9"]},{id:68,name:"Bell",image:"/targets/68.png",colors:["#191919","#E08027","#F2AD43","#824B20"]},{id:69,name:"PushOwl",image:"/targets/69.png",colors:["#191919","#E08027"],isOpen:!0},{id:70,name:"Froggy",image:"/targets/70.png",colors:["#293462","#FE5F55","#A64942","#FFF1C1"]},{id:71,name:"Elephant",image:"/targets/71.png",colors:["#998235","#1A4341","#0B2429","#FFFFFF"],isOpen:!0},{id:72,name:"Sheep",image:"/targets/72.png",colors:["#243D83","#6592CF"]},{id:73,name:"Happy Tiger",image:"/targets/73.png",colors:["#F3AC3C","#998235","#1A4341","#FFFFFF"],isOpen:!0},{id:74,name:"Danger Noodle",image:"/targets/74.png",colors:["#191919","#E08027"]},{id:75,name:"Hippo",image:"/targets/75.png",colors:["#191919","#A64942","#FE5F55","#000000"]},{id:76,name:"Beeee",image:"/targets/76.png",colors:["#998235","#FFFFFF","#EFF33C","#191919"]},{id:77,name:"Notes",image:"/targets/77.png",colors:["#191919","#FE5F55","#A64942"]},{id:78,name:"Ukulele",image:"/targets/78.png",colors:["#F3AC3C","#998235","#1A4341"]},{id:79,name:"Tambourine",image:"/targets/79.png",colors:["#243D83","#6592CF"]},{id:80,name:"Piano",image:"/targets/80.png",colors:["#998235","#191919","#FFFFFF"]},{id:81,name:"Odoo",image:"/targets/81.png",colors:["#191919","#714B67","#8F8F8F"]},{id:82,name:"Diamond Cut",image:"/targets/82.png",colors:["#F3AC3C","#998235","#1A4341"]},{id:83,name:"Supernova",image:"/targets/83.png",colors:["#243D83","#6592CF","#EEB850"]},{id:84,name:"Junction",isOpen:!0,image:"/targets/84.png",colors:["#191919","#A64942","#FE5F55"]},{id:85,name:"Pythagoras",image:"/targets/85.png",colors:["#D25B70","#F7F3DA","#F6DF96","#6CB3A9"]},{id:86,name:"Stairway",image:"/targets/86.png",colors:["#191919","#4F77FF"]},{id:87,name:"Building Blocks",image:"/targets/87.png",colors:["#F3AC3C","#1A4341"]},{id:88,name:"Tight Corner",image:"/targets/88.png",colors:["#F7F3DA","#D25B70"]},{id:89,name:"Summit",image:"/targets/89.png",colors:["#191919","#F9E492","#4F77FF"]},{id:90,name:"Eclipse",image:"/targets/90.png",colors:["#998235","#F3AC3C","#1A4341"]},{id:91,name:"Reflection",image:"/targets/91.png",colors:["#6CB3A9","#D25B70","#F6DF96"],isOpen:!0},{id:92,name:"Squeeze",image:"/targets/92.png",colors:["#6592CF","#243D83"]},{id:93,name:"Great Wall",image:"/targets/93.png",colors:["#4F77FF","#191919","#F9E492","#D6B73F"]},{id:94,name:"Ripples",image:"/targets/94.png",colors:["#0E2E2C","#F3AC3C","#998235"]},{id:95,name:"Pokeball",image:"/targets/95.png",colors:["#6CB3A9","#D25B70","#FFFFFF","#781728","#F6DF96"]},{id:96,name:"Mandala",image:"/targets/96.png",colors:["#6592CF","#243D83"]},{id:97,name:"Snowman",image:"/targets/97.png",colors:["#AC474B","#FFFFFF","#0E1F2B","#FFA63F"]},{id:98,name:"Candle",image:"/targets/98.png",colors:["#14313E","#BA3E46","#F3695A","#F3AC3C"]},{id:99,name:"Gift Box",image:"/targets/99.png",colors:["#AC474B","#FFFFFF"]},{id:100,name:"CSSBattle",image:"/targets/100.png",colors:["#14313E","#FFDF00"],isOpen:!0},{id:101,name:"Sharingan",image:"/targets/101.png",colors:["#161616","#A22015","#000000","#E96A23"]},{id:102,name:"One Piece",image:"/targets/102.png",colors:["#000000","#FFFFFF"]},{id:103,name:"Super Saiyan",image:"/targets/103.png",colors:["#161616","#EBAE11","#FFFFFF","#FFDEB9"]},{id:104,name:"Amegakure",image:"/targets/104.png",colors:["#000000","#37385A","#9897AE","#C0C3DB"]},{id:105,name:"Ryuk",image:"/targets/105.png",colors:["#BAC7CE","#475862","#000000","#868A64","#5A6042","#4E2B24"]},{id:106,name:"Ryuk's Apple",image:"/targets/106.png",colors:["#000000","#D4392D"],isOpen:!0},{id:107,name:"Sealing Wand",image:"/targets/107.png",colors:["#161616","#E96A23","#FFFFFF","#A22015"]},{id:108,name:"Clow Card",image:"/targets/108.png",colors:["#000000","#E96A23","#EBAE11"]},{id:109,name:"Curtain",image:"/targets/109.png",colors:["#191919","#F6E59C"]},{id:110,name:"Sunrays",image:"/targets/110.png",colors:["#D25B70","#F2E09F"]},{id:111,name:"Rain Drops",image:"/targets/111.png",colors:["#F3AC3C","#254241"],isOpen:!0},{id:112,name:"Chevron",image:"/targets/112.png",colors:["#6592CF","#293D7E"]},{id:113,name:"Black Light",image:"/targets/113.png",colors:["#5776F6","#191919"]},{id:114,name:"Negative Box",image:"/targets/114.png",colors:["#172D2C","#E9AF53"]},{id:115,name:"Droplet",image:"/targets/115.png",colors:["#C36271","#F2E09F"]},{id:116,name:"Headphones",image:"/targets/116.png",colors:["#293D7E","#6E91CA"]},{id:117,name:"Arineo",image:"/targets/117.png",colors:["#FFFFFF","#0088CA","#2E2926"]},{id:118,name:"Donkey Kong",image:"/targets/118.png",colors:["#000000","#AF067C","#FFFFFF"]},{id:119,name:"Pacman",image:"/targets/119.png",colors:["#000000","#E0E246","#C74E4E","#FFFFFF"]},{id:120,name:"Tank",image:"/targets/120.png",colors:["#000000","#54C144","#C74E4E","#FFFFFF"],isOpen:!0},{id:121,name:"Duck Hunt",image:"/targets/121.png",colors:["#1E92FF","#6F6100","#69D10A","#441A0A"]},{id:122,name:"Tetris",image:"/targets/122.png",colors:["#173889","#EE4F63","#2CE1EA","#F8DA37","#B069F7"]},{id:123,name:"Snake",image:"/targets/123.png",colors:["#C74E4E","#E0E246","#FFFFFF"]},{id:124,name:"Space Invaders",image:"/targets/124.png",colors:["#071945","#B069F7","#F8DA37","#2CE1EA"]},{id:125,name:"Root Learn",image:"/targets/125.png",colors:["#EFF2F1","#1C1C1C"]},{id:126,name:"Letter A",image:"/targets/126.png",colors:["#62306D","#FEF9CA","#C5B732","#E38F66","#AA445F"]},{id:127,name:"Letter I",image:"/targets/127.png",colors:["#E3516E","#FADE8B"]},{id:128,name:"Letter N",image:"/targets/128.png",colors:["#998235","#0B2429","#FCBE5C"]},{id:129,name:"Letter B",image:"/targets/129.png",colors:["#6592CF","#515DBD","#2E3B9F","#060F55"]},{id:130,name:"Letter O",image:"/targets/130.png",colors:["#926927","#FFFFFF","#6D480A"],isOpen:!0},{id:131,name:"Letter W",image:"/targets/131.png",colors:["#E38F66","#62306D","#FFFBDA"]},{id:132,name:"Letter S",image:"/targets/132.png",colors:["#4F77FF","#FFFFFF","#1038BF"]},{id:133,name:"Spiral",image:"/targets/133.png",colors:["#F5D6B4","#D86F45"]},{id:134,name:"Wig",image:"/targets/134.png",colors:["#62306D","#F7EC7D"]},{id:135,name:"Spikes",image:"/targets/135.png",colors:["#E3516E","#D9D9D9"]},{id:136,name:"Alien Eye",image:"/targets/136.png",colors:["#998235","#FCBE5C","#0B2429"]},{id:137,name:"Elbow",image:"/targets/137.png",colors:["#6592CF","#060F55"],isOpen:!0},{id:138,name:"Lotus",image:"/targets/138.png",colors:["#926927","#6D480A","#FFFFFF"]},{id:139,name:"Lamp",image:"/targets/139.png",colors:["#E38F66","#FFFBDA","#62306D"]},{id:140,name:"Eclipse",image:"/targets/140.png",colors:["#4F77FF","#1038BF","#FFFFFF"]},{id:141,name:"Third Eye",image:"/targets/141.png",colors:["#E3516E","#D9D9D9"]},{id:142,name:"Curtains",image:"/targets/142.png",colors:["#4F77FF","#1038BF","#FFFFFF"],isOpen:!0},{id:143,name:"Simply Circle",image:"/targets/143.png",colors:["#F5D6B4","#D86F45"]},{id:144,name:"Long Heart",image:"/targets/144.png",colors:["#62306D","#F7EC7D"]},{id:145,name:"Spotlight",image:"/targets/145.png",colors:["#E3516E","#D9D9D9"]},{id:146,name:"Streaks",image:"/targets/146.png",colors:["#998235","#FCBE5C","#0B2429"]},{id:147,name:"Splash",image:"/targets/147.png",colors:["#6592CF","#060F55"]},{id:148,name:"Eight",image:"/targets/148.png",colors:["#926927","#6D480A"],isOpen:!0},{id:149,name:"Earthworm",image:"/targets/149.png",colors:["#E38F66","#FFFBDA"]},{id:150,name:"Finger Heart",image:"/targets/150.png",colors:["#4F77FF","#1038BF"]},{id:151,name:"Pawn",image:"/targets/151.png",colors:["#F5D6B4","#D86F45"]},{id:152,name:"Rook",image:"/targets/152.png",colors:["#62306D","#F7EC7D"]},{id:153,name:"Checkers",image:"/targets/153.png",colors:["#E3516E","#FADE8B"]},{id:154,name:"Poker Chip",image:"/targets/154.png",colors:["#998235","#FCBE5C","#0B2429"]},{id:155,name:"Snakes & Ladders",image:"/targets/155.png",colors:["#6592CF","#060F55"]},{id:156,name:"Chinese Checkers",image:"/targets/156.png",colors:["#926927","#F8B140"]},{id:157,name:"Monopoly",image:"/targets/157.png",colors:["#E38F66","#FFFBDA"]},{id:158,name:"Clubs",image:"/targets/158.png",colors:["#4F77FF","#1038BF"]},{id:159,name:"Portal",image:"/targets/159.png",colors:["#F5D6B4","#D86F45"]},{id:160,name:"Donut",image:"/targets/160.png",colors:["#62306D","#F7EC7D","#E38F66"]}]},7896:function(t,e,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}n.d(e,{Z:function(){return r}})},5500:function(t,e,n){"use strict";n.d(e,{C6:function(){return T},Jn:function(){return w},KN:function(){return S},Mq:function(){return E},Xd:function(){return g},ZF:function(){return C},qX:function(){return v}});var r=n(6387),i=n(8207),s=n(3395),o=n(2065);class a{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const c="@firebase/app",u="0.9.14",l=new i.Yd("@firebase/app"),h="[DEFAULT]",d={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,p=new Map;function m(t,e){try{t.container.addComponent(e)}catch(n){l.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function g(t){const e=t.name;if(p.has(e))return l.debug(`There were multiple attempts to register component ${e}.`),!1;p.set(e,t);for(const n of f.values())m(n,t);return!0}function v(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const y={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_=new s.LL("app","Firebase",y);class b{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}const w="10.0.0";function C(t,e={}){let n=t;if("object"!==typeof e){e={name:e}}const i=Object.assign({name:h,automaticDataCollectionEnabled:!1},e),o=i.name;if("string"!==typeof o||!o)throw _.create("bad-app-name",{appName:String(o)});if(n||(n=(0,s.aH)()),!n)throw _.create("no-options");const a=f.get(o);if(a){if((0,s.vZ)(n,a.options)&&(0,s.vZ)(i,a.config))return a;throw _.create("duplicate-app",{appName:o})}const c=new r.H0(o);for(const r of p.values())c.addComponent(r);const u=new b(n,i,c);return f.set(o,u),u}function E(t="[DEFAULT]"){const e=f.get(t);if(!e&&t===h&&(0,s.aH)())return C();if(!e)throw _.create("no-app",{appName:t});return e}function T(){return Array.from(f.values())}function S(t,e,n){var i;let s=null!==(i=d[t])&&void 0!==i?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void l.warn(t.join(" "))}g(new r.wA(`${s}-version`,(()=>({library:s,version:e})),"VERSION"))}const I="firebase-heartbeat-store";let x=null;function k(){return x||(x=(0,o.openDB)("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(I)}}).catch((t=>{throw _.create("idb-open",{originalErrorMessage:t.message})}))),x}async function A(t,e){try{const n=(await k()).transaction(I,"readwrite"),r=n.objectStore(I);await r.put(e,R(t)),await n.done}catch(n){if(n instanceof s.ZR)l.warn(n.message);else{const t=_.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});l.warn(t.message)}}}function R(t){return`${t.name}!${t.options.appId}`}class D{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new L(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=O();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=O(),{heartbeatsToSend:e,unsentEntries:n}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),N(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,s.L)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function O(){return(new Date).toISOString().substring(0,10)}class L{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.hl)()&&(0,s.eu)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(t){try{const e=await k();return await e.transaction(I).objectStore(I).get(R(t))}catch(e){if(e instanceof s.ZR)l.warn(e.message);else{const t=_.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});l.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return A(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return A(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function N(t){return(0,s.L)(JSON.stringify({version:2,heartbeats:t})).length}var P;P="",g(new r.wA("platform-logger",(t=>new a(t)),"PRIVATE")),g(new r.wA("heartbeat",(t=>new D(t)),"PRIVATE")),S(c,u,P),S(c,u,"esm2017"),S("fire-js","")},2065:function(t,e,n){"use strict";n.r(e),n.d(e,{deleteDB:function(){return g},openDB:function(){return m},unwrap:function(){return p},wrap:function(){return f}});let r,i;const s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap;let l={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return o.get(t);if("objectStoreNames"===e)return t.objectStoreNames||a.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function h(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),f(s.get(this))}:function(...e){return f(t.apply(p(this),e))}:function(e,...n){const r=t.call(p(this),e,...n);return a.set(r,e.sort?e.sort():[e]),f(r)}}function d(t){return"function"===typeof t?h(t):(t instanceof IDBTransaction&&function(t){if(o.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));o.set(t,e)}(t),e=t,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,l):t);var e}function f(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(f(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&s.set(e,t)})).catch((()=>{})),u.set(e,t),e}(t);if(c.has(t))return c.get(t);const e=d(t);return e!==t&&(c.set(t,e),u.set(e,t)),e}const p=t=>u.get(t);function m(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=f(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(f(o.result),t.oldVersion,t.newVersion,f(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}function g(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",(t=>e(t.oldVersion,t))),f(n).then((()=>{}))}const v=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],_=new Map;function b(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(_.get(e))return _.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),i&&s.done]))[0]};return _.set(e,s),s}l=(t=>({...t,get:(e,n,r)=>b(e,n)||t.get(e,n,r),has:(e,n)=>!!b(e,n)||t.has(e,n)}))(l)},6387:function(t,e,n){"use strict";n.d(e,{H0:function(){return a},wA:function(){return i}});var r=n(3395);class i{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const s="[DEFAULT]";class o{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new r.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===s?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:s:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},8207:function(t,e,n){"use strict";n.d(e,{Yd:function(){return u},in:function(){return i}});const r=[];var i;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class u{constructor(t){this.name=t,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},630:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},8788:function(t,e,n){"use strict";function r(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,s){var o=t.apply(e,n);function a(t){r(o,i,s,a,c,"next",t)}function c(t){r(o,i,s,a,c,"throw",t)}a(void 0)}))}}n.d(e,{Z:function(){return i}})},7842:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},2838:function(t,e,n){"use strict";function r(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}n.d(e,{Z:function(){return r}})},3579:function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n.d(e,{Z:function(){return r}})},865:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(7842);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){(0,r.Z)(t,e,n[e])}))}return t}},6670:function(t,e,n){"use strict";function r(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}n.d(e,{Z:function(){return r}})},6297:function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}n.d(e,{Z:function(){return r}})},6383:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(3579);var i=n(5459);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||(0,r.Z)(t,e)||(0,i.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},930:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(630);var i=n(3579);var s=n(5459);function o(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||(0,i.Z)(t)||(0,s.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5459:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(630);function i(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}},2788:function(t,e,n){"use strict";var r={};!function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL);function o(){}function a(t){var r=n.exports.Promise,i=void 0!==r?r:e.Promise;return"function"===typeof i?new i(t):(t(o,o),null)}var c,u=function(){var t,e,n=Math.floor(1e3/60),r={},i=0;return"function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?(t=function(t){var e=Math.random();return r[e]=requestAnimationFrame((function s(o){i===o||i+n-1<o?(i=o,delete r[e],t()):r[e]=requestAnimationFrame(s)})),e},e=function(t){r[t]&&cancelAnimationFrame(r[t])}):(t=function(t){return setTimeout(t,n)},e=function(t){return clearTimeout(t)}),{frame:t,cancel:e}}(),l=function(){var e,n,i={};return function(){if(e)return e;if(!r&&s){var o=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{e=new Worker(URL.createObjectURL(new Blob([o])))}catch(c){return void 0!==typeof console&&"function"===typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",c),null}!function(t){function e(e,n){t.postMessage({options:e||{},callback:n})}t.init=function(e){var n=e.transferControlToOffscreen();t.postMessage({canvas:n},[n])},t.fire=function(r,s,o){if(n)return e(r,null),n;var c=Math.random().toString(36).slice(2);return n=a((function(s){function a(e){e.data.callback===c&&(delete i[c],t.removeEventListener("message",a),n=null,o(),s())}t.addEventListener("message",a),e(r,c),i[c]=a.bind(null,{data:{callback:c}})}))},t.reset=function(){for(var e in t.postMessage({reset:!0}),i)i[e](),delete i[e]}}(e)}return e}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function d(t,e,n){return function(t,e){return e?e(t):t}(t&&(null!==(r=t[e])&&void 0!==r)?t[e]:h[e],n);var r}function f(t){return t<0?0:Math.floor(t)}function p(t){return parseInt(t,16)}function m(t){return t.map(g)}function g(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:p(e.substring(0,2)),g:p(e.substring(2,4)),b:p(e.substring(4,6))}}function v(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function y(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function _(t){var e=t.angle*(Math.PI/180),n=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*t.startVelocity+Math.random()*t.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*t.gravity,ovalScalar:.6,scalar:t.scalar}}function b(t,e,n,s,o){var c,l,h=e.slice(),d=t.getContext("2d"),f=a((function(e){function a(){c=l=null,d.clearRect(0,0,s.width,s.height),o(),e()}c=u.frame((function e(){!r||s.width===i.width&&s.height===i.height||(s.width=t.width=i.width,s.height=t.height=i.height),s.width||s.height||(n(t),s.width=t.width,s.height=t.height),d.clearRect(0,0,s.width,s.height),h=h.filter((function(t){return function(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.wobble+=e.wobbleSpeed,e.velocity*=e.decay,e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble);var n=e.tick++/e.totalTicks,r=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,s=e.wobbleX+e.random*e.tiltCos,o=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",t.beginPath(),"circle"===e.shape)t.ellipse?t.ellipse(e.x,e.y,Math.abs(s-r)*e.ovalScalar,Math.abs(o-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):function(t,e,n,r,i,s,o,a,c){t.save(),t.translate(e,n),t.rotate(s),t.scale(r,i),t.arc(0,0,1,o,a,c),t.restore()}(t,e.x,e.y,Math.abs(s-r)*e.ovalScalar,Math.abs(o-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if("star"===e.shape)for(var a=Math.PI/2*3,c=4*e.scalar,u=8*e.scalar,l=e.x,h=e.y,d=5,f=Math.PI/d;d--;)l=e.x+Math.cos(a)*u,h=e.y+Math.sin(a)*u,t.lineTo(l,h),a+=f,l=e.x+Math.cos(a)*c,h=e.y+Math.sin(a)*c,t.lineTo(l,h),a+=f;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(i)),t.lineTo(Math.floor(s),Math.floor(o)),t.lineTo(Math.floor(r),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}(d,t)})),h.length?c=u.frame(e):a()})),l=a}));return{addFettis:function(t){return h=h.concat(t),f},canvas:t,promise:f,reset:function(){c&&u.cancel(c),l&&l()}}}function w(t,n){var r,i=!t,o=!!d(n||{},"resize"),c=d(n,"disableForReducedMotion",Boolean),u=s&&!!d(n||{},"useWorker")?l():null,h=i?v:y,p=!(!t||!u)&&!!t.__confetti_initialized,g="function"===typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function w(e,n,i){for(var s,o,a=d(e,"particleCount",f),c=d(e,"angle",Number),u=d(e,"spread",Number),l=d(e,"startVelocity",Number),p=d(e,"decay",Number),g=d(e,"gravity",Number),v=d(e,"drift",Number),y=d(e,"colors",m),w=d(e,"ticks",Number),C=d(e,"shapes"),E=d(e,"scalar"),T=function(t){var e=d(t,"origin",Object);return e.x=d(e,"x",Number),e.y=d(e,"y",Number),e}(e),S=a,I=[],x=t.width*T.x,k=t.height*T.y;S--;)I.push(_({x:x,y:k,angle:c,spread:u,startVelocity:l,color:y[S%y.length],shape:C[(s=0,o=C.length,Math.floor(Math.random()*(o-s))+s)],ticks:w,decay:p,gravity:g,drift:v,scalar:E}));return r?r.addFettis(I):(r=b(t,I,h,n,i)).promise}function C(n){var s=c||d(n,"disableForReducedMotion",Boolean),l=d(n,"zIndex",Number);if(s&&g)return a((function(t){t()}));i&&r?t=r.canvas:i&&!t&&(t=function(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}(l),document.body.appendChild(t)),o&&!p&&h(t);var f={width:t.width,height:t.height};function m(){if(u){var e={getBoundingClientRect:function(){if(!i)return t.getBoundingClientRect()}};return h(e),void u.postMessage({resize:{width:e.width,height:e.height}})}f.width=f.height=null}function v(){r=null,o&&e.removeEventListener("resize",m),i&&t&&(document.body.removeChild(t),t=null,p=!1)}return u&&!p&&u.init(t),p=!0,u&&(t.__confetti_initialized=!0),o&&e.addEventListener("resize",m,!1),u?u.fire(n,f,v):w(n,f,v)}return C.reset=function(){u&&u.reset(),r&&r.reset()},C}function C(){return c||(c=w(null,{useWorker:!0,resize:!0})),c}n.exports=function(){return C().apply(this,arguments)},n.exports.reset=function(){C().reset()},n.exports.create=w}(function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:this||{}}(),r,!1),e.Z=r.exports;r.exports.create},3947:function(t,e,n){"use strict";n.d(e,{GH:function(){return Ut},hJ:function(){return jt},c4:function(){return Bt},v0:function(){return _n},JB:function(){return Jt},Aj:function(){return ne},oo:function(){return Xt},P6:function(){return Yt},rh:function(){return Pe},w7:function(){return re},s:function(){return te},ck:function(){return Qt}});var r=n(3395),i=n(5500),s=n(2970),o=n(8207),a=n(6387);function c(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u=c,l=new r.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),h=new o.Yd("@firebase/auth");function d(t,...e){h.logLevel<=o.in.ERROR&&h.error(`Auth (${i.Jn}): ${t}`,...e)}function f(t,...e){throw v(t,...e)}function p(t,...e){return v(t,...e)}function m(t,e,n){const i=Object.assign(Object.assign({},u()),{[e]:n});return new r.LL("auth","Firebase",i).create(e,{appName:t.name})}function g(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&f(t,"argument-error"),m(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(t,...e){if("string"!==typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l.create(t,...e)}function y(t,e,...n){if(!t)throw v(e,...n)}function _(t){const e="INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function b(t,e){t||_(e)}function w(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function C(){return"http:"===E()||"https:"===E()}function E(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class T{constructor(t,e){this.shortDelay=t,this.longDelay=e,b(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,r.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function S(t,e){b(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class I{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void _("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void _("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void _("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},k=new T(3e4,6e4);function A(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function R(t,e,n,i,s={}){return D(t,s,(async()=>{let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),I.fetch()(L(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))}async function D(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},x),e);try{const e=new N(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw P(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw P(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw P(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw P(t,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw m(t,a,o);f(t,a)}}catch(s){if(s instanceof r.ZR)throw s;f(t,"network-request-failed",{message:String(s)})}}async function O(t,e,n,r,i={}){const s=await R(t,e,n,r,i);return"mfaPendingCredential"in s&&f(t,"multi-factor-auth-required",{_serverResponse:s}),s}function L(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?S(t.config,i):`${t.config.apiScheme}://${i}`}class N{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(p(this.auth,"network-request-failed"))),k.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function P(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(t,e,r);return i.customData._tokenResponse=n,i}function M(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function F(t){return 1e3*Number(t)}function j(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return d("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,r.tV)(n);return t?JSON.parse(t):(d("Failed to decode base64 JWT payload"),null)}catch(s){return d("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}async function U(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof r.ZR&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}class B{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===t||void 0===t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}class V{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=M(this.lastLoginAt),this.creationTime=M(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function H(t){var e;const n=t.auth,r=await t.getIdToken(),i=await U(t,async function(t,e){return R(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:r}));y(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=(null===(e=o.providerUserInfo)||void 0===e?void 0:e.length)?o.providerUserInfo.map((t=>{var{providerId:e}=t,n=(0,s.__rest)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const c=(u=t.providerData,l=a,[...u.filter((t=>!l.some((e=>e.providerId===t.providerId)))),...l]);var u,l;const h=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),f=!!h&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new V(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)}class z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){y(t.idToken,"internal-error"),y("undefined"!==typeof t.idToken,"internal-error"),y("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):function(t){const e=j(t);return y(e,"internal-error"),y("undefined"!==typeof e.exp,"internal-error"),y("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return y(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:s}=await async function(t,e){const n=await D(t,{},(async()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=L(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",I.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new z;return n&&(y("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(y("string"===typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(y("number"===typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new z,this.toJSON())}_performRefresh(){return _("not implemented")}}function q(t,e){y("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class ${constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=(0,s.__rest)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new V(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await U(this,this.stsTokenManager.getToken(this.auth,t));return y(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=(0,r.m9)(t),i=await n.getIdToken(e),s=j(i);y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"===typeof s.firebase?s.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:M(F(s.auth_time)),issuedAtTime:M(F(s.iat)),expirationTime:M(F(s.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=(0,r.m9)(t);await H(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(y(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new $(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await H(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await U(this,async function(t,e){return R(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,c,u;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=e.createdAt)&&void 0!==c?c:void 0,v=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:E}=e;y(_&&E,t,"internal-error");const T=z.fromJSON(this.name,E);y("string"===typeof _,t,"internal-error"),q(l,t.name),q(h,t.name),y("boolean"===typeof b,t,"internal-error"),y("boolean"===typeof w,t,"internal-error"),q(d,t.name),q(f,t.name),q(p,t.name),q(m,t.name),q(g,t.name),q(v,t.name);const S=new $({uid:_,auth:t,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return C&&Array.isArray(C)&&(S.providerData=C.map((t=>Object.assign({},t)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(t,e,n=!1){const r=new z;r.updateFromServerResponse(e);const i=new $({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await H(i),i}}const G=new Map;function W(t){b(t instanceof Function,"Expected a class definition");let e=G.get(t);return e?(b(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G.set(t,e),e)}class Z{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Z.type="NONE";const K=Z;function X(t,e,n){return`firebase:${t}:${e}:${n}`}class J{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=X(this.userKey,r.apiKey,i),this.fullPersistenceKey=X("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?$._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new J(W(K),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||W(K);const s=X(n,t.config.apiKey,t.name);let o=null;for(const u of e)try{const e=await u._get(s);if(e){const n=$._fromJSON(t,e);u!==i&&(o=n),i=u;break}}catch(c){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(s)}catch(c){}}))),new J(i,t,n)):new J(i,t,n)}}function Y(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nt(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(it(e))return"Blackberry";if(st(e))return"Webos";if(tt(e))return"Safari";if((e.includes("chrome/")||et(e))&&!e.includes("edge/"))return"Chrome";if(rt(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Q(t=(0,r.z$)()){return/firefox\//i.test(t)}function tt(t=(0,r.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function et(t=(0,r.z$)()){return/crios\//i.test(t)}function nt(t=(0,r.z$)()){return/iemobile/i.test(t)}function rt(t=(0,r.z$)()){return/android/i.test(t)}function it(t=(0,r.z$)()){return/blackberry/i.test(t)}function st(t=(0,r.z$)()){return/webos/i.test(t)}function ot(t=(0,r.z$)()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function at(t=(0,r.z$)()){return ot(t)||rt(t)||st(t)||it(t)||/windows phone/i.test(t)||nt(t)}function ct(t,e=[]){let n;switch(t){case"Browser":n=Y((0,r.z$)());break;case"Worker":n=`${Y((0,r.z$)())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${s}`}async function ut(t,e){return R(t,"GET","/v2/recaptchaConfig",A(t,e))}function lt(t){return void 0!==t&&void 0!==t.enterprise}class ht{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState))}}function dt(t){return new Promise(((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=p("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}))}function ft(t){return`__${t}${Math.floor(1e6*Math.random())}`}class pt{constructor(t){this.type="recaptcha-enterprise",this.auth=yt(t)}async verify(t="verify",e=!1){function n(e,n,r){const i=window.grecaptcha;lt(i)?i.enterprise.ready((()=>{i.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((t,r)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{ut(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ht(r);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((i=>{if(!e&&lt(window.grecaptcha))n(i,t,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));dt("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,t,r)})).catch((t=>{r(t)}))}})).catch((t=>{r(t)}))}))}}async function mt(t,e,n,r=!1){const i=new pt(t);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class gt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{n(t(e))}catch(i){r(i)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const t of e)try{t()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class vt{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _t(this),this.idTokenSubscription=new _t(this),this.beforeStateQueue=new gt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=W(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await J.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(t,!0)):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await H(t)}catch(e){if("auth/network-request-failed"!==(null===e||void 0===e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?(0,r.m9)(t):null;return e&&y(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&y(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(W(t))}))}async initializeRecaptchaConfig(){const t=await ut(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),e=new ht(t);if(null==this.tenantId?this._agentRecaptchaConfig=e:this._tenantRecaptchaConfigs[this.tenantId]=e,e.emailPasswordEnabled){new pt(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new r.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&W(t)||this._popupRedirectResolver;y(e,this,"argument-error"),this.redirectPersistenceManager=await J.create(this,[W(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return y(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ct(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&function(t,...e){h.logLevel<=o.in.WARN&&h.warn(`Auth (${i.Jn}): ${t}`,...e)}(`Error while retrieving App Check token: ${e.error}`),null===e||void 0===e?void 0:e.token}}function yt(t){return(0,r.m9)(t)}class _t{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,r.ne)((t=>this.observer=t))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bt(t,e,n){const r=yt(t);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=wt(e),{host:o,port:a}=function(t){const e=wt(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Ct(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Ct(e)}}}(e),c=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function wt(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ct(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Et{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return _("not implemented")}_getIdTokenResponse(t){return _("not implemented")}_linkToIdToken(t,e){return _("not implemented")}_getReauthenticationResolver(t){return _("not implemented")}}async function Tt(t,e){return R(t,"POST","/v1/accounts:update",e)}async function St(t,e){return O(t,"POST","/v1/accounts:signInWithPassword",A(t,e))}async function It(t,e){return R(t,"POST","/v1/accounts:sendOobCode",A(t,e))}async function xt(t,e){return It(t,e)}class kt extends Et{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new kt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new kt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){var e;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(e=t._getRecaptchaConfig())||void 0===e?void 0:e.emailPasswordEnabled){const e=await mt(t,n,"signInWithPassword");return St(t,e)}return St(t,n).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await mt(t,n,"signInWithPassword");return St(t,e)}return Promise.reject(e)}));case"emailLink":return async function(t,e){return O(t,"POST","/v1/accounts:signInWithEmailLink",A(t,e))}(t,{email:this._email,oobCode:this._password});default:f(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Tt(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return O(t,"POST","/v1/accounts:signInWithEmailLink",A(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:f(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function At(t,e){return O(t,"POST","/v1/accounts:signInWithIdp",A(t,e))}class Rt extends Et{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Rt(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):f("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=(0,s.__rest)(e,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Rt(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){return At(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,At(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,At(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,r.xO)(e)}return t}}const Dt={USER_NOT_FOUND:"user-not-found"};class Ot extends Et{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Ot({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Ot({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return O(t,"POST","/v1/accounts:signInWithPhoneNumber",A(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await O(t,"POST","/v1/accounts:signInWithPhoneNumber",A(t,e));if(n.temporaryProof)throw P(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return O(t,"POST","/v1/accounts:signInWithPhoneNumber",A(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Dt)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new Ot({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Lt{constructor(t){var e,n,i,s,o,a;const c=(0,r.zd)((0,r.pd)(t)),u=null!==(e=c.apiKey)&&void 0!==e?e:null,l=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);y(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,r.zd)((0,r.pd)(t)).link,n=e?(0,r.zd)((0,r.pd)(e)).deep_link_id:null,i=(0,r.zd)((0,r.pd)(t)).deep_link_id;return(i?(0,r.zd)((0,r.pd)(i)).link:null)||i||n||e||t}(t);try{return new Lt(e)}catch(n){return null}}}class Nt{constructor(){this.providerId=Nt.PROVIDER_ID}static credential(t,e){return kt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Lt.parseLink(e);return y(n,"argument-error"),kt._fromEmailAndCode(t,n.code,n.tenantId)}}Nt.PROVIDER_ID="password",Nt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Nt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pt{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Mt extends Pt{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ft extends Mt{constructor(){super("facebook.com")}static credential(t){return Rt._fromParams({providerId:Ft.PROVIDER_ID,signInMethod:Ft.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ft.credentialFromTaggedObject(t)}static credentialFromError(t){return Ft.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ft.credential(t.oauthAccessToken)}catch(e){return null}}}Ft.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ft.PROVIDER_ID="facebook.com";class jt extends Mt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Rt._fromParams({providerId:jt.PROVIDER_ID,signInMethod:jt.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return jt.credentialFromTaggedObject(t)}static credentialFromError(t){return jt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return jt.credential(e,n)}catch(r){return null}}}jt.GOOGLE_SIGN_IN_METHOD="google.com",jt.PROVIDER_ID="google.com";class Ut extends Mt{constructor(){super("github.com")}static credential(t){return Rt._fromParams({providerId:Ut.PROVIDER_ID,signInMethod:Ut.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ut.credentialFromTaggedObject(t)}static credentialFromError(t){return Ut.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ut.credential(t.oauthAccessToken)}catch(e){return null}}}Ut.GITHUB_SIGN_IN_METHOD="github.com",Ut.PROVIDER_ID="github.com";class Bt extends Mt{constructor(){super("twitter.com")}static credential(t,e){return Rt._fromParams({providerId:Bt.PROVIDER_ID,signInMethod:Bt.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Bt.credentialFromTaggedObject(t)}static credentialFromError(t){return Bt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Bt.credential(e,n)}catch(r){return null}}}Bt.TWITTER_SIGN_IN_METHOD="twitter.com",Bt.PROVIDER_ID="twitter.com";class Vt{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await $._fromIdTokenResponse(t,n,r),s=Ht(n);return new Vt({user:i,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=Ht(n);return new Vt({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function Ht(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class zt extends r.ZR{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,zt.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new zt(t,e,n,r)}}function qt(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw zt._fromErrorAndOperation(t,n,e,r);throw n}))}async function $t(t,e,n=!1){const r=await U(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vt._forOperation(t,"link",r)}async function Gt(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await U(t,qt(r,i,e,t),n);y(s.idToken,r,"internal-error");const o=j(s.idToken);y(o,r,"internal-error");const{sub:a}=o;return y(t.uid===a,r,"user-mismatch"),Vt._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&f(r,"user-mismatch"),s}}async function Wt(t,e,n=!1){const r="signIn",i=await qt(t,r,e),s=await Vt._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Zt(t,e){return Wt(yt(t),e)}function Kt(t,e,n){var r;y((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),y("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function Xt(t,e,n){var r;const i=yt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(t,e){y(e.handleCodeInApp,i,"argument-error"),e&&Kt(i,t,e)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const t=await mt(i,s,"getOobCode",!0);o(t,n),await xt(i,t)}else o(s,n),await xt(i,s).catch((async t=>{if("auth/missing-recaptcha-token"!==t.code)return Promise.reject(t);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await mt(i,s,"getOobCode",!0);o(t,n),await xt(i,t)}}))}function Jt(t,e){const n=Lt.parseLink(e);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function Yt(t,e,n){const i=(0,r.m9)(t),s=Nt.credentialWithLink(e,n||w());return y(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Zt(i,s)}async function Qt(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const i=(0,r.m9)(t),s={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await U(i,async function(t,e){return R(t,"POST","/v1/accounts:update",e)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((({providerId:t})=>"password"===t));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function te(t,e){return ee((0,r.m9)(t),e,null)}async function ee(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const s=await U(t,Tt(r,i));await t._updateTokensIfNecessary(s,!0)}function ne(t,e,n,i){return(0,r.m9)(t).onAuthStateChanged(e,n,i)}function re(t){return(0,r.m9)(t).signOut()}new WeakMap;const ie="__sak";class se{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ie,"1"),this.storage.removeItem(ie),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class oe extends se{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=(0,r.z$)();return tt(t)||ot(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},s=this.storage.getItem(n);(0,r.w1)()&&10===document.documentMode&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}oe.type="LOCAL";const ae=oe;class ce extends se{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}ce.type="SESSION";const ue=ce;class le{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new le(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async t=>t(e.origin,i))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function he(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}le.receivers=[];class de{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=he("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function fe(){return window}function pe(){return"undefined"!==typeof fe().WorkerGlobalScope&&"function"===typeof fe().importScripts}const me="firebaseLocalStorageDb",ge="firebaseLocalStorage",ve="fbase_key";class ye{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function _e(t,e){return t.transaction([ge],e?"readwrite":"readonly").objectStore(ge)}function be(){const t=indexedDB.open(me,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(ge,{keyPath:ve})}catch(r){n(r)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(ge)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(me);return new ye(t).toPromise()}(),e(await be()))}))}))}async function we(t,e,n){const r=_e(t,!0).put({[ve]:e,value:n});return new ye(r).toPromise()}function Ce(t,e){const n=_e(t,!0).delete(e);return new ye(n).toPromise()}class Ee{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await be()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=le._getInstance(pe()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new de(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await be();return await we(t,ie,"1"),await Ce(t,ie),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>we(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=_e(t,!1).get(e),r=await new ye(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Ce(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=_e(t,!1).getAll();return new ye(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ee.type="LOCAL";const Te=Ee;ft("rcb"),new T(3e4,6e4);const Se="recaptcha";async function Ie(t,e,n){var r;const i=await n.verify();try{let s;if(y("string"===typeof i,t,"argument-error"),y(n.type===Se,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){y("enroll"===e.type,t,"internal-error");const n=await function(t,e){return R(t,"POST","/v2/accounts/mfaEnrollment:start",A(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{y("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;y(n,t,"missing-multi-factor-info");const o=await function(t,e){return R(t,"POST","/v2/accounts/mfaSignIn:start",A(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return R(t,"POST","/v1/accounts:sendVerificationCode",A(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}class xe{constructor(t){this.providerId=xe.PROVIDER_ID,this.auth=yt(t)}verifyPhoneNumber(t,e){return Ie(this.auth,t,(0,r.m9)(e))}static credential(t,e){return Ot._fromVerification(t,e)}static credentialFromResult(t){const e=t;return xe.credentialFromTaggedObject(e)}static credentialFromError(t){return xe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?Ot._fromTokenResponse(e,n):null}}function ke(t,e){return e?W(e):(y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}xe.PROVIDER_ID="phone",xe.PHONE_SIGN_IN_METHOD="phone";class Ae extends Et{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return At(t,this._buildIdpRequest())}_linkToIdToken(t,e){return At(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return At(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Re(t){return Wt(t.auth,new Ae(t),t.bypassAuthState)}function De(t){const{auth:e,user:n}=t;return y(n,e,"internal-error"),Gt(n,new Ae(t),t.bypassAuthState)}async function Oe(t){const{auth:e,user:n}=t;return y(n,e,"internal-error"),$t(n,new Ae(t),t.bypassAuthState)}class Le{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Re;case"linkViaPopup":case"linkViaRedirect":return Oe;case"reauthViaPopup":case"reauthViaRedirect":return De;default:f(this.auth,"internal-error")}}resolve(t){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ne=new T(2e3,1e4);async function Pe(t,e,n){const r=yt(t);g(t,e,Pt);const i=ke(r,n);return new Me(r,"signInViaPopup",e,i).executeNotNull()}class Me extends Le{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Me.currentPopupAction&&Me.currentPopupAction.cancel(),Me.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return y(t,this.auth,"internal-error"),t}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const t=he();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Me.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,Ne.get())};t()}}Me.currentPopupAction=null;const Fe=new Map;class je extends Le{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Fe.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=Ve(e),r=Be(t);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}Fe.set(this.auth._key(),t)}return this.bypassAuthState||Fe.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ue(t,e){Fe.set(t._key(),e)}function Be(t){return W(t._redirectPersistence)}function Ve(t){return X("pendingRedirect",t.config.apiKey,t.name)}async function He(t,e,n=!1){const r=yt(t),i=ke(r,e),s=new je(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}class ze{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $e(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!$e(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(p(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qe(t))}saveEventToCache(t){this.cachedEventUids.add(qe(t)),this.lastProcessedEventTime=Date.now()}}function qe(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function $e({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null===e||void 0===e?void 0:e.code)}const Ge=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,We=/^https?/;async function Ze(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return R(t,"GET","/v1/projects",e)}(t);for(const r of e)try{if(Ke(r))return}catch(n){}f(t,"unauthorized-domain")}function Ke(t){const e=w(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!We.test(n))return!1;if(Ge.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Xe=new T(3e4,6e4);function Je(){const t=fe().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Ye=null;function Qe(t){return Ye=Ye||function(t){return new Promise(((e,n)=>{var r,i,s;function o(){Je(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Je(),n(p(t,"network-request-failed"))},timeout:Xe.get()})}if(null===(i=null===(r=fe().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=fe().gapi)||void 0===s?void 0:s.load)){const e=ft("iframefcb");return fe()[e]=()=>{gapi.load?o():n(p(t,"network-request-failed"))},dt(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>n(t)))}o()}})).catch((t=>{throw Ye=null,t}))}(t),Ye}const tn=new T(5e3,15e3),en={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rn(t){const e=t.config;y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?S(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,s={apiKey:e.apiKey,appName:t.name,v:i.Jn},o=nn.get(t.config.apiHost);o&&(s.eid=o);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${(0,r.xO)(s).slice(1)}`}const sn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class on{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function an(t,e,n,i=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},sn),{width:i.toString(),height:s.toString(),top:o,left:a}),l=(0,r.z$)().toLowerCase();n&&(c=et(l)?"_blank":n),Q(l)&&(e=e||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(function(t=(0,r.z$)()){var e;return ot(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==c)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",c),new on(null);const d=window.open(e||"",c,h);y(d,t,"popup-blocked");try{d.focus()}catch(f){}return new on(d)}const cn="__/auth/handler",un="emulator/auth/handler",ln=encodeURIComponent("fac");async function hn(t,e,n,s,o,a){y(t.config.authDomain,t,"auth-domain-config-required"),y(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:i.Jn,eventId:o};if(e instanceof Pt){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",(0,r.xb)(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))c[t]=e}if(e instanceof Mt){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(c.scopes=t.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const r of Object.keys(u))void 0===u[r]&&delete u[r];const l=await t._getAppCheckToken(),h=l?`#${ln}=${encodeURIComponent(l)}`:"";return`${function({config:t}){if(!t.emulator)return`https://${t.authDomain}/${cn}`;return S(t,un)}(t)}?${(0,r.xO)(u).slice(1)}${h}`}const dn="webStorageSupport";const fn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ue,this._completeRedirectFn=He,this._overrideRedirectResult=Ue}async _openPopup(t,e,n,r){var i;b(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return an(t,await hn(t,e,n,w(),r),he())}async _openRedirect(t,e,n,r){await this._originValidation(t);return function(t){fe().location.href=t}(await hn(t,e,n,w(),r)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await async function(t){const e=await Qe(t),n=fe().gapi;return y(n,t,"internal-error"),e.open({where:document.body,url:rn(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:en,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=p(t,"network-request-failed"),s=fe().setTimeout((()=>{r(i)}),tn.get());function o(){fe().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{r(i)}))}))))}(t),n=new ze(t);return e.register("authEvent",(e=>{y(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(dn,{type:dn},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&e(!!i),f(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Ze(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return at()||tt()||ot()}};var pn="@firebase/auth",mn="1.0.0";class gn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vn=(0,r.Pz)("authIdTokenMaxAge")||300;let yn=null;function _n(t=(0,i.Mq)()){const e=(0,i.qX)(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=(0,i.qX)(t,"auth");if(n.isInitialized()){const t=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!==e&&void 0!==e?e:{}))return t;f(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:fn,persistence:[Te,ae,ue]}),s=(0,r.Pz)("authTokenSyncURL");if(s){const t=(o=s,async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>vn)return;const r=null===e||void 0===e?void 0:e.token;yn!==r&&(yn=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(t,e,n){(0,r.m9)(t).beforeAuthStateChanged(e,n)}(n,t,(()=>t(n.currentUser))),function(t,e,n,i){(0,r.m9)(t).onIdTokenChanged(e,n,i)}(n,(e=>t(e)))}var o;const a=(0,r.q4)("auth");return a&&bt(n,`http://${a}`),n}var bn;bn="Browser",(0,i.Xd)(new a.wA("auth",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;y(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:s,authDomain:o,clientPlatform:bn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ct(bn)},c=new vt(n,r,i,a);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(W);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}(c,e),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),(0,i.Xd)(new a.wA("auth-internal",(t=>(t=>new gn(t))(yt(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)(pn,mn,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(bn)),(0,i.KN)(pn,mn,"esm2017")},8747:function(t,e,n){"use strict";n.d(e,{ET:function(){return zh},hJ:function(){return Ol},oe:function(){return Hh},JU:function(){return Ll},QT:function(){return Fh},PL:function(){return Uh},ad:function(){return Fl},b9:function(){return Sh},cf:function(){return qh},Xo:function(){return Eh},IO:function(){return yh},Bt:function(){return Wh},pl:function(){return Bh},r7:function(){return Vh},ar:function(){return bh}});var r,i=n(5500),s=n(6387),o=n(8207),a=n(3395),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={},l=l||{},h=c||self;function d(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function b(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function w(){this.s=this.s,this.o=this.o}w.prototype.s=!1,w.prototype.sa=function(){var t;!this.s&&(this.s=!0,this.N(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,p)&&t[p]||(t[p]=++m))},w.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function E(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(d(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function S(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",(()=>{}),e),h.removeEventListener("test",(()=>{}),e)}catch(n){}return t}();function x(t){return/^[\s\xa0]*$/.test(t)}function k(){var t=h.navigator;return t&&(t=t.userAgent)?t:""}function A(t){return-1!=k().indexOf(t)}function R(t){return R[" "](t),t}R[" "]=function(){};var D,O,L=A("Opera"),N=A("Trident")||A("MSIE"),P=A("Edge"),M=P||N,F=A("Gecko")&&!(-1!=k().toLowerCase().indexOf("webkit")&&!A("Edge"))&&!(A("Trident")||A("MSIE"))&&!A("Edge"),j=-1!=k().toLowerCase().indexOf("webkit")&&!A("Edge");function U(){var t=h.document;return t?t.documentMode:void 0}t:{var B="",V=function(){var t=k();return F?/rv:([^\);]+)(\)|;)/.exec(t):P?/Edge\/([\d\.]+)/.exec(t):N?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):j?/WebKit\/(\S+)/.exec(t):L?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(V&&(B=V?V[1]:""),N){var H=U();if(null!=H&&H>parseFloat(B)){D=String(H);break t}}D=B}if(h.document&&N){var z=U();O=z||(parseInt(D,10)||void 0)}else O=void 0;var q=O;function $(t,e){if(S.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(F){t:{try{R(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:G[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$.$.h.call(this)}}b($,S);var G={2:"touch",3:"pen",4:"mouse"};$.prototype.h=function(){$.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),Z=0;function K(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Z,this.fa=this.ia=!1}function X(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function J(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Y(t){const e={};for(const n in t)e[n]=t[n];return e}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<Q.length;e++)n=Q[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function et(t){this.src=t,this.g={},this.h=0}function nt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=C(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(X(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function rt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}et.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=rt(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new K(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var it="closure_lm_"+(1e6*Math.random()|0),st={};function ot(t,e,n,r,i){if(r&&r.once)return ct(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ot(t,e[s],n,r,i);return null}return n=mt(n),t&&t[W]?t.O(e,n,f(r)?!!r.capture:!!r,i):at(t,e,n,!1,r,i)}function at(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i,a=ft(t);if(a||(t[it]=a=new et(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=dt;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)I||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ht(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ct(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ct(t,e[s],n,r,i);return null}return n=mt(n),t&&t[W]?t.P(e,n,f(r)?!!r.capture:!!r,i):at(t,e,n,!0,r,i)}function ut(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ut(t,e[s],n,r,i);else r=f(r)?!!r.capture:!!r,n=mt(n),t&&t[W]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=rt(s=t.g[e],n,r,i))&&(X(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=ft(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rt(e,n,r,i)),(n=-1<t?e[t]:null)&&lt(n))}function lt(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[W])nt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ht(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ft(e))?(nt(n,t),0==n.h&&(n.src=null,e[it]=null)):X(t)}}}function ht(t){return t in st?st[t]:st[t]="on"+t}function dt(t,e){if(t.fa)t=!0;else{e=new $(e,this);var n=t.listener,r=t.la||t.src;t.ia&&lt(t),t=n.call(r,e)}return t}function ft(t){return(t=t[it])instanceof et?t:null}var pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function mt(t){return"function"===typeof t?t:(t[pt]||(t[pt]=function(e){return t.handleEvent(e)}),t[pt])}function gt(){w.call(this),this.i=new et(this),this.S=this,this.J=null}function vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"===typeof e)e=new S(e,t);else if(e instanceof S)e.target=e.target||t;else{var i=e;tt(e=new S(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=yt(o,r,!0,e)&&i}if(i=yt(o=e.g=t,r,!0,e)&&i,i=yt(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=yt(o=e.g=n[s],r,!1,e)&&i}function yt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&nt(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}b(gt,w),gt.prototype[W]=!0,gt.prototype.removeEventListener=function(t,e,n,r){ut(this,t,e,n,r)},gt.prototype.N=function(){if(gt.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)X(n[r]);delete e.g[t],e.h--}}this.J=null},gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},gt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var _t=h.JSON.stringify;function bt(){var t=xt;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var wt=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Ct),(t=>t.reset()));class Ct{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Et(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Tt(t){h.setTimeout((()=>{throw t}),0)}let St,It=!1,xt=new class{constructor(){this.h=this.g=null}add(t,e){const n=wt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},kt=()=>{const t=h.Promise.resolve(void 0);St=()=>{t.then(At)}};var At=()=>{for(var t;t=bt();){try{t.h.call(t.g)}catch(n){Tt(n)}var e=wt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}It=!1};function Rt(t,e){gt.call(this),this.h=t||1,this.g=e||h,this.j=y(this.qb,this),this.l=Date.now()}function Dt(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Ot(t,e,n){if("function"===typeof t)n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:h.setTimeout(t,e||0)}function Lt(t){t.g=Ot((()=>{t.g=null,t.i&&(t.i=!1,Lt(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}b(Rt,gt),(r=Rt.prototype).ga=!1,r.T=null,r.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vt(this,"tick"),this.ga&&(Dt(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Rt.$.N.call(this),Dt(this),delete this.g};class Nt extends w{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pt(t){w.call(this),this.h=t,this.g={}}b(Pt,w);var Mt=[];function Ft(t,e,n,r){Array.isArray(n)||(n&&(Mt[0]=n.toString()),n=Mt);for(var i=0;i<n.length;i++){var s=ot(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function jt(t){J(t.g,(function(t,e){this.g.hasOwnProperty(e)&&lt(t)}),t),t.g={}}function Ut(){this.g=!0}function Bt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return _t(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Pt.prototype.N=function(){Pt.$.N.call(this),jt(this)},Pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ut.prototype.Ea=function(){this.g=!1},Ut.prototype.info=function(){};var Vt={},Ht=null;function zt(){return Ht=Ht||new gt}function qt(t){S.call(this,Vt.Ta,t)}function $t(t){const e=zt();vt(e,new qt(e))}function Gt(t,e){S.call(this,Vt.STAT_EVENT,t),this.stat=e}function Wt(t){const e=zt();vt(e,new Gt(e,t))}function Zt(t,e){S.call(this,Vt.Ua,t),this.size=e}function Kt(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){t()}),e)}Vt.Ta="serverreachability",b(qt,S),Vt.STAT_EVENT="statevent",b(Gt,S),Vt.Ua="timingevent",b(Zt,S);var Xt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Jt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yt(){}function Qt(t){return t.h||(t.h=t.i())}function te(){}Yt.prototype.h=null;var ee,ne={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function re(){S.call(this,"d")}function ie(){S.call(this,"c")}function se(){}function oe(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Pt(this),this.P=ce,t=M?125:void 0,this.V=new Rt(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ae}function ae(){this.i=null,this.g="",this.h=!1}b(re,S),b(ie,S),b(se,Yt),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},ee=new se;var ce=45e3,ue={},le={};function he(t,e,n){t.L=1,t.v=Re(Se(e)),t.s=n,t.S=!0,de(t,null)}function de(t,e){t.G=Date.now(),ge(t),t.A=Se(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),ze(n.i,"t",r),t.C=0,n=t.l.J,t.h=new ae,t.g=zn(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Nt(y(t.Pa,t,t.g),t.O)),Ft(t.U,t.g,"readystatechange",t.nb),e=t.I?Y(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),$t(),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.W,t.s)}function fe(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.l.Ha)}function pe(t,e,n){let r,i=!0;for(;!t.J&&t.C<n.length;){if(r=me(t,n),r==le){4==e&&(t.o=4,Wt(14),i=!1),Bt(t.j,t.m,null,"[Incomplete Response]");break}if(r==ue){t.o=4,Wt(15),Bt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Bt(t.j,t.m,r,null),we(t,r)}fe(t)&&r!=le&&r!=ue&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Wt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pn(e),e.M=!0,Wt(11))):(Bt(t.j,t.m,n,"[Invalid Chunked Response]"),be(t),_e(t))}function me(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?le:(n=Number(e.substring(n,r)),isNaN(n)?ue:(r+=1)+n>e.length?le:(e=e.slice(r,r+n),t.C=r+n,e))}function ge(t){t.Y=Date.now()+t.P,ve(t,t.P)}function ve(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Kt(y(t.lb,t),e)}function ye(t){t.B&&(h.clearTimeout(t.B),t.B=null)}function _e(t){0==t.l.H||t.J||jn(t.l,t)}function be(t){ye(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Dt(t.V),jt(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function we(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Ke(n.i,t)))if(!t.K&&Ke(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;Fn(n),xn(n)}Nn(n),Wt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Kt(y(n.ib,n),6e3));if(1>=Ze(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else Bn(n,11)}else if((t.K||n.g==t)&&Fn(n),!x(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const e=u[3];null!=e&&(n.ra=e,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const l=u[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.i;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Xe(s,s.h),s.h=null))}if(r.F){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.Da=t,Ae(r.I,r.F,t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=Hn(r,r.J?r.pa:null,r.Y),o.K){Je(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(ye(a),ge(a)),r.g=o}else Ln(r);0<n.j.length&&An(n)}else"stop"!=u[0]&&"close"!=u[0]||Bn(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Bn(n,7):In(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}$t()}catch(u){}}function Ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(d(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(r=oe.prototype).setTimeout=function(t){this.P=t},r.nb=function(t){t=t.target;const e=this.M;e&&3==bn(t)?e.l():this.Pa(t)},r.Pa=function(t){try{if(t==this.g)t:{const l=bn(this.g);var e=this.g.Ia();this.g.da();if(!(3>l)&&(3!=l||M||this.g&&(this.h.h||this.g.ja()||wn(this.g)))){this.J||4!=l||7==e||$t(),ye(this);var n=this.g.da();this.ca=n;e:if(fe(this)){var r=wn(this.g);t="";var i=r.length,s=4==bn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){be(this),_e(this);var o="";break e}this.h.i=new h.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(a)){var u=a;break e}}u=null}if(!(n=u)){this.i=!1,this.o=3,Wt(12),be(this),_e(this);break t}Bt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,we(this,n)}this.S?(pe(this,l,o),M&&this.i&&3==l&&(Ft(this.U,this.V,"tick",this.mb),this.V.start())):(Bt(this.j,this.m,o,null),we(this,o)),4==l&&be(this),this.i&&!this.J&&(4==l?jn(this.l,this):(this.i=!1,ge(this)))}else(function(t){const e={};t=(t.g&&2<=bn(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(x(t[r]))continue;var n=Et(t[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Wt(12)):(this.o=0,Wt(13)),be(this),_e(this)}}}catch(l){}},r.mb=function(){if(this.g){var t=bn(this.g),e=this.g.ja();this.C<e.length&&(ye(this),pe(this,t,e),this.i&&4!=t&&ge(this))}},r.cancel=function(){this.J=!0,be(this)},r.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.L&&($t(),Wt(17)),be(this),this.o=2,_e(this)):ve(this,this.Y-t)};var Ee=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Te(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Te){this.h=t.h,Ie(this,t.j),this.s=t.s,this.g=t.g,xe(this,t.m),this.l=t.l;var e=t.i,n=new Ue;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ke(this,n),this.o=t.o}else t&&(e=String(t).match(Ee))?(this.h=!1,Ie(this,e[1]||"",!0),this.s=De(e[2]||""),this.g=De(e[3]||"",!0),xe(this,e[4]),this.l=De(e[5]||"",!0),ke(this,e[6]||"",!0),this.o=De(e[7]||"")):(this.h=!1,this.i=new Ue(null,this.h))}function Se(t){return new Te(t)}function Ie(t,e,n){t.j=n?De(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ke(t,e,n){e instanceof Ue?(t.i=e,function(t,e){e&&!t.j&&(Be(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ve(this,e),ze(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=Oe(e,Fe)),t.i=new Ue(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function Re(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function De(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Oe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Le),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Le(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Te.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Oe(e,Ne,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Oe(e,Ne,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Oe(n,"/"==n.charAt(0)?Me:Pe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Oe(n,je)),t.join("")};var Ne=/[#\/\?@]/g,Pe=/[#\?:]/g,Me=/[#\?]/g,Fe=/[#\?@]/g,je=/#/g;function Ue(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Be(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ve(t,e){Be(t),e=qe(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function He(t,e){return Be(t),e=qe(t,e),t.g.has(e)}function ze(t,e,n){Ve(t,e),0<n.length&&(t.i=null,t.g.set(qe(t,e),E(n)),t.h+=n.length)}function qe(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(r=Ue.prototype).add=function(t,e){Be(this),this.i=null,t=qe(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},r.forEach=function(t,e){Be(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},r.ta=function(){Be(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},r.Z=function(t){Be(this);let e=[];if("string"===typeof t)He(this,t)&&(e=e.concat(this.g.get(qe(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},r.set=function(t,e){return Be(this),this.i=null,He(this,t=qe(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},r.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function $e(t){this.l=t||Ge,h.PerformanceNavigationTiming?t=0<(t=h.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(h.g&&h.g.Ka&&h.g.Ka()&&h.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ge=10;function We(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ze(t){return t.h?1:t.g?t.g.size:0}function Ke(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Xe(t,e){t.g?t.g.add(e):t.h=e}function Je(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ye(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return E(t.i)}$e.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Qe;function tn(){this.g=new class{stringify(t){return h.JSON.stringify(t,void 0)}parse(t){return h.JSON.parse(t,void 0)}}}function en(t,e,n){const r=n||"";try{Ce(t,(function(t,n){let i=t;f(t)&&(i=_t(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function nn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function rn(t){this.l=t.fc||null,this.j=t.ob||!1}function sn(t,e){gt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=on,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}b(rn,Yt),rn.prototype.g=function(){return new sn(this.l,this.j)},rn.prototype.i=(Qe={},function(){return Qe}),b(sn,gt);var on=0;function an(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function cn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,un(t)}function un(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(r=sn.prototype).open=function(t,e){if(this.readyState!=on)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,un(this)},r.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||h).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cn(this)),this.readyState=on},r.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,un(this)),this.g&&(this.readyState=3,un(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;an(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cn(this):un(this),3==this.readyState&&an(this)}},r.Za=function(t){this.g&&(this.response=this.responseText=t,cn(this))},r.Ya=function(t){this.g&&(this.response=t,cn(this))},r.ka=function(){this.g&&cn(this)},r.setRequestHeader=function(t,e){this.v.append(t,e)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(sn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ln=h.JSON.parse;function hn(t){gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dn,this.L=this.M=!1}b(hn,gt);var dn="",fn=/^https?$/i,pn=["POST","PUT"];function mn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gn(t),yn(t)}function gn(t){t.F||(t.F=!0,vt(t,"complete"),vt(t,"error"))}function vn(t){if(t.h&&"undefined"!=typeof l&&(!t.C[1]||4!=bn(t)||2!=t.da()))if(t.v&&4==bn(t))Ot(t.La,0,t);else if(vt(t,"readystatechange"),4==bn(t)){t.h=!1;try{const a=t.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(Ee)[1]||null;!i&&h.self&&h.self.location&&(i=h.self.location.protocol.slice(0,-1)),r=!fn.test(i?i.toLowerCase():"")}n=r}if(n)vt(t,"complete"),vt(t,"success");else{t.m=6;try{var s=2<bn(t)?t.g.statusText:""}catch(o){s=""}t.j=s+" ["+t.da()+"]",gn(t)}}finally{yn(t)}}}function yn(t,e){if(t.g){_n(t);const r=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||vt(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function _n(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(h.clearTimeout(t.A),t.A=null)}function bn(t){return t.g?t.g.readyState:0}function wn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(kr){return null}}function Cn(t){let e="";return J(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function En(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Cn(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Ae(t,e,n))}function Tn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sn(t){this.Ga=0,this.j=[],this.l=new Ut,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Tn("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Tn("baseRetryDelayMs",5e3,t),this.hb=Tn("retryDelaySeedMs",1e4,t),this.eb=Tn("forwardChannelMaxRetries",2,t),this.xa=Tn("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $e(t&&t.concurrentRequestLimit),this.Ja=new tn,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function In(t){if(kn(t),3==t.H){var e=t.W++,n=Se(t.I);if(Ae(n,"SID",t.K),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),Dn(t,n),(e=new oe(t,t.l,e)).L=2,e.v=Re(Se(n)),n=!1,h.navigator&&h.navigator.sendBeacon)try{n=h.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&h.Image&&((new Image).src=e.v,n=!0),n||(e.g=zn(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ge(e)}Vn(t)}function xn(t){t.g&&(Pn(t),t.g.cancel(),t.g=null)}function kn(t){xn(t),t.u&&(h.clearTimeout(t.u),t.u=null),Fn(t),t.i.cancel(),t.m&&("number"===typeof t.m&&h.clearTimeout(t.m),t.m=null)}function An(t){if(!We(t.i)&&!t.m){t.m=!0;var e=t.Na;St||kt(),It||(St(),It=!0),xt.add(e,t),t.C=0}}function Rn(t,e){var n;n=e?e.m:t.W++;const r=Se(t.I);Ae(r,"SID",t.K),Ae(r,"RID",n),Ae(r,"AID",t.V),Dn(t,r),t.o&&t.s&&En(r,t.o,t.s),n=new oe(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=On(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Xe(t.i,n),he(n,r,e)}function Dn(t,e){t.na&&J(t.na,(function(t,n){Ae(e,n,t)})),t.h&&Ce({},(function(t,n){Ae(e,n,t)}))}function On(t,e,n){n=Math.min(t.j.length,n);var r=t.h?y(t.h.Va,t.h,t):null;t:{var i=t.j;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const c=i[a].map;if(n-=e,0>n)e=Math.max(0,i[a].g-100),o=!1;else try{en(c,t,"req"+n+"_")}catch(s){r&&r(c)}}if(o){r=t.join("&");break t}}}return t=t.j.splice(0,n),e.F=t,r}function Ln(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;St||kt(),It||(St(),It=!0),xt.add(e,t),t.A=0}}function Nn(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=Kt(y(t.Ma,t),Un(t,t.A)),t.A++,!0)}function Pn(t){null!=t.B&&(h.clearTimeout(t.B),t.B=null)}function Mn(t){t.g=new oe(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Se(t.wa);Ae(e,"RID","rpc"),Ae(e,"SID",t.K),Ae(e,"AID",t.V),Ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ae(e,"TO",t.qa),Ae(e,"TYPE","xmlhttp"),Dn(t,e),t.o&&t.s&&En(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Re(Se(e)),n.s=null,n.S=!0,de(n,t)}function Fn(t){null!=t.v&&(h.clearTimeout(t.v),t.v=null)}function jn(t,e){var n=null;if(t.g==e){Fn(t),Pn(t),t.g=null;var r=2}else{if(!Ke(t.i,e))return;n=e.F,Je(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;vt(r=zt(),new Zt(r,n)),An(t)}else Ln(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function(t,e){return!(Ze(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.j=e.F.concat(t.j),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=Kt(y(t.Na,t,e),Un(t,t.C)),t.C++,!0))}(t,e)||2==r&&Nn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bn(t,5);break;case 4:Bn(t,10);break;case 3:Bn(t,6);break;default:Bn(t,2)}}function Un(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Bn(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=y(t.pb,t);n||(n=new Te("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ie(n,"https"),Re(n)),function(t,e){const n=new Ut;if(h.Image){const r=new Image;r.onload=_(nn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(nn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(nn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(nn,n,r,"TestLoadImage: timeout",!1,e),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Wt(2);t.H=0,t.h&&t.h.za(e),Vn(t),kn(t)}function Vn(t){if(t.H=0,t.ma=[],t.h){const e=Ye(t.i);0==e.length&&0==t.j.length||(T(t.ma,e),T(t.ma,t.j),t.i.i.length=0,E(t.j),t.j.length=0),t.h.ya()}}function Hn(t,e,n){var r=n instanceof Te?Se(n):new Te(n);if(""!=r.g)e&&(r.g=e+"."+r.g),xe(r,r.m);else{var i=h.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Te(null);r&&Ie(s,r),e&&(s.g=e),i&&xe(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ae(r,n,e),Ae(r,"VER",t.ra),Dn(t,r),r}function zn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ha&&!t.va?new hn(new rn({ob:!0})):new hn(t.va)).Oa(t.J),e}function qn(){}function $n(){if(N&&!(10<=Number(q)))throw Error("Environmental error: no available transport.")}function Gn(t,e){gt.call(this),this.g=new Sn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!x(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Kn(this)}function Wn(t){re.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Zn(){ie.call(this),this.status=1}function Kn(t){this.g=t}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Jn(t,e,n){n||(n=0);var r=Array(16);if("string"===typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Yn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(r=hn.prototype).Oa=function(t){this.M=t},r.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ee.g(),this.C=this.u?Qt(this.u):Qt(ee),this.g.onreadystatechange=y(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void mn(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),i=h.FormData&&t instanceof h.FormData,!(0<=C(pn,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_n(this),0<this.B&&((this.L=function(t){return N&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.ua,this)):this.A=Ot(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){mn(this,s)}},r.ua=function(){"undefined"!=typeof l&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vt(this,"timeout"),this.abort(8))},r.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vt(this,"complete"),vt(this,"abort"),yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yn(this,!0)),hn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?vn(this):this.kb())},r.kb=function(){vn(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<bn(this)?this.g.status:-1}catch(Qe){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(Qe){return""}},r.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ln(e)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Sn.prototype).ra=8,r.H=1,r.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new oe(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Y(s),tt(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)t:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.j.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=On(this,i,e),Ae(n=Se(this.I),"RID",t),Ae(n,"CVER",22),this.F&&Ae(n,"X-HTTP-Session-Id",this.F),Dn(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Cn(s)))+"&"+e:this.o&&En(n,this.o,s)),Xe(this.i,i),this.bb&&Ae(n,"TYPE","init"),this.P?(Ae(n,"$req",e),Ae(n,"SID","null"),i.aa=!0,he(i,n,null)):he(i,n,e),this.H=2}}else 3==this.H&&(t?Rn(this,t):0==this.j.length||We(this.i)||Rn(this))},r.Ma=function(){if(this.u=null,Mn(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Kt(y(this.jb,this),t)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wt(10),xn(this),Mn(this))},r.ib=function(){null!=this.v&&(this.v=null,xn(this),Nn(this),Wt(19))},r.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wt(2)):(this.l.info("Failed to ping google.com"),Wt(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},(r=qn.prototype).Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},$n.prototype.g=function(t,e){return new Gn(t,e)},b(Gn,gt),Gn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Hn(t,null,t.Y),An(t)},Gn.prototype.close=function(){In(this.g)},Gn.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=_t(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&An(e)},Gn.prototype.N=function(){this.g.h=null,delete this.j,In(this.g),delete this.g,Gn.$.N.call(this)},b(Wn,re),b(Zn,ie),b(Kn,qn),Kn.prototype.Ba=function(){vt(this.g,"a")},Kn.prototype.Aa=function(t){vt(this.g,new Wn(t))},Kn.prototype.za=function(t){vt(this.g,new Zn)},Kn.prototype.ya=function(){vt(this.g,"b")},b(Xn,(function(){this.blockSize=-1})),Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)Jn(this,t,s),s+=this.blockSize;if("string"===typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Jn(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Jn(this,r),i=0;break}}this.h=i,this.i+=e},Xn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Qn={};function tr(t){return-128<=t&&128>t?function(t,e){var n=Qn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new Yn([0|t],0>t?-1:0)})):new Yn([0|t],0>t?-1:0)}function er(t){if(isNaN(t)||!isFinite(t))return rr;if(0>t)return cr(er(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=nr;return new Yn(e,0)}var nr=4294967296,rr=tr(0),ir=tr(1),sr=tr(16777216);function or(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ar(t){return-1==t.h}function cr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Yn(n,~t.h).add(ir)}function ur(t,e){return t.add(cr(e))}function lr(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function hr(t,e){this.g=t,this.h=e}function dr(t,e){if(or(e))throw Error("division by zero");if(or(t))return new hr(rr,rr);if(ar(t))return e=dr(cr(t),e),new hr(cr(e.g),cr(e.h));if(ar(e))return e=dr(t,cr(e)),new hr(cr(e.g),e.h);if(30<t.g.length){if(ar(t)||ar(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ir,r=e;0>=r.X(t);)n=fr(n),r=fr(r);var i=pr(n,1),s=pr(r,1);for(r=pr(r,2),n=pr(n,2);!or(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=pr(r,1),n=pr(n,1)}return e=ur(t,i.R(e)),new hr(i,e)}for(i=rr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=er(n)).R(e);ar(o)||0<o.X(t);)o=(s=er(n-=r)).R(e);or(s)&&(s=ir),i=i.add(s),t=ur(t,o)}return new hr(i,t)}function fr(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Yn(n,t.h)}function pr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Yn(i,t.h)}(r=Yn.prototype).ea=function(){if(ar(this))return-cr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:nr+r)*e,e*=nr}return t},r.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(or(this))return"0";if(ar(this))return"-"+cr(this).toString(t);for(var e=er(Math.pow(t,6)),n=this,r="";;){var i=dr(n,e).g,s=((0<(n=ur(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(or(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},r.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},r.X=function(t){return ar(t=ur(this,t))?-1:or(t)?0:1},r.abs=function(){return ar(this)?cr(this):this},r.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Yn(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(t){if(or(this)||or(t))return rr;if(ar(this))return ar(t)?cr(this).R(cr(t)):cr(cr(this).R(t));if(ar(t))return cr(this.R(cr(t)));if(0>this.X(sr)&&0>t.X(sr))return er(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,lr(n,2*r+2*i),n[2*r+2*i+1]+=s*c,lr(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,lr(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,lr(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Yn(n,0)},r.gb=function(t){return dr(this,t).h},r.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Yn(n,this.h&t.h)},r.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Yn(n,this.h|t.h)},r.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Yn(n,this.h^t.h)},$n.prototype.createWebChannel=$n.prototype.g,Gn.prototype.send=Gn.prototype.u,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Xt.NO_ERROR=0,Xt.TIMEOUT=8,Xt.HTTP_ERROR=6,Jt.COMPLETE="complete",te.EventType=ne,ne.OPEN="a",ne.CLOSE="b",ne.ERROR="c",ne.MESSAGE="d",gt.prototype.listen=gt.prototype.O,hn.prototype.listenOnce=hn.prototype.P,hn.prototype.getLastError=hn.prototype.Sa,hn.prototype.getLastErrorCode=hn.prototype.Ia,hn.prototype.getStatus=hn.prototype.da,hn.prototype.getResponseJson=hn.prototype.Wa,hn.prototype.getResponseText=hn.prototype.ja,hn.prototype.send=hn.prototype.ha,hn.prototype.setWithCredentials=hn.prototype.Oa,Xn.prototype.digest=Xn.prototype.l,Xn.prototype.reset=Xn.prototype.reset,Xn.prototype.update=Xn.prototype.j,Yn.prototype.add=Yn.prototype.add,Yn.prototype.multiply=Yn.prototype.R,Yn.prototype.modulo=Yn.prototype.gb,Yn.prototype.compare=Yn.prototype.X,Yn.prototype.toNumber=Yn.prototype.ea,Yn.prototype.toString=Yn.prototype.toString,Yn.prototype.getBits=Yn.prototype.D,Yn.fromNumber=er,Yn.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return cr(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=er(Math.pow(n,8)),i=rr,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+o),n);8>o?(o=er(Math.pow(n,o)),i=i.R(o).add(er(a))):i=(i=i.R(r)).add(er(a))}return i};var mr=u.createWebChannelTransport=function(){return new $n},gr=u.getStatEventTarget=function(){return zt()},vr=u.ErrorCode=Xt,yr=u.EventType=Jt,_r=u.Event=Vt,br=u.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wr=u.FetchXmlHttpFactory=rn,Cr=u.WebChannel=te,Er=u.XhrIo=hn,Tr=u.Md5=Xn,Sr=u.Integer=Yn;n(3542);const Ir="@firebase/firestore";class xr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let kr="10.0.0";const Ar=new o.Yd("@firebase/firestore");function Rr(){return Ar.logLevel}function Dr(t,...e){if(Ar.logLevel<=o.in.DEBUG){const n=e.map(Nr);Ar.debug(`Firestore (${kr}): ${t}`,...n)}}function Or(t,...e){if(Ar.logLevel<=o.in.ERROR){const n=e.map(Nr);Ar.error(`Firestore (${kr}): ${t}`,...n)}}function Lr(t,...e){if(Ar.logLevel<=o.in.WARN){const n=e.map(Nr);Ar.warn(`Firestore (${kr}): ${t}`,...n)}}function Nr(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function Pr(t="Unexpected state"){const e=`FIRESTORE (${kr}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function Mr(t,e){t||Pr()}function Fr(t,e){return t}const jr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ur extends a.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Vr{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Hr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(xr.UNAUTHENTICATED)))}shutdown(){}}class zr{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class qr{constructor(t){this.t=t,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Br,t.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{Dr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Dr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Br)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Dr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Mr("string"==typeof e.accessToken),new Vr(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Mr(null===t||"string"==typeof t),new xr(t)}}class $r{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gr{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new $r(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(xr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zr{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=t=>{null!=t.error&&Dr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,Dr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{Dr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):Dr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Mr("string"==typeof t.token),this.R=t.token,new Wr(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Kr(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Xr{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=Kr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function Jr(t,e){return t<e?-1:t>e?1:0}function Yr(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class Qr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ur(jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ur(jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ur(jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ur(jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Qr.fromMillis(Date.now())}static fromDate(t){return Qr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Qr(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Jr(this.nanoseconds,t.nanoseconds):Jr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ti{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ti(t)}static min(){return new ti(new Qr(0,0))}static max(){return new ti(new Qr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ei{constructor(t,e,n){void 0===e?e=0:e>t.length&&Pr(),void 0===n?n=t.length-e:n>t.length-e&&Pr(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===ei.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ei?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ni extends ei{construct(t,e,n){return new ni(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Ur(jr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new ni(e)}static emptyPath(){return new ni([])}}const ri=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ii extends ei{construct(t,e,n){return new ii(t,e,n)}static isValidIdentifier(t){return ri.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ii.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ii(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ur(jr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new Ur(jr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Ur(jr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new Ur(jr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ii(e)}static emptyPath(){return new ii([])}}class si{constructor(t){this.path=t}static fromPath(t){return new si(ni.fromString(t))}static fromName(t){return new si(ni.fromString(t).popFirst(5))}static empty(){return new si(ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ni.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ni.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new si(new ni(t.slice()))}}class oi{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}oi.UNKNOWN_ID=-1;function ai(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ti.fromTimestamp(1e9===r?new Qr(n+1,0):new Qr(n,r));return new ui(i,si.empty(),e)}function ci(t){return new ui(t.readTime,t.key,-1)}class ui{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new ui(ti.min(),si.empty(),-1)}static max(){return new ui(ti.max(),si.empty(),-1)}}function li(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=si.comparator(t.documentKey,e.documentKey),0!==n?n:Jr(t.largestBatchId,e.largestBatchId))}const hi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class di{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fi(t){if(t.code!==jr.FAILED_PRECONDITION||t.message!==hi)throw t;Dr("LocalStore","Unexpectedly lost primary lease")}class pi{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Pr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new pi(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof pi?e:pi.resolve(e)}catch(t){return pi.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):pi.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):pi.reject(e)}static resolve(t){return new pi(((e,n)=>{e(t)}))}static reject(t){return new pi(((e,n)=>{n(t)}))}static waitFor(t){return new pi(((e,n)=>{let r=0,i=0,s=!1;t.forEach((t=>{++r,t.next((()=>{++i,s&&i===r&&e()}),(t=>n(t)))})),s=!0,i===r&&e()}))}static or(t){let e=pi.resolve(!1);for(const n of t)e=e.next((t=>t?pi.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new pi(((n,r)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;e(t[c]).next((t=>{s[c]=t,++o,o===i&&n(s)}),(t=>r(t)))}}))}static doWhile(t,e){return new pi(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function mi(t){return"IndexedDbTransactionError"===t.name}class gi{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.oe(t),this._e=t=>e.writeSequenceNumber(t))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}function vi(t){return null==t}function yi(t){return 0===t&&1/t==-1/0}function _i(t){return"number"==typeof t&&Number.isInteger(t)&&!yi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}gi.ae=-1;const bi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ci=wi;function Ei(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Si(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ii{constructor(t,e){this.comparator=t,this.root=e||ki.EMPTY}insert(t,e){return new Ii(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(t){return new Ii(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ki.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xi(this.root,t,this.comparator,!1)}getReverseIterator(){return new xi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xi(this.root,t,this.comparator,!0)}}class xi{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ki{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:ki.RED,this.left=null!=r?r:ki.EMPTY,this.right=null!=i?i:ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new ki(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ki.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pr();if(this.right.isRed())throw Pr();const t=this.left.check();if(t!==this.right.check())throw Pr();return t+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1,ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Pr()}get value(){throw Pr()}get color(){throw Pr()}get left(){throw Pr()}get right(){throw Pr()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ki(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ai{constructor(t){this.comparator=t,this.data=new Ii(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ri(this.data.getIterator())}getIteratorFrom(t){return new Ri(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Ai))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ai(this.comparator);return e.data=t,e}}class Ri{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Di{constructor(t){this.fields=t,t.sort(ii.comparator)}static empty(){return new Di([])}unionWith(t){let e=new Ai(ii.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Di(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yr(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class Oi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Li{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Oi("Invalid base64 string: "+t):t}}(t);return new Li(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Li(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const Ni=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(Mr(!!t),"string"==typeof t){let e=0;const n=Ni.exec(t);if(Mr(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mi(t.seconds),nanos:Mi(t.nanos)}}function Mi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Fi(t){return"string"==typeof t?Li.fromBase64String(t):Li.fromUint8Array(t)}function ji(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ui(t){const e=t.mapValue.fields.__previous_value__;return ji(e)?Ui(e):e}function Bi(t){const e=Pi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qr(e.seconds,e.nanos)}class Vi{constructor(t,e,n,r,i,s,o,a,c){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class Hi{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Hi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Hi&&t.projectId===this.projectId&&t.database===this.database}}const zi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ji(t)?4:is(t)?9007199254740991:10:Pr()}function $i(t,e){if(t===e)return!0;const n=qi(t);if(n!==qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bi(t).isEqual(Bi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Pi(t.timestampValue),r=Pi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Fi(t.bytesValue).isEqual(Fi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Mi(t.geoPointValue.latitude)===Mi(e.geoPointValue.latitude)&&Mi(t.geoPointValue.longitude)===Mi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Mi(t.integerValue)===Mi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Mi(t.doubleValue),r=Mi(e.doubleValue);return n===r?yi(n)===yi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Yr(t.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ei(n)!==Ei(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$i(n[i],r[i])))return!1;return!0}(t,e);default:return Pr()}}function Gi(t,e){return void 0!==(t.values||[]).find((t=>$i(t,e)))}function Wi(t,e){if(t===e)return 0;const n=qi(t),r=qi(e);if(n!==r)return Jr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jr(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Mi(t.integerValue||t.doubleValue),r=Mi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Zi(t.timestampValue,e.timestampValue);case 4:return Zi(Bi(t),Bi(e));case 5:return Jr(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Fi(t),r=Fi(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=Jr(n[i],r[i]);if(0!==t)return t}return Jr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Jr(Mi(t.latitude),Mi(e.latitude));return 0!==n?n:Jr(Mi(t.longitude),Mi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=Wi(n[i],r[i]);if(t)return t}return Jr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===zi.mapValue&&e===zi.mapValue)return 0;if(t===zi.mapValue)return 1;if(e===zi.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=Jr(r[o],s[o]);if(0!==t)return t;const e=Wi(n[r[o]],i[s[o]]);if(0!==e)return e}return Jr(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Pr()}}function Zi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Jr(t,e);const n=Pi(t),r=Pi(e),i=Jr(n.seconds,r.seconds);return 0!==i?i:Jr(n.nanos,r.nanos)}function Ki(t){return Xi(t)}function Xi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Pi(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return Fi(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return si.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Xi(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${Xi(t.fields[i])}`;return n+"}"}(t.mapValue):Pr()}function Ji(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yi(t){return!!t&&"integerValue"in t}function Qi(t){return!!t&&"arrayValue"in t}function ts(t){return!!t&&"nullValue"in t}function es(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ns(t){return!!t&&"mapValue"in t}function rs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ti(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=rs(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function is(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class ss{constructor(t){this.value=t}static empty(){return new ss({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!ns(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=rs(e)}setAll(t){let e=ii.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=rs(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());ns(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return $i(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];ns(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Ti(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new ss(rs(this.value))}}function os(t){const e=[];return Ti(t.fields,((t,n)=>{const r=new ii([t]);if(ns(n)){const t=os(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new Di(e)}class as{constructor(t,e,n,r,i,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new as(t,0,ti.min(),ti.min(),ti.min(),ss.empty(),0)}static newFoundDocument(t,e,n,r){return new as(t,1,e,ti.min(),n,r,0)}static newNoDocument(t,e){return new as(t,2,e,ti.min(),ti.min(),ss.empty(),0)}static newUnknownDocument(t,e){return new as(t,3,e,ti.min(),ti.min(),ss.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ti.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ti.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof as&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cs{constructor(t,e){this.position=t,this.inclusive=e}}function us(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?si.comparator(si.fromName(o.referenceValue),n.key):Wi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ls(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$i(t.position[n],e.position[n]))return!1;return!0}class hs{constructor(t,e="asc"){this.field=t,this.dir=e}}function ds(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class fs{}class ps extends fs{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Cs(t,e,n):"array-contains"===e?new Is(t,n):"in"===e?new xs(t,n):"not-in"===e?new ks(t,n):"array-contains-any"===e?new As(t,n):new ps(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Es(t,n):new Ts(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Wi(e,this.value)):null!==e&&qi(this.value)===qi(e)&&this.matchesComparison(Wi(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Pr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ms extends fs{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new ms(t,e)}matches(t){return gs(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le((t=>t.isInequality()));return null!==t?t.field:null}le(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function gs(t){return"and"===t.op}function vs(t){return ys(t)&&gs(t)}function ys(t){for(const e of t.filters)if(e instanceof ms)return!1;return!0}function _s(t){if(t instanceof ps)return t.field.canonicalString()+t.op.toString()+Ki(t.value);if(vs(t))return t.filters.map((t=>_s(t))).join(",");{const e=t.filters.map((t=>_s(t))).join(",");return`${t.op}(${e})`}}function bs(t,e){return t instanceof ps?function(t,e){return e instanceof ps&&t.op===e.op&&t.field.isEqual(e.field)&&$i(t.value,e.value)}(t,e):t instanceof ms?function(t,e){return e instanceof ms&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&bs(n,e.filters[r])),!0)}(t,e):void Pr()}function ws(t){return t instanceof ps?function(t){return`${t.field.canonicalString()} ${t.op} ${Ki(t.value)}`}(t):t instanceof ms?function(t){return t.op.toString()+" {"+t.getFilters().map(ws).join(" ,")+"}"}(t):"Filter"}class Cs extends ps{constructor(t,e,n){super(t,e,n),this.key=si.fromName(n.referenceValue)}matches(t){const e=si.comparator(t.key,this.key);return this.matchesComparison(e)}}class Es extends ps{constructor(t,e){super(t,"in",e),this.keys=Ss("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Ts extends ps{constructor(t,e){super(t,"not-in",e),this.keys=Ss("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Ss(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>si.fromName(t.referenceValue)))}class Is extends ps{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Qi(e)&&Gi(e.arrayValue,this.value)}}class xs extends ps{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Gi(this.value.arrayValue,e)}}class ks extends ps{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Gi(this.value.arrayValue,e)}}class As extends ps{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Qi(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Gi(this.value.arrayValue,t)))}}class Rs{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.he=null}}function Ds(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Rs(t,e,n,r,i,s,o)}function Os(t){const e=Fr(t);if(null===e.he){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>_s(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),vi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Ki(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Ki(t))).join(",")),e.he=t}return e.he}function Ls(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ds(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bs(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ls(t.startAt,e.startAt)&&ls(t.endAt,e.endAt)}function Ns(t){return si.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ps{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function Ms(t,e,n,r,i,s,o,a){return new Ps(t,e,n,r,i,s,o,a)}function Fs(t){return new Ps(t)}function js(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Us(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Bs(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Vs(t){return null!==t.collectionGroup}function Hs(t){const e=Fr(t);if(null===e.Pe){e.Pe=[];const t=Bs(e),n=Us(e);if(null!==t&&null===n)t.isKeyField()||e.Pe.push(new hs(t)),e.Pe.push(new hs(ii.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.Pe.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new hs(ii.keyField(),t))}}}return e.Pe}function zs(t){const e=Fr(t);if(!e.Ie)if("F"===e.limitType)e.Ie=Ds(e.path,e.collectionGroup,Hs(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of Hs(e)){const e="desc"===i.dir?"asc":"desc";t.push(new hs(i.field,e))}const n=e.endAt?new cs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new cs(e.startAt.position,e.startAt.inclusive):null;e.Ie=Ds(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.Ie}function qs(t,e){e.getFirstInequalityField(),Bs(t);const n=t.filters.concat([e]);return new Ps(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $s(t,e,n){return new Ps(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gs(t,e){return Ls(zs(t),zs(e))&&t.limitType===e.limitType}function Ws(t){return`${Os(zs(t))}|lt:${t.limitType}`}function Zs(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>ws(t))).join(", ")}]`),vi(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Ki(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Ki(t))).join(",")),`Target(${e})`}(zs(t))}; limitType=${t.limitType})`}function Ks(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):si.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of Hs(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=us(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,Hs(t),e))&&!(t.endAt&&!function(t,e,n){const r=us(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,Hs(t),e))}(t,e)}function Xs(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Js(t){return(e,n)=>{let r=!1;for(const i of Hs(t)){const t=Ys(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function Ys(t,e,n){const r=t.field.isKeyField()?si.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Wi(r,i):Pr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pr()}}class Qs{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ti(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Si(this.inner)}size(){return this.innerSize}}const to=new Ii(si.comparator);function eo(){return to}const no=new Ii(si.comparator);function ro(...t){let e=no;for(const n of t)e=e.insert(n.key,n);return e}function io(t){let e=no;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function so(){return ao()}function oo(){return ao()}function ao(){return new Qs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const co=new Ii(si.comparator),uo=new Ai(si.comparator);function lo(...t){let e=uo;for(const n of t)e=e.add(n);return e}const ho=new Ai(Jr);function fo(){return ho}function po(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yi(e)?"-0":e}}function mo(t){return{integerValue:""+t}}function go(t,e){return _i(e)?mo(e):po(t,e)}class vo{constructor(){this._=void 0}}function yo(t,e,n){return t instanceof wo?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&ji(e)&&(e=Ui(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Co?Eo(t,e):t instanceof To?So(t,e):function(t,e){const n=bo(t,e),r=xo(n)+xo(t.Te);return Yi(n)&&Yi(t.Te)?mo(r):po(t.serializer,r)}(t,e)}function _o(t,e,n){return t instanceof Co?Eo(t,e):t instanceof To?So(t,e):n}function bo(t,e){return t instanceof Io?function(t){return Yi(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class wo extends vo{}class Co extends vo{constructor(t){super(),this.elements=t}}function Eo(t,e){const n=ko(e);for(const r of t.elements)n.some((t=>$i(t,r)))||n.push(r);return{arrayValue:{values:n}}}class To extends vo{constructor(t){super(),this.elements=t}}function So(t,e){let n=ko(e);for(const r of t.elements)n=n.filter((t=>!$i(t,r)));return{arrayValue:{values:n}}}class Io extends vo{constructor(t,e){super(),this.serializer=t,this.Te=e}}function xo(t){return Mi(t.integerValue||t.doubleValue)}function ko(t){return Qi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ao{constructor(t,e){this.field=t,this.transform=e}}class Ro{constructor(t,e){this.version=t,this.transformResults=e}}class Do{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Do}static exists(t){return new Do(void 0,t)}static updateTime(t){return new Do(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Lo{}function No(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new qo(t.key,Do.none()):new Uo(t.key,t.data,Do.none());{const n=t.data,r=ss.empty();let i=new Ai(ii.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new Bo(t.key,r,new Di(i.toArray()),Do.none())}}function Po(t,e,n){t instanceof Uo?function(t,e,n){const r=t.value.clone(),i=Ho(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Bo?function(t,e,n){if(!Oo(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Ho(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Vo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Mo(t,e,n,r){return t instanceof Uo?function(t,e,n,r){if(!Oo(t.precondition,e))return n;const i=t.value.clone(),s=zo(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bo?function(t,e,n,r){if(!Oo(t.precondition,e))return n;const i=zo(t.fieldTransforms,r,e),s=e.data;return s.setAll(Vo(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return Oo(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function Fo(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=bo(r.transform,t||null);null!=i&&(null===n&&(n=ss.empty()),n.set(r.field,i))}return n||null}function jo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Yr(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Co&&e instanceof Co||t instanceof To&&e instanceof To?Yr(t.elements,e.elements,$i):t instanceof Io&&e instanceof Io?$i(t.Te,e.Te):t instanceof wo&&e instanceof wo}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uo extends Lo{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bo extends Lo{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Vo(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Ho(t,e,n){const r=new Map;Mr(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_o(o,a,n[i]))}return r}function zo(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,yo(t,s,e))}return r}class qo extends Lo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $o extends Lo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Go{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&Po(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Mo(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Mo(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=oo();return this.mutations.forEach((r=>{const i=t.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(r.key)?null:o;const a=No(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(ti.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),lo())}isEqual(t){return this.batchId===t.batchId&&Yr(this.mutations,t.mutations,((t,e)=>jo(t,e)))&&Yr(this.baseMutations,t.baseMutations,((t,e)=>jo(t,e)))}}class Wo{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Mr(t.mutations.length===n.length);let r=co;const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Wo(t,e,n,r)}}class Zo{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ko{constructor(t,e){this.count=t,this.unchangedNames=e}}var Xo,Jo;function Yo(t){switch(t){default:return Pr();case jr.CANCELLED:case jr.UNKNOWN:case jr.DEADLINE_EXCEEDED:case jr.RESOURCE_EXHAUSTED:case jr.INTERNAL:case jr.UNAVAILABLE:case jr.UNAUTHENTICATED:return!1;case jr.INVALID_ARGUMENT:case jr.NOT_FOUND:case jr.ALREADY_EXISTS:case jr.PERMISSION_DENIED:case jr.FAILED_PRECONDITION:case jr.ABORTED:case jr.OUT_OF_RANGE:case jr.UNIMPLEMENTED:case jr.DATA_LOSS:return!0}}function Qo(t){if(void 0===t)return Or("GRPC error has no .code"),jr.UNKNOWN;switch(t){case Xo.OK:return jr.OK;case Xo.CANCELLED:return jr.CANCELLED;case Xo.UNKNOWN:return jr.UNKNOWN;case Xo.DEADLINE_EXCEEDED:return jr.DEADLINE_EXCEEDED;case Xo.RESOURCE_EXHAUSTED:return jr.RESOURCE_EXHAUSTED;case Xo.INTERNAL:return jr.INTERNAL;case Xo.UNAVAILABLE:return jr.UNAVAILABLE;case Xo.UNAUTHENTICATED:return jr.UNAUTHENTICATED;case Xo.INVALID_ARGUMENT:return jr.INVALID_ARGUMENT;case Xo.NOT_FOUND:return jr.NOT_FOUND;case Xo.ALREADY_EXISTS:return jr.ALREADY_EXISTS;case Xo.PERMISSION_DENIED:return jr.PERMISSION_DENIED;case Xo.FAILED_PRECONDITION:return jr.FAILED_PRECONDITION;case Xo.ABORTED:return jr.ABORTED;case Xo.OUT_OF_RANGE:return jr.OUT_OF_RANGE;case Xo.UNIMPLEMENTED:return jr.UNIMPLEMENTED;case Xo.DATA_LOSS:return jr.DATA_LOSS;default:return Pr()}}(Jo=Xo||(Xo={}))[Jo.OK=0]="OK",Jo[Jo.CANCELLED=1]="CANCELLED",Jo[Jo.UNKNOWN=2]="UNKNOWN",Jo[Jo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jo[Jo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jo[Jo.NOT_FOUND=5]="NOT_FOUND",Jo[Jo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jo[Jo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jo[Jo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jo[Jo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jo[Jo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jo[Jo.ABORTED=10]="ABORTED",Jo[Jo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jo[Jo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jo[Jo.INTERNAL=13]="INTERNAL",Jo[Jo.UNAVAILABLE=14]="UNAVAILABLE",Jo[Jo.DATA_LOSS=15]="DATA_LOSS";class ta{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ea}static getOrCreateInstance(){return null===ea&&(ea=new ta),ea}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach((e=>e(t)))}}let ea=null;function na(){return new TextEncoder}const ra=new Sr([4294967295,4294967295],0);function ia(t){const e=na().encode(t),n=new Tr;return n.update(e),new Uint8Array(n.digest())}function sa(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sr([n,r],0),new Sr([i,s],0)]}class oa{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new aa(`Invalid padding: ${e}`);if(n<0)throw new aa(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new aa(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new aa(`Invalid padding when bitmap length is 0: ${e}`);this.de=8*t.length-e,this.Ae=Sr.fromNumber(this.de)}Re(t,e,n){let r=t.add(e.multiply(Sr.fromNumber(n)));return 1===r.compare(ra)&&(r=new Sr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}Ve(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.de)return!1;const e=ia(t),[n,r]=sa(e);for(let i=0;i<this.hashCount;i++){const t=this.Re(n,r,i);if(!this.Ve(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new oa(i,r,e);return n.forEach((t=>s.insert(t))),s}insert(t){if(0===this.de)return;const e=ia(t),[n,r]=sa(e);for(let i=0;i<this.hashCount;i++){const t=this.Re(n,r,i);this.me(t)}}me(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ca{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,ua.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new ca(ti.min(),r,new Ii(Jr),eo(),lo())}}class ua{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new ua(n,e,lo(),lo(),lo())}}class la{constructor(t,e,n,r){this.fe=t,this.removedTargetIds=e,this.key=n,this.ge=r}}class ha{constructor(t,e){this.targetId=t,this.pe=e}}class da{constructor(t,e,n=Li.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class fa{constructor(){this.ye=0,this.we=ga(),this.Se=Li.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return 0!==this.ye}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=lo(),e=lo(),n=lo();return this.we.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Pr()}})),new ua(this.Se,this.be,t,e,n)}xe(){this.De=!1,this.we=ga()}Oe(t,e){this.De=!0,this.we=this.we.insert(t,e)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class pa{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=eo(),this.$e=ma(),this.Ue=new Ii(Jr)}We(t){for(const e of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(e,t.ge):this.ze(e,t.key,t.ge);for(const e of t.removedTargetIds)this.ze(e,t.key,t.ge)}je(t){this.forEachTarget(t,(e=>{const n=this.He(e);switch(t.state){case 0:this.Je(e)&&n.Fe(t.resumeToken);break;case 1:n.Le(),n.ve||n.xe(),n.Fe(t.resumeToken);break;case 2:n.Le(),n.ve||this.removeTarget(e);break;case 3:this.Je(e)&&(n.ke(),n.Fe(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),n.Fe(t.resumeToken));break;default:Pr()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qe.forEach(((t,n)=>{this.Je(n)&&e(n)}))}Ze(t){var e,n;const r=t.targetId,i=t.pe.count,s=this.Xe(r);if(s){const o=s.target;if(Ns(o))if(0===i){const t=new si(o.path);this.ze(r,t,as.newNoDocument(t,ti.min()))}else Mr(1===i);else{const s=this.et(r);if(s!==i){const i=this.tt(t,s);if(0!==i.status){this.Ye(r);const t=2===i.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,t)}null===(e=ta.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(t,e,n,r){var i,s,o,a,c,u;const l={localCacheCount:n,existenceFilterCount:r.count},h=r.unchangedNames;return h&&(l.bloomFilter={applied:0===t,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(a=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0},e&&(l.bloomFilter.mightContain=e)),l}(i.status,null!==(n=i.nt)&&void 0!==n?n:null,s,t.pe))}}}}tt(t,e){const{unchangedNames:n,count:r}=t.pe;if(!n||!n.bits)return{status:1};const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,c;try{a=Fi(i).toUint8Array()}catch(t){if(t instanceof Oi)return Lr("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw t}try{c=new oa(a,s,o)}catch(t){return Lr(t instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",t),{status:1}}const u=t=>{const e=this.qe.rt();return c.mightContain(`projects/${e.projectId}/databases/${e.database}/documents/${t}`)};return 0===c.de?{status:1}:{status:r===e-this.it(t.targetId,u)?0:2,nt:u}}it(t,e){const n=this.qe.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{e(n.path.canonicalString())||(this.ze(t,n,null),r++)})),r}st(t){const e=new Map;this.Qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Ns(i.target)){const e=new si(i.target.path);null!==this.Ke.get(e)||this.ot(r,e)||this.ze(r,e,as.newNoDocument(e,t))}n.Ce&&(e.set(r,n.Me()),n.xe())}}));let n=lo();this.$e.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Xe(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.Ke.forEach(((e,n)=>n.setReadTime(t)));const r=new ca(t,e,this.Ue,this.Ke,n);return this.Ke=eo(),this.$e=ma(),this.Ue=new Ii(Jr),r}Ge(t,e){if(!this.Je(t))return;const n=this.ot(t,e.key)?2:0;this.He(t).Oe(e.key,n),this.Ke=this.Ke.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t))}ze(t,e,n){if(!this.Je(t))return;const r=this.He(t);this.ot(t,e)?r.Oe(e,1):r.Ne(e),this.$e=this.$e.insert(e,this._t(e).delete(t)),n&&(this.Ke=this.Ke.insert(e,n))}removeTarget(t){this.Qe.delete(t)}et(t){const e=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let e=this.Qe.get(t);return e||(e=new fa,this.Qe.set(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Ai(Jr),this.$e=this.$e.insert(t,e)),e}Je(t){const e=null!==this.Xe(t);return e||Dr("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.Qe.get(t);return e&&e.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new fa),this.qe.getRemoteKeysForTarget(t).forEach((e=>{this.ze(t,e,null)}))}ot(t,e){return this.qe.getRemoteKeysForTarget(t).has(e)}}function ma(){return new Ii(si.comparator)}function ga(){return new Ii(si.comparator)}const va={asc:"ASCENDING",desc:"DESCENDING"},ya={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_a={and:"AND",or:"OR"};class ba{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function wa(t,e){return t.useProto3Json||vi(e)?e:{value:e}}function Ca(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ea(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ta(t,e){return Ca(t,e.toTimestamp())}function Sa(t){return Mr(!!t),ti.fromTimestamp(function(t){const e=Pi(t);return new Qr(e.seconds,e.nanos)}(t))}function Ia(t,e){return function(t){return new ni(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function xa(t){const e=ni.fromString(t);return Mr(Wa(e)),e}function ka(t,e){return Ia(t.databaseId,e.path)}function Aa(t,e){const n=xa(e);if(n.get(1)!==t.databaseId.projectId)throw new Ur(jr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ur(jr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new si(La(n))}function Ra(t,e){return Ia(t.databaseId,e)}function Da(t){const e=xa(t);return 4===e.length?ni.emptyPath():La(e)}function Oa(t){return new ni(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function La(t){return Mr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Na(t,e,n){return{name:ka(t,e),fields:n.value.mapValue.fields}}function Pa(t,e){let n;if(e instanceof Uo)n={update:Na(t,e.key,e.value)};else if(e instanceof qo)n={delete:ka(t,e.key)};else if(e instanceof Bo)n={update:Na(t,e.key,e.data),updateMask:Ga(e.fieldMask)};else{if(!(e instanceof $o))return Pr();n={verify:ka(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof wo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Co)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof To)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Io)return{fieldPath:e.field.canonicalString(),increment:n.Te};throw Pr()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ta(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Pr()}(t,e.precondition)),n}function Ma(t,e){return{documents:[Ra(t,e.path)]}}function Fa(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ra(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ra(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0!==t.length)return $a(ms.create(t,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:za(t.field),direction:Ba(t.dir)}}(t)))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=wa(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function ja(t){let e=Da(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Mr(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=Ua(t);return e instanceof ms&&vs(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map((t=>function(t){return new hs(qa(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,vi(e)?null:e}(n.limit));let c=null;n.startAt&&(c=function(t){const e=!!t.before,n=t.values||[];return new cs(n,e)}(n.startAt));let u=null;return n.endAt&&(u=function(t){const e=!t.before,n=t.values||[];return new cs(n,e)}(n.endAt)),Ms(e,i,o,s,a,"F",c,u)}function Ua(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=qa(t.unaryFilter.field);return ps.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=qa(t.unaryFilter.field);return ps.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qa(t.unaryFilter.field);return ps.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qa(t.unaryFilter.field);return ps.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pr()}}(t):void 0!==t.fieldFilter?function(t){return ps.create(qa(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pr()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return ms.create(t.compositeFilter.filters.map((t=>Ua(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Pr()}}(t.compositeFilter.op))}(t):Pr()}function Ba(t){return va[t]}function Va(t){return ya[t]}function Ha(t){return _a[t]}function za(t){return{fieldPath:t.canonicalString()}}function qa(t){return ii.fromServerFormat(t.fieldPath)}function $a(t){return t instanceof ps?function(t){if("=="===t.op){if(es(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NAN"}};if(ts(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(es(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NOT_NAN"}};if(ts(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(t.field),op:Va(t.op),value:t.value}}}(t):t instanceof ms?function(t){const e=t.getFilters().map((t=>$a(t)));return 1===e.length?e[0]:{compositeFilter:{op:Ha(t.op),filters:e}}}(t):Pr()}function Ga(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Wa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Za{constructor(t,e,n,r,i=ti.min(),s=ti.min(),o=Li.EMPTY_BYTE_STRING,a=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new Za(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Ka{constructor(t){this.ct=t}}function Xa(t){const e=ja({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$s(e,e.limit,"L"):e}class Ja{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(Mi(t.integerValue));else if("doubleValue"in t){const n=Mi(t.doubleValue);isNaN(n)?this.Et(e,13):(this.Et(e,15),yi(n)?e.dt(0):e.dt(n))}else if("timestampValue"in t){const n=t.timestampValue;this.Et(e,20),"string"==typeof n?e.At(n):(e.At(`${n.seconds||""}`),e.dt(n.nanos||0))}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Fi(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Et(e,45),e.dt(n.latitude||0),e.dt(n.longitude||0)}else"mapValue"in t?is(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):Pr()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const n=t.fields||{};this.Et(e,55);for(const r of Object.keys(n))this.Rt(r,e),this.It(n[r],e)}wt(t,e){const n=t.values||[];this.Et(e,50);for(const r of n)this.It(r,e)}gt(t,e){this.Et(e,37),si.fromName(t).path.forEach((t=>{this.Et(e,60),this.St(t,e)}))}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}Ja.bt=new Ja;class Ya{constructor(){this.sn=new Qa}addToCollectionParentIndex(t,e){return this.sn.add(e),pi.resolve()}getCollectionParents(t,e){return pi.resolve(this.sn.getEntries(e))}addFieldIndex(t,e){return pi.resolve()}deleteFieldIndex(t,e){return pi.resolve()}getDocumentsMatchingTarget(t,e){return pi.resolve(null)}getIndexType(t,e){return pi.resolve(0)}getFieldIndexes(t,e){return pi.resolve([])}getNextCollectionGroupToUpdate(t){return pi.resolve(null)}getMinOffset(t,e){return pi.resolve(ui.min())}getMinOffsetFromCollectionGroup(t,e){return pi.resolve(ui.min())}updateCollectionGroup(t,e,n){return pi.resolve()}updateIndexEntries(t,e){return pi.resolve()}}class Qa{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ai(ni.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Ai(ni.comparator)).toArray()}}new Uint8Array(0);class tc{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new tc(t,tc.DEFAULT_COLLECTION_PERCENTILE,tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}tc.DEFAULT_COLLECTION_PERCENTILE=10,tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tc.DEFAULT=new tc(41943040,tc.DEFAULT_COLLECTION_PERCENTILE,tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tc.DISABLED=new tc(-1,0,0);class ec{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new ec(0)}static On(){return new ec(-1)}}class nc{constructor(){this.changes=new Qs((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,as.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?pi.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class rc{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class ic{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&Mo(n.mutation,t,Di.empty(),Qr.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,lo()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=lo()){const r=so();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=ro();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=so();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,lo())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=eo();const s=ao(),o=ao();return e.forEach(((t,e)=>{const o=n.get(e.key);r.has(e.key)&&(void 0===o||o.mutation instanceof Bo)?i=i.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),Mo(o.mutation,e,o.mutation.getFieldMask(),Qr.now())):s.set(e.key,Di.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new rc(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=ao();let r=new Ii(((t,e)=>t-e)),i=lo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||Di.empty();o=i.applyToLocalView(s,o),n.set(t,o);const a=(r.get(i.batchId)||lo()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,u=oo();c.forEach((t=>{if(!i.has(t)){const r=No(e.get(t),n.get(t));null!==r&&u.set(t,r),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,u))}return pi.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return si.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Vs(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):pi.resolve(so());let o=-1,a=i;return s.next((e=>pi.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(e)?pi.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,lo()))).next((t=>({batchId:o,changes:io(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new si(e)).next((t=>{let e=ro();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const r=e.collectionGroup;let i=ro();return this.indexManager.getCollectionParents(t,r).next((s=>pi.forEach(s,(s=>{const o=function(t,e){return new Ps(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return this.getDocumentsMatchingCollectionQuery(t,o,n).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(t,e,n){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r)))).next((t=>{r.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,as.newInvalidDocument(r)))}));let n=ro();return t.forEach(((t,i)=>{const s=r.get(t);void 0!==s&&Mo(s.mutation,i,Di.empty(),Qr.now()),Ks(e,i)&&(n=n.insert(t,i))})),n}))}}class sc{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,e){return pi.resolve(this.ar.get(e))}saveBundleMetadata(t,e){return this.ar.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Sa(t.createTime)}}(e)),pi.resolve()}getNamedQuery(t,e){return pi.resolve(this.ur.get(e))}saveNamedQuery(t,e){return this.ur.set(e.name,function(t){return{name:t.name,query:Xa(t.bundledQuery),readTime:Sa(t.readTime)}}(e)),pi.resolve()}}class oc{constructor(){this.overlays=new Ii(si.comparator),this.cr=new Map}getOverlay(t,e){return pi.resolve(this.overlays.get(e))}getOverlays(t,e){const n=so();return pi.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.ht(t,e,r)})),pi.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.cr.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.cr.delete(n)),pi.resolve()}getOverlaysForCollection(t,e,n){const r=so(),i=e.length+1,s=new si(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return pi.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new Ii(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=so(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=so(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=r)););return pi.resolve(o)}ht(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Zo(e,n));let i=this.cr.get(e);void 0===i&&(i=lo(),this.cr.set(e,i)),this.cr.set(e,i.add(n.key))}}class ac{constructor(){this.lr=new Ai(cc.hr),this.Pr=new Ai(cc.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,e){const n=new cc(t,e);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}Tr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.Er(new cc(t,e))}dr(t,e){t.forEach((t=>this.removeReference(t,e)))}Ar(t){const e=new si(new ni([])),n=new cc(e,t),r=new cc(e,t+1),i=[];return this.Pr.forEachInRange([n,r],(t=>{this.Er(t),i.push(t.key)})),i}Rr(){this.lr.forEach((t=>this.Er(t)))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const e=new si(new ni([])),n=new cc(e,t),r=new cc(e,t+1);let i=lo();return this.Pr.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new cc(t,0),n=this.lr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class cc{constructor(t,e){this.key=t,this.mr=e}static hr(t,e){return si.comparator(t.key,e.key)||Jr(t.mr,e.mr)}static Ir(t,e){return Jr(t.mr,e.mr)||si.comparator(t.key,e.key)}}class uc{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.gr=1,this.pr=new Ai(cc.hr)}checkEmpty(t){return pi.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Go(i,e,n,r);this.mutationQueue.push(s);for(const o of r)this.pr=this.pr.add(new cc(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return pi.resolve(s)}lookupMutationBatch(t,e){return pi.resolve(this.yr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.wr(n),i=r<0?0:r;return pi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pi.resolve(0===this.mutationQueue.length?-1:this.gr-1)}getAllMutationBatches(t){return pi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new cc(e,0),r=new cc(e,Number.POSITIVE_INFINITY),i=[];return this.pr.forEachInRange([n,r],(t=>{const e=this.yr(t.mr);i.push(e)})),pi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Ai(Jr);return e.forEach((t=>{const e=new cc(t,0),r=new cc(t,Number.POSITIVE_INFINITY);this.pr.forEachInRange([e,r],(t=>{n=n.add(t.mr)}))})),pi.resolve(this.Sr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;si.isDocumentKey(i)||(i=i.child(""));const s=new cc(new si(i),0);let o=new Ai(Jr);return this.pr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.mr)),!0)}),s),pi.resolve(this.Sr(o))}Sr(t){const e=[];return t.forEach((t=>{const n=this.yr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Mr(0===this.br(e.batchId,"removed")),this.mutationQueue.shift();let n=this.pr;return pi.forEach(e.mutations,(r=>{const i=new cc(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.pr=n}))}Cn(t){}containsKey(t,e){const n=new cc(e,0),r=this.pr.firstAfterOrEqual(n);return pi.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,pi.resolve()}br(t,e){return this.wr(t)}wr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}yr(t){const e=this.wr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class lc{constructor(t){this.Dr=t,this.docs=new Ii(si.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.Dr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return pi.resolve(n?n.document.mutableCopy():as.newInvalidDocument(e))}getEntries(t,e){let n=eo();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():as.newInvalidDocument(t))})),pi.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=eo();const s=e.path,o=new si(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||li(ci(o),n)<=0||(r.has(o.key)||Ks(e,o))&&(i=i.insert(o.key,o.mutableCopy()))}return pi.resolve(i)}getAllFromCollectionGroup(t,e,n,r){Pr()}vr(t,e){return pi.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new hc(this)}getSize(t){return pi.resolve(this.size)}}class hc extends nc{constructor(t){super(),this.sr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.sr.addEntry(t,r)):this.sr.removeEntry(n)})),pi.waitFor(e)}getFromCache(t,e){return this.sr.getEntry(t,e)}getAllFromCache(t,e){return this.sr.getEntries(t,e)}}class dc{constructor(t){this.persistence=t,this.Cr=new Qs((t=>Os(t)),Ls),this.lastRemoteSnapshotVersion=ti.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new ac,this.targetCount=0,this.Or=ec.xn()}forEachTarget(t,e){return this.Cr.forEach(((t,n)=>e(n))),pi.resolve()}getLastRemoteSnapshotVersion(t){return pi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pi.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),pi.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Fr&&(this.Fr=e),pi.resolve()}Ln(t){this.Cr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Or=new ec(e),this.highestTargetId=e),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,e){return this.Ln(e),this.targetCount+=1,pi.resolve()}updateTargetData(t,e){return this.Ln(e),pi.resolve()}removeTargetData(t,e){return this.Cr.delete(e.target),this.Mr.Ar(e.targetId),this.targetCount-=1,pi.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Cr.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Cr.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),pi.waitFor(i).next((()=>r))}getTargetCount(t){return pi.resolve(this.targetCount)}getTargetData(t,e){const n=this.Cr.get(e)||null;return pi.resolve(n)}addMatchingKeys(t,e,n){return this.Mr.Tr(e,n),pi.resolve()}removeMatchingKeys(t,e,n){this.Mr.dr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),pi.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Mr.Ar(e),pi.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Mr.Vr(e);return pi.resolve(n)}containsKey(t,e){return pi.resolve(this.Mr.containsKey(e))}}class fc{constructor(t,e){this.Nr={},this.overlays={},this.Br=new gi(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new dc(this),this.indexManager=new Ya,this.remoteDocumentCache=function(t){return new lc(t)}((t=>this.referenceDelegate.qr(t))),this.serializer=new Ka(e),this.Qr=new sc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new oc,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Nr[t.toKey()];return n||(n=new uc(e,this.referenceDelegate),this.Nr[t.toKey()]=n),n}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,e,n){Dr("MemoryPersistence","Starting transaction:",t);const r=new pc(this.Br.next());return this.referenceDelegate.Kr(),n(r).next((t=>this.referenceDelegate.$r(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Ur(t,e){return pi.or(Object.values(this.Nr).map((n=>()=>n.containsKey(t,e))))}}class pc extends di{constructor(t){super(),this.currentSequenceNumber=t}}class mc{constructor(t){this.persistence=t,this.Wr=new ac,this.Gr=null}static zr(t){return new mc(t)}get jr(){if(this.Gr)return this.Gr;throw Pr()}addReference(t,e,n){return this.Wr.addReference(n,e),this.jr.delete(n.toString()),pi.resolve()}removeReference(t,e,n){return this.Wr.removeReference(n,e),this.jr.add(n.toString()),pi.resolve()}markPotentiallyOrphaned(t,e){return this.jr.add(e.toString()),pi.resolve()}removeTarget(t,e){this.Wr.Ar(e.targetId).forEach((t=>this.jr.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.jr.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Kr(){this.Gr=new Set}$r(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pi.forEach(this.jr,(n=>{const r=si.fromPath(n);return this.Hr(t,r).next((t=>{t||e.removeEntry(r,ti.min())}))})).next((()=>(this.Gr=null,e.apply(t))))}updateLimboDocument(t,e){return this.Hr(t,e).next((t=>{t?this.jr.delete(e.toString()):this.jr.add(e.toString())}))}qr(t){return 0}Hr(t,e){return pi.or([()=>pi.resolve(this.Wr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ur(t,e)])}}class gc{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Li=n,this.ki=r}static qi(t,e){let n=lo(),r=lo();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new gc(t,e.fromCache,n,r)}}class vc{constructor(){this.Qi=!1}initialize(t,e){this.Ki=t,this.indexManager=e,this.Qi=!0}getDocumentsMatchingQuery(t,e,n,r){return this.$i(t,e).next((i=>i||this.Ui(t,e,r,n))).next((n=>n||this.Wi(t,e)))}$i(t,e){if(js(e))return pi.resolve(null);let n=zs(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=$s(e,null,"F"),n=zs(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=lo(...r);return this.Ki.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.Gi(e,r);return this.zi(e,s,i,n.readTime)?this.$i(t,$s(e,null,"F")):this.ji(t,s,e,n)}))))})))))}Ui(t,e,n,r){return js(e)||r.isEqual(ti.min())?this.Wi(t,e):this.Ki.getDocuments(t,n).next((i=>{const s=this.Gi(e,i);return this.zi(e,s,n,r)?this.Wi(t,e):(Rr()<=o.in.DEBUG&&Dr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zs(e)),this.ji(t,s,e,ai(r,-1)))}))}Gi(t,e){let n=new Ai(Js(t));return e.forEach(((e,r)=>{Ks(t,r)&&(n=n.add(r))})),n}zi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Wi(t,e){return Rr()<=o.in.DEBUG&&Dr("QueryEngine","Using full collection scan to execute query:",Zs(e)),this.Ki.getDocumentsMatchingQuery(t,e,ui.min())}ji(t,e,n,r){return this.Ki.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class yc{constructor(t,e,n,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Ii(Jr),this.Yi=new Qs((t=>Os(t)),Ls),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(n)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ic(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ji)))}}function _c(t,e,n,r){return new yc(t,e,n,r)}async function bc(t,e){const n=Fr(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.es(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=lo();for(const t of r){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({ts:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function wc(t){const e=Fr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.kr.getLastRemoteSnapshotVersion(t)))}function Cc(t,e,n){let r=lo(),i=lo();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=eo();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ti.min())?(e.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),r=r.insert(n,s)):Dr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{ns:r,rs:i}}))}function Ec(t,e){const n=Fr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Tc(t,e){const n=Fr(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.kr.getTargetData(t,e).next((i=>i?(r=i,pi.resolve(r)):n.kr.allocateTargetId(t).next((i=>(r=new Za(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.kr.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.Ji.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(t.targetId,t),n.Yi.set(e,t.targetId)),t}))}async function Sc(t,e,n){const r=Fr(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!mi(t))throw t;Dr("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Ic(t,e,n){const r=Fr(t);let i=ti.min(),s=lo();return r.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const r=Fr(t),i=r.Yi.get(n);return void 0!==i?pi.resolve(r.Ji.get(i)):r.kr.getTargetData(e,n)}(r,t,zs(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>r.Hi.getDocumentsMatchingQuery(t,e,n?i:ti.min(),n?s:lo()))).next((t=>(xc(r,Xs(e),t),{documents:t,ss:s})))))}function xc(t,e,n){let r=t.Zi.get(e)||ti.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.Zi.set(e,r)}class kc{constructor(){this.activeTargetIds=fo()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ac{constructor(){this.Hs=new kc,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,e,n){this.Js[t]=e}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new kc,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Rc{Ys(t){}shutdown(){}}class Dc{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){Dr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){Dr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Oc=null;function Lc(){return null===Oc?Oc=268435456+Math.round(2147483648*Math.random()):Oc++,"0x"+Oc.toString(16)}const Nc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pc{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}const Mc="WebChannelConnection";class Fc extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.To=e+"://"+t.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(t,e,n,r,i){const s=Lc(),o=this.Vo(t,e);Dr("RestConnection",`Sending RPC '${t}' ${s}:`,o,n);const a={};return this.mo(a,r,i),this.fo(t,o,a,n).then((e=>(Dr("RestConnection",`Received RPC '${t}' ${s}: `,e),e)),(e=>{throw Lr("RestConnection",`RPC '${t}' ${s} failed with error: `,e,"url: ",o,"request:",n),e}))}po(t,e,n,r,i,s){return this.Ro(t,e,n,r,i)}mo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+kr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}Vo(t,e){const n=Nc[t];return`${this.To}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}fo(t,e,n,r){const i=Lc();return new Promise(((s,o)=>{const a=new Er;a.setWithCredentials(!0),a.listenOnce(yr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case vr.NO_ERROR:const e=a.getResponseJson();Dr(Mc,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(e)),s(e);break;case vr.TIMEOUT:Dr(Mc,`RPC '${t}' ${i} timed out`),o(new Ur(jr.DEADLINE_EXCEEDED,"Request time out"));break;case vr.HTTP_ERROR:const n=a.getStatus();if(Dr(Mc,`RPC '${t}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(jr).indexOf(e)>=0?e:jr.UNKNOWN}(e.status);o(new Ur(t,e.message))}else o(new Ur(jr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ur(jr.UNAVAILABLE,"Connection failed."));break;default:Pr()}}finally{Dr(Mc,`RPC '${t}' ${i} completed.`)}}));const c=JSON.stringify(r);Dr(Mc,`RPC '${t}' ${i} sending request:`,r),a.send(e,"POST",c,n,15)}))}yo(t,e,n){const r=Lc(),i=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=mr(),o=gr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new wr({})),this.mo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Dr(Mc,`Creating RPC '${t}' stream ${r}: ${u}`,a);const l=s.createWebChannel(u,a);let h=!1,d=!1;const f=new Pc({so:e=>{d?Dr(Mc,`Not sending because RPC '${t}' stream ${r} is closed:`,e):(h||(Dr(Mc,`Opening RPC '${t}' stream ${r} transport.`),l.open(),h=!0),Dr(Mc,`RPC '${t}' stream ${r} sending:`,e),l.send(e))},oo:()=>l.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(l,Cr.EventType.OPEN,(()=>{d||Dr(Mc,`RPC '${t}' stream ${r} transport opened.`)})),p(l,Cr.EventType.CLOSE,(()=>{d||(d=!0,Dr(Mc,`RPC '${t}' stream ${r} transport closed`),f.Po())})),p(l,Cr.EventType.ERROR,(e=>{d||(d=!0,Lr(Mc,`RPC '${t}' stream ${r} transport errored:`,e),f.Po(new Ur(jr.UNAVAILABLE,"The operation could not be completed")))})),p(l,Cr.EventType.MESSAGE,(e=>{var n;if(!d){const i=e.data[0];Mr(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Dr(Mc,`RPC '${t}' stream ${r} received error:`,o);const e=o.status;let n=function(t){const e=Xo[t];if(void 0!==e)return Qo(e)}(e),i=o.message;void 0===n&&(n=jr.INTERNAL,i="Unknown error status: "+e+" with message "+o.message),d=!0,f.Po(new Ur(n,i)),l.close()}else Dr(Mc,`RPC '${t}' stream ${r} received:`,i),f.Io(i)}})),p(o,_r.STAT_EVENT,(e=>{e.stat===br.PROXY?Dr(Mc,`RPC '${t}' stream ${r} detected buffering proxy`):e.stat===br.NOPROXY&&Dr(Mc,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.ho()}),0),f}}function jc(){return"undefined"!=typeof document?document:null}function Uc(t){return new ba(t,!0)}class Bc{constructor(t,e,n=1e3,r=1.5,i=6e4){this.ii=t,this.timerId=e,this.wo=n,this.So=r,this.bo=i,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(t){this.cancel();const e=Math.floor(this.Do+this.xo()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-n);r>0&&Dr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Do} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),t()))),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){null!==this.vo&&(this.vo.skipDelay(),this.vo=null)}cancel(){null!==this.vo&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}class Vc{constructor(t,e,n,r,i,s,o,a){this.ii=t,this.No=n,this.Bo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new Bc(t,e)}Ko(){return 1===this.state||5===this.state||this.$o()}$o(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&null===this.ko&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,(()=>this.zo())))}jo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(t,e){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,4!==t?this.Qo.reset():e&&e.code===jr.RESOURCE_EXHAUSTED?(Or(e.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):e&&e.code===jr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(e)}Yo(){}auth(){this.state=1;const t=this.Zo(this.Lo),e=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.Lo===e&&this.Xo(t,n)}),(e=>{t((()=>{const t=new Ur(jr.UNKNOWN,"Fetching auth token failed: "+e.message);return this.e_(t)}))}))}Xo(t,e){const n=this.Zo(this.Lo);this.stream=this.t_(t,e),this.stream._o((()=>{n((()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,(()=>(this.$o()&&(this.state=3),Promise.resolve()))),this.listener._o())))})),this.stream.uo((t=>{n((()=>this.e_(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Uo(){this.state=5,this.Qo.Mo((async()=>{this.state=0,this.start()}))}e_(t){return Dr("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Zo(t){return e=>{this.ii.enqueueAndForget((()=>this.Lo===t?e():(Dr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hc extends Vc{constructor(t,e,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}t_(t,e){return this.connection.yo("Listen",t,e)}onMessage(t){this.Qo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Pr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(Mr(void 0===e||"string"==typeof e),Li.fromBase64String(e||"")):(Mr(void 0===e||e instanceof Uint8Array),Li.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?jr.UNKNOWN:Qo(t.code);return new Ur(e,t.message||"")}(o);n=new da(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Aa(t,r.document.name),s=Sa(r.document.updateTime),o=r.document.createTime?Sa(r.document.createTime):ti.min(),a=new ss({mapValue:{fields:r.document.fields}}),c=as.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new la(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Aa(t,r.document),s=r.readTime?Sa(r.readTime):ti.min(),o=as.newNoDocument(i,s),a=r.removedTargetIds||[];n=new la([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Aa(t,r.document),s=r.removedTargetIds||[];n=new la([],s,i,null)}else{if(!("filter"in e))return Pr();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,s=new Ko(r,i),o=t.targetId;n=new ha(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ti.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?ti.min():e.readTime?Sa(e.readTime):ti.min()}(t);return this.listener.n_(e,n)}r_(t){const e={};e.database=Oa(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=Ns(r)?{documents:Ma(t,r)}:{query:Fa(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Ea(t,e.resumeToken);const r=wa(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(ti.min())>0){n.readTime=Ca(t,e.snapshotVersion.toTimestamp());const r=wa(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pr()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.jo(e)}i_(t){const e={};e.database=Oa(this.serializer),e.removeTarget=t,this.jo(e)}}class zc extends Vc{constructor(t,e,n,r,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(t,e){return this.connection.yo("Write",t,e)}onMessage(t){if(Mr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.s_){this.Qo.reset();const e=function(t,e){return t&&t.length>0?(Mr(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Sa(t.updateTime):Sa(e);return n.isEqual(ti.min())&&(n=Sa(e)),new Ro(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Sa(t.commitTime);return this.listener.a_(n,e)}return Mr(!t.writeResults||0===t.writeResults.length),this.s_=!0,this.listener.u_()}c_(){const t={};t.database=Oa(this.serializer),this.jo(t)}__(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Pa(this.serializer,t)))};this.jo(e)}}class qc extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.l_=!1}h_(){if(this.l_)throw new Ur(jr.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(t,e,n){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.Ro(t,e,n,r,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===jr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Ur(jr.UNKNOWN,t.toString())}))}po(t,e,n,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.po(t,e,n,i,s,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===jr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Ur(jr.UNKNOWN,t.toString())}))}terminate(){this.l_=!0}}class $c{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){0===this.I_&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve()))))}V_(t){"Online"===this.state?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.A_("Offline")))}set(t){this.m_(),this.I_=0,"Online"===t&&(this.E_=!1),this.A_(t)}A_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}R_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(Or(e),this.E_=!1):Dr("OnlineStateTracker",e)}m_(){null!==this.T_&&(this.T_.cancel(),this.T_=null)}}class Gc{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=i,this.w_.Ys((t=>{n.enqueueAndForget((async()=>{eu(this)&&(Dr("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Fr(t);e.p_.add(4),await Zc(e),e.S_.set("Unknown"),e.p_.delete(4),await Wc(e)}(this))}))})),this.S_=new $c(n,r)}}async function Wc(t){if(eu(t))for(const e of t.y_)await e(!0)}async function Zc(t){for(const e of t.y_)await e(!1)}function Kc(t,e){const n=Fr(t);n.g_.has(e.targetId)||(n.g_.set(e.targetId,e),tu(n)?Qc(n):_u(n).$o()&&Jc(n,e))}function Xc(t,e){const n=Fr(t),r=_u(n);n.g_.delete(e),r.$o()&&Yc(n,e),0===n.g_.size&&(r.$o()?r.Go():eu(n)&&n.S_.set("Unknown"))}function Jc(t,e){if(t.b_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ti.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_u(t).r_(e)}function Yc(t,e){t.b_.Be(e),_u(t).i_(e)}function Qc(t){t.b_=new pa({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.g_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),_u(t).start(),t.S_.d_()}function tu(t){return eu(t)&&!_u(t).Ko()&&t.g_.size>0}function eu(t){return 0===Fr(t).p_.size}function nu(t){t.b_=void 0}async function ru(t){t.g_.forEach(((e,n)=>{Jc(t,e)}))}async function iu(t,e){nu(t),tu(t)?(t.S_.V_(e),Qc(t)):t.S_.set("Unknown")}async function su(t,e,n){if(t.S_.set("Online"),e instanceof da&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.g_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.g_.delete(r),t.b_.removeTarget(r))}(t,e)}catch(n){Dr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ou(t,n)}else if(e instanceof la?t.b_.We(e):e instanceof ha?t.b_.Ze(e):t.b_.je(e),!n.isEqual(ti.min()))try{const e=await wc(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.b_.st(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.g_.get(r);i&&t.g_.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.g_.get(e);if(!r)return;t.g_.set(e,r.withResumeToken(Li.EMPTY_BYTE_STRING,r.snapshotVersion)),Yc(t,e);const i=new Za(r.target,e,n,r.sequenceNumber);Jc(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Dr("RemoteStore","Failed to raise snapshot:",e),await ou(t,e)}}async function ou(t,e,n){if(!mi(e))throw e;t.p_.add(1),await Zc(t),t.S_.set("Offline"),n||(n=()=>wc(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Dr("RemoteStore","Retrying IndexedDB access"),await n(),t.p_.delete(1),await Wc(t)}))}function au(t,e){return e().catch((n=>ou(t,n,e)))}async function cu(t){const e=Fr(t),n=bu(e);let r=e.f_.length>0?e.f_[e.f_.length-1].batchId:-1;for(;uu(e);)try{const t=await Ec(e.localStore,r);if(null===t){0===e.f_.length&&n.Go();break}r=t.batchId,lu(e,t)}catch(t){await ou(e,t)}hu(e)&&du(e)}function uu(t){return eu(t)&&t.f_.length<10}function lu(t,e){t.f_.push(e);const n=bu(t);n.$o()&&n.o_&&n.__(e.mutations)}function hu(t){return eu(t)&&!bu(t).Ko()&&t.f_.length>0}function du(t){bu(t).start()}async function fu(t){bu(t).c_()}async function pu(t){const e=bu(t);for(const n of t.f_)e.__(n.mutations)}async function mu(t,e,n){const r=t.f_.shift(),i=Wo.from(r,e,n);await au(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await cu(t)}async function gu(t,e){e&&bu(t).o_&&await async function(t,e){if(function(t){return Yo(t)&&t!==jr.ABORTED}(e.code)){const n=t.f_.shift();bu(t).Wo(),await au(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await cu(t)}}(t,e),hu(t)&&du(t)}async function vu(t,e){const n=Fr(t);n.asyncQueue.verifyOperationInProgress(),Dr("RemoteStore","RemoteStore received new credentials");const r=eu(n);n.p_.add(3),await Zc(n),r&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.p_.delete(3),await Wc(n)}async function yu(t,e){const n=Fr(t);e?(n.p_.delete(2),await Wc(n)):e||(n.p_.add(2),await Zc(n),n.S_.set("Unknown"))}function _u(t){return t.D_||(t.D_=function(t,e,n){const r=Fr(t);return r.h_(),new Hc(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{_o:ru.bind(null,t),uo:iu.bind(null,t),n_:su.bind(null,t)}),t.y_.push((async e=>{e?(t.D_.Wo(),tu(t)?Qc(t):t.S_.set("Unknown")):(await t.D_.stop(),nu(t))}))),t.D_}function bu(t){return t.v_||(t.v_=function(t,e,n){const r=Fr(t);return r.h_(),new zc(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{_o:fu.bind(null,t),uo:gu.bind(null,t),u_:pu.bind(null,t),a_:mu.bind(null,t)}),t.y_.push((async e=>{e?(t.v_.Wo(),await cu(t)):(await t.v_.stop(),t.f_.length>0&&(Dr("RemoteStore",`Stopping write stream with ${t.f_.length} pending writes`),t.f_=[]))}))),t.v_}class wu{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new wu(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ur(jr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cu(t,e){if(Or("AsyncQueue",`${e}: ${t}`),mi(t))return new Ur(jr.UNAVAILABLE,`${e}: ${t}`);throw t}class Eu{constructor(t){this.comparator=t?(e,n)=>t(e,n)||si.comparator(e.key,n.key):(t,e)=>si.comparator(t.key,e.key),this.keyedMap=ro(),this.sortedSet=new Ii(this.comparator)}static emptySet(t){return new Eu(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Eu))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Eu;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class Tu{constructor(){this.C_=new Ii(si.comparator)}track(t){const e=t.doc.key,n=this.C_.get(e);n?0!==t.type&&3===n.type?this.C_=this.C_.insert(e,t):3===t.type&&1!==n.type?this.C_=this.C_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.C_=this.C_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.C_=this.C_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.C_=this.C_.remove(e):1===t.type&&2===n.type?this.C_=this.C_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.C_=this.C_.insert(e,{type:2,doc:t.doc}):Pr():this.C_=this.C_.insert(e,t)}F_(){const t=[];return this.C_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Su{constructor(t,e,n,r,i,s,o,a,c){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(t,e,n,r,i){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Su(t,e,Eu.emptySet(e),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class Iu{constructor(){this.M_=void 0,this.listeners=[]}}class xu{constructor(){this.queries=new Qs((t=>Ws(t)),Gs),this.onlineState="Unknown",this.x_=new Set}}async function ku(t,e){const n=Fr(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Iu),i)try{s.M_=await n.onListen(r)}catch(t){const n=Cu(t,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,s),s.listeners.push(e),e.O_(n.onlineState),s.M_&&e.N_(s.M_)&&Ou(n)}async function Au(t,e){const n=Fr(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ru(t,e){const n=Fr(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.N_(i)&&(r=!0);e.M_=i}}r&&Ou(n)}function Du(t,e,n){const r=Fr(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Ou(t){t.x_.forEach((t=>{t.next()}))}class Lu{constructor(t,e,n){this.query=t,this.B_=e,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=n||{}}N_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Su(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.L_?this.q_(t)&&(this.B_.next(t),e=!0):this.Q_(t,this.onlineState)&&(this.K_(t),e=!0),this.k_=t,e}onError(t){this.B_.error(t)}O_(t){this.onlineState=t;let e=!1;return this.k_&&!this.L_&&this.Q_(this.k_,t)&&(this.K_(this.k_),e=!0),e}Q_(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.U_||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}q_(t){if(t.docChanges.length>0)return!0;const e=this.k_&&this.k_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}K_(t){t=Su.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.L_=!0,this.B_.next(t)}}class Nu{constructor(t){this.key=t}}class Pu{constructor(t){this.key=t}}class Mu{constructor(t,e){this.query=t,this.Z_=e,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=lo(),this.mutatedKeys=lo(),this.ta=Js(t),this.na=new Eu(this.ta)}get ra(){return this.Z_}ia(t,e){const n=e?e.sa:new Tu,r=e?e.na:this.na;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const u=r.get(t),l=Ks(this.query,e)?e:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.oa(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.ta(l,a)>0||c&&this.ta(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{na:s,sa:n,zi:o,mutatedKeys:i}}oa(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.na;this.na=t.na,this.mutatedKeys=t.mutatedKeys;const i=t.sa.F_();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pr()}};return n(t)-n(e)}(t.type,e.type)||this.ta(t.doc,e.doc))),this._a(n);const s=e?this.aa():[],o=0===this.ea.size&&this.current?1:0,a=o!==this.X_;return this.X_=o,0!==i.length||a?{snapshot:new Su(this.query,t.na,r,i,t.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),ua:s}:{ua:s}}O_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({na:this.na,sa:new Tu,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(t){return!this.Z_.has(t)&&!!this.na.has(t)&&!this.na.get(t).hasLocalMutations}_a(t){t&&(t.addedDocuments.forEach((t=>this.Z_=this.Z_.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Z_=this.Z_.delete(t))),this.current=t.current)}aa(){if(!this.current)return[];const t=this.ea;this.ea=lo(),this.na.forEach((t=>{this.ca(t.key)&&(this.ea=this.ea.add(t.key))}));const e=[];return t.forEach((t=>{this.ea.has(t)||e.push(new Pu(t))})),this.ea.forEach((n=>{t.has(n)||e.push(new Nu(n))})),e}la(t){this.Z_=t.ss,this.ea=lo();const e=this.ia(t.documents);return this.applyChanges(e,!0)}ha(){return Su.fromInitialDocuments(this.query,this.na,this.mutatedKeys,0===this.X_,this.hasCachedResults)}}class Fu{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class ju{constructor(t){this.key=t,this.Pa=!1}}class Uu{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ia={},this.Ta=new Qs((t=>Ws(t)),Gs),this.Ea=new Map,this.da=new Set,this.Aa=new Ii(si.comparator),this.Ra=new Map,this.Va=new ac,this.ma={},this.fa=new Map,this.ga=ec.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return!0===this.pa}}async function Bu(t,e){const n=il(t);let r,i;const s=n.Ta.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ha();else{const t=await Tc(n.localStore,zs(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await Vu(n,e,r,"current"===s,t.resumeToken),n.isPrimaryClient&&Kc(n.remoteStore,t)}return i}async function Vu(t,e,n,r,i){t.ya=(e,n,r)=>async function(t,e,n,r){let i=e.view.ia(n);i.zi&&(i=await Ic(t.localStore,e.query,!1).then((({documents:t})=>e.view.ia(t,i))));const s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s);return Yu(t,e.targetId,o.ua),o.snapshot}(t,e,n,r);const s=await Ic(t.localStore,e,!0),o=new Mu(e,s.ss),a=o.ia(s.documents),c=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=o.applyChanges(a,t.isPrimaryClient,c);Yu(t,n,u.ua);const l=new Fu(e,n,o);return t.Ta.set(e,l),t.Ea.has(n)?t.Ea.get(n).push(e):t.Ea.set(n,[e]),u.snapshot}async function Hu(t,e){const n=Fr(t),r=n.Ta.get(e),i=n.Ea.get(r.targetId);if(i.length>1)return n.Ea.set(r.targetId,i.filter((t=>!Gs(t,e)))),void n.Ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Sc(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Xc(n.remoteStore,r.targetId),Xu(n,r.targetId)})).catch(fi)):(Xu(n,r.targetId),await Sc(n.localStore,r.targetId,!0))}async function zu(t,e){const n=Fr(t);try{const t=await function(t,e){const n=Fr(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];e.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.kr.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.kr.addMatchingKeys(t,s.addedDocuments,a))));let u=c.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?u=u.withResumeToken(Li.EMPTY_BYTE_STRING,ti.min()).withLastLimboFreeSnapshotVersion(ti.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,s)&&o.push(n.kr.updateTargetData(t,u))}));let a=eo(),c=lo();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(Cc(t,s,e.documentUpdates).next((t=>{a=t.ns,c=t.rs}))),!r.isEqual(ti.min())){const e=n.kr.getLastRemoteSnapshotVersion(t).next((e=>n.kr.setTargetsMetadata(t,t.currentSequenceNumber,r)));o.push(e)}return pi.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,c))).next((()=>a))})).then((t=>(n.Ji=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Ra.get(e);r&&(Mr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Pa=!0:t.modifiedDocuments.size>0?Mr(r.Pa):t.removedDocuments.size>0&&(Mr(r.Pa),r.Pa=!1))})),await el(n,t,e)}catch(t){await fi(t)}}function qu(t,e,n){const r=Fr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.Ta.forEach(((n,r)=>{const i=r.view.O_(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=Fr(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.listeners)i.O_(e)&&(r=!0)})),r&&Ou(n)}(r.eventManager,e),t.length&&r.Ia.n_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $u(t,e,n){const r=Fr(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ra.get(e),s=i&&i.key;if(s){let t=new Ii(si.comparator);t=t.insert(s,as.newNoDocument(s,ti.min()));const n=lo().add(s),i=new ca(ti.min(),new Map,new Ii(Jr),t,n);await zu(r,i),r.Aa=r.Aa.remove(s),r.Ra.delete(e),tl(r)}else await Sc(r.localStore,e,!1).then((()=>Xu(r,e,n))).catch(fi)}async function Gu(t,e){const n=Fr(t),r=e.batch.batchId;try{const t=await function(t,e){const n=Fr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=pi.resolve();return s.forEach((t=>{o=o.next((()=>r.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);Mr(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=lo();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);Ku(n,r,null),Zu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await el(n,t)}catch(t){await fi(t)}}async function Wu(t,e,n){const r=Fr(t);try{const t=await function(t,e){const n=Fr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Mr(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);Ku(r,e,n),Zu(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await el(r,t)}catch(n){await fi(n)}}function Zu(t,e){(t.fa.get(e)||[]).forEach((t=>{t.resolve()})),t.fa.delete(e)}function Ku(t,e,n){const r=Fr(t);let i=r.ma[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.ma[r.currentUser.toKey()]=i}}function Xu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ea.get(e))t.Ta.delete(r),n&&t.Ia.wa(r,n);t.Ea.delete(e),t.isPrimaryClient&&t.Va.Ar(e).forEach((e=>{t.Va.containsKey(e)||Ju(t,e)}))}function Ju(t,e){t.da.delete(e.path.canonicalString());const n=t.Aa.get(e);null!==n&&(Xc(t.remoteStore,n),t.Aa=t.Aa.remove(e),t.Ra.delete(n),tl(t))}function Yu(t,e,n){for(const r of n)r instanceof Nu?(t.Va.addReference(r.key,e),Qu(t,r)):r instanceof Pu?(Dr("SyncEngine","Document no longer in limbo: "+r.key),t.Va.removeReference(r.key,e),t.Va.containsKey(r.key)||Ju(t,r.key)):Pr()}function Qu(t,e){const n=e.key,r=n.path.canonicalString();t.Aa.get(n)||t.da.has(r)||(Dr("SyncEngine","New document in limbo: "+n),t.da.add(r),tl(t))}function tl(t){for(;t.da.size>0&&t.Aa.size<t.maxConcurrentLimboResolutions;){const e=t.da.values().next().value;t.da.delete(e);const n=new si(ni.fromString(e)),r=t.ga.next();t.Ra.set(r,new ju(n)),t.Aa=t.Aa.insert(n,r),Kc(t.remoteStore,new Za(zs(Fs(n.path)),r,"TargetPurposeLimboResolution",gi.ae))}}async function el(t,e,n){const r=Fr(t),i=[],s=[],o=[];r.Ta.isEmpty()||(r.Ta.forEach(((t,a)=>{o.push(r.ya(a,e,n).then((t=>{if((t||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){i.push(t);const e=gc.qi(a.targetId,t);s.push(e)}})))})),await Promise.all(o),r.Ia.n_(i),await async function(t,e){const n=Fr(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>pi.forEach(e,(e=>pi.forEach(e.Li,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>pi.forEach(e.ki,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!mi(t))throw t;Dr("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.Ji.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(t,i)}}}(r.localStore,s))}async function nl(t,e){const n=Fr(t);if(!n.currentUser.isEqual(e)){Dr("SyncEngine","User change. New user:",e.toKey());const t=await bc(n.localStore,e);n.currentUser=e,function(t,e){t.fa.forEach((t=>{t.forEach((t=>{t.reject(new Ur(jr.CANCELLED,e))}))})),t.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await el(n,t.ts)}}function rl(t,e){const n=Fr(t),r=n.Ra.get(e);if(r&&r.Pa)return lo().add(r.key);{let t=lo();const r=n.Ea.get(e);if(!r)return t;for(const e of r){const r=n.Ta.get(e);t=t.unionWith(r.view.ra)}return t}}function il(t){const e=Fr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$u.bind(null,e),e.Ia.n_=Ru.bind(null,e.eventManager),e.Ia.wa=Du.bind(null,e.eventManager),e}function sl(t){const e=Fr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gu.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wu.bind(null,e),e}class ol{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Uc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return _c(this.persistence,new vc,t.initialUser,this.serializer)}createPersistence(t){return new fc(mc.zr,this.serializer)}createSharedClientState(t){return new Ac}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class al{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>qu(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=nl.bind(null,this.syncEngine),await yu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new xu}createDatastore(t){const e=Uc(t.databaseInfo.databaseId),n=function(t){return new Fc(t)}(t.databaseInfo);return function(t,e,n,r){return new qc(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new Gc(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>qu(this.syncEngine,t,0)),Dc.v()?new Dc:new Rc)}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new Uu(t,e,n,r,i,s);return o&&(a.pa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Fr(t);Dr("RemoteStore","RemoteStore shutting down."),e.p_.add(5),await Zc(e),e.w_.shutdown(),e.S_.set("Unknown")}(this.remoteStore)}}class cl{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Da(this.observer.next,t)}error(t){this.observer.error?this.Da(this.observer.error,t):Or("Uncaught Error in snapshot listener:",t.toString())}va(){this.muted=!0}Da(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class ul{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=xr.UNAUTHENTICATED,this.clientId=Xr.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Dr("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Dr("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ur(jr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Cu(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function ll(t,e){t.asyncQueue.verifyOperationInProgress(),Dr("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await bc(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hl(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fl(t);Dr("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>vu(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>vu(e.remoteStore,n))),t._onlineComponents=e}function dl(t){return"FirebaseError"===t.name?t.code===jr.FAILED_PRECONDITION||t.code===jr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function fl(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Dr("FirestoreClient","Using user provided OfflineComponentProvider");try{await ll(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!dl(n))throw n;Lr("Error using user provided cache. Falling back to memory cache: "+n),await ll(t,new ol)}}else Dr("FirestoreClient","Using default OfflineComponentProvider"),await ll(t,new ol);return t._offlineComponents}async function pl(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Dr("FirestoreClient","Using user provided OnlineComponentProvider"),await hl(t,t._uninitializedComponentsProvider._online)):(Dr("FirestoreClient","Using default OnlineComponentProvider"),await hl(t,new al))),t._onlineComponents}function ml(t){return pl(t).then((t=>t.syncEngine))}async function gl(t){const e=await pl(t),n=e.eventManager;return n.onListen=Bu.bind(null,e.syncEngine),n.onUnlisten=Hu.bind(null,e.syncEngine),n}function vl(t,e,n={}){const r=new Br;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new cl({next:s=>{e.enqueueAndForget((()=>Au(t,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ur(jr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ur(jr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),o=new Lu(Fs(n.path),s,{includeMetadataChanges:!0,U_:!0});return ku(t,o)}(await gl(t),t.asyncQueue,e,n,r))),r.promise}function yl(t,e,n={}){const r=new Br;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new cl({next:n=>{e.enqueueAndForget((()=>Au(t,o))),n.fromCache&&"server"===r.source?i.reject(new Ur(jr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new Lu(n,s,{includeMetadataChanges:!0,U_:!0});return ku(t,o)}(await gl(t),t.asyncQueue,e,n,r))),r.promise}function _l(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const bl=new Map;function wl(t,e,n){if(!n)throw new Ur(jr.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Cl(t){if(!si.isDocumentKey(t))throw new Ur(jr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function El(t){if(si.isDocumentKey(t))throw new Ur(jr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tl(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Pr()}function Sl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ur(jr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tl(t);throw new Ur(jr.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Il(t,e){if(e<=0)throw new Ur(jr.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class xl{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Ur(jr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ur(jr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new Ur(jr.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_l(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Ur(jr.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new Ur(jr.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new Ur(jr.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kl{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ur(jr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ur(jr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xl(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Hr;switch(t.type){case"firstParty":return new Gr(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ur(jr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=bl.get(t);e&&(Dr("ComponentProvider","Removing Datastore"),bl.delete(t),e.terminate())}(this),Promise.resolve()}}class Al{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Al(this.firestore,t,this._query)}}class Rl{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rl(this.firestore,t,this._key)}}class Dl extends Al{constructor(t,e,n){super(t,e,Fs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rl(this.firestore,null,new si(t))}withConverter(t){return new Dl(this.firestore,t,this._path)}}function Ol(t,e,...n){if(t=(0,a.m9)(t),wl("collection","path",e),t instanceof kl){const r=ni.fromString(e,...n);return El(r),new Dl(t,null,r)}{if(!(t instanceof Rl||t instanceof Dl))throw new Ur(jr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ni.fromString(e,...n));return El(r),new Dl(t.firestore,null,r)}}function Ll(t,e,...n){if(t=(0,a.m9)(t),1===arguments.length&&(e=Xr.V()),wl("doc","path",e),t instanceof kl){const r=ni.fromString(e,...n);return Cl(r),new Rl(t,null,new si(r))}{if(!(t instanceof Rl||t instanceof Dl))throw new Ur(jr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ni.fromString(e,...n));return Cl(r),new Rl(t.firestore,t instanceof Dl?t.converter:null,new si(r))}}class Nl{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new Bc(this,"async_queue_retry"),this.Za=()=>{const t=jc();t&&Dr("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Qo.Oo()};const t=jc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Xa(),this.eu(t)}enterRestrictedMode(t){if(!this.Ga){this.Ga=!0,this.Ja=t||!1;const e=jc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Za)}}enqueue(t){if(this.Xa(),this.Ga)return new Promise((()=>{}));const e=new Br;return this.eu((()=>this.Ga&&this.Ja?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Wa.push(t),this.tu())))}async tu(){if(0!==this.Wa.length){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(t){if(!mi(t))throw t;Dr("AsyncQueue","Operation failed with retryable error: "+t)}this.Wa.length>0&&this.Qo.Mo((()=>this.tu()))}}eu(t){const e=this.Ua.then((()=>(this.Ha=!0,t().catch((t=>{this.ja=t,this.Ha=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Or("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Ha=!1,t))))));return this.Ua=e,e}enqueueAfterDelay(t,e,n){this.Xa(),this.Ya.indexOf(t)>-1&&(e=0);const r=wu.createAndSchedule(this,t,e,n,(t=>this.nu(t)));return this.za.push(r),r}Xa(){this.ja&&Pr()}verifyOperationInProgress(){}async ru(){let t;do{t=this.Ua,await t}while(t!==this.Ua)}iu(t){for(const e of this.za)if(e.timerId===t)return!0;return!1}su(t){return this.ru().then((()=>{this.za.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.za)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ru()}))}ou(t){this.Ya.push(t)}nu(t){const e=this.za.indexOf(t);this.za.splice(e,1)}}function Pl(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Ml extends kl{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Nl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ul(this),this._firestoreClient.terminate()}}function Fl(t,e){const n="object"==typeof t?t:(0,i.Mq)(),r="string"==typeof t?t:e||"(default)",s=(0,i.qX)(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const t=(0,a.P0)("firestore");t&&function(t,e,n,r={}){var i;const s=(t=Sl(t,kl))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=xr.MOCK_USER;else{e=(0,a.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ur(jr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new xr(s)}t._authCredentials=new zr(new Vr(e,n))}}(s,...t)}return s}function jl(t){return t._firestoreClient||Ul(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ul(t){var e,n,r;const i=t._freezeSettings(),s=function(t,e,n,r){return new Vi(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_l(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ul(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Bl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bl(Li.fromBase64String(t))}catch(t){throw new Ur(jr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Bl(Li.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Vl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ur(jr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ii(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hl{constructor(t){this._methodName=t}}class zl{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ur(jr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ur(jr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Jr(this._lat,t._lat)||Jr(this._long,t._long)}}const ql=/^__.*__$/;class $l{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Bo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Uo(t,this.data,e,this.fieldTransforms)}}class Gl{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Bo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Wl(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pr()}}class Zl{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._u(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(t){return new Zl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.uu({path:n,lu:!1});return r.hu(t),r}Pu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.uu({path:n,lu:!1});return r._u(),r}Iu(t){return this.uu({path:void 0,lu:!0})}Tu(t){return lh(t,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}_u(){if(this.path)for(let t=0;t<this.path.length;t++)this.hu(this.path.get(t))}hu(t){if(0===t.length)throw this.Tu("Document fields must not be empty");if(Wl(this.au)&&ql.test(t))throw this.Tu('Document fields cannot begin and end with "__"')}}class Kl{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Uc(t)}Au(t,e,n,r=!1){return new Zl({au:t,methodName:e,du:n,path:ii.emptyPath(),lu:!1,Eu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xl(t){const e=t._freezeSettings(),n=Uc(t._databaseId);return new Kl(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jl(t,e,n,r,i,s={}){const o=t.Au(s.merge||s.mergeFields?2:0,e,n,i);oh("Data must be an object, but it was:",o,r);const a=ih(r,o);let c,u;if(s.merge)c=new Di(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=ah(e,r,n);if(!o.contains(i))throw new Ur(jr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);hh(t,i)||t.push(i)}c=new Di(t),u=o.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,u=o.fieldTransforms;return new $l(new ss(a),c,u)}class Yl extends Hl{_toFieldTransform(t){if(2!==t.au)throw 1===t.au?t.Tu(`${this._methodName}() can only appear at the top level of your update data`):t.Tu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yl}}class Ql extends Hl{_toFieldTransform(t){return new Ao(t.path,new wo)}isEqual(t){return t instanceof Ql}}function th(t,e,n,r){const i=t.Au(1,e,n);oh("Data must be an object, but it was:",i,r);const s=[],o=ss.empty();Ti(r,((t,r)=>{const c=uh(e,t,n);r=(0,a.m9)(r);const u=i.Pu(c);if(r instanceof Yl)s.push(c);else{const t=rh(r,u);null!=t&&(s.push(c),o.set(c,t))}}));const c=new Di(s);return new Gl(o,c,i.fieldTransforms)}function eh(t,e,n,r,i,s){const o=t.Au(1,e,n),c=[ah(e,r,n)],u=[i];if(s.length%2!=0)throw new Ur(jr.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<s.length;a+=2)c.push(ah(e,s[a])),u.push(s[a+1]);const l=[],h=ss.empty();for(let f=c.length-1;f>=0;--f)if(!hh(l,c[f])){const t=c[f];let e=u[f];e=(0,a.m9)(e);const n=o.Pu(t);if(e instanceof Yl)l.push(t);else{const r=rh(e,n);null!=r&&(l.push(t),h.set(t,r))}}const d=new Di(l);return new Gl(h,d,o.fieldTransforms)}function nh(t,e,n,r=!1){return rh(n,t.Au(r?4:3,e))}function rh(t,e){if(sh(t=(0,a.m9)(t)))return oh("Unsupported field value:",e,t),ih(t,e);if(t instanceof Hl)return function(t,e){if(!Wl(e.au))throw e.Tu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Tu(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.lu&&4!==e.au)throw e.Tu("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=rh(i,e.Iu(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,a.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return go(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Qr.fromDate(t);return{timestampValue:Ca(e.serializer,n)}}if(t instanceof Qr){const n=new Qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ca(e.serializer,n)}}if(t instanceof zl)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bl)return{bytesValue:Ea(e.serializer,t._byteString)};if(t instanceof Rl){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Tu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ia(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Tu(`Unsupported field value: ${Tl(t)}`)}(t,e)}function ih(t,e){const n={};return Si(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(t,((t,r)=>{const i=rh(r,e.cu(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function sh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qr||t instanceof zl||t instanceof Bl||t instanceof Rl||t instanceof Hl)}function oh(t,e,n){if(!sh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=Tl(n);throw"an object"===r?e.Tu(t+" a custom object"):e.Tu(t+" "+r)}}function ah(t,e,n){if((e=(0,a.m9)(e))instanceof Vl)return e._internalPath;if("string"==typeof e)return uh(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const ch=new RegExp("[~\\*/\\[\\]]");function uh(t,e,n){if(e.search(ch)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vl(...e.split("."))._internalPath}catch(b){throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Ur(jr.INVALID_ARGUMENT,a+t+c)}function hh(t,e){return t.some((t=>t.isEqual(e)))}class dh{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new fh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ph("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class fh extends dh{data(){return super.data()}}function ph(t,e){return"string"==typeof e?uh(t,e):e instanceof Vl?e._internalPath:e._delegate._internalPath}function mh(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Ur(jr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gh{}class vh extends gh{}function yh(t,e,...n){let r=[];e instanceof gh&&r.push(e),r=r.concat(n),function(t){const e=t.filter((t=>t instanceof wh)).length,n=t.filter((t=>t instanceof _h)).length;if(e>1||e>0&&n>0)throw new Ur(jr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _h extends vh{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new _h(t,e,n)}_apply(t){const e=this._parse(t);return kh(t._query,e),new Al(t.firestore,t.converter,qs(t._query,e))}_parse(t){const e=Xl(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ur(jr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){xh(o,s);const e=[];for(const n of o)e.push(Ih(r,t,n));a={arrayValue:{values:e}}}else a=Ih(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||xh(o,s),a=nh(n,e,o,"in"===s||"not-in"===s);return ps.create(i,s,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function bh(t,e,n){const r=e,i=ph("where",t);return _h._create(i,r,n)}class wh extends gh{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new wh(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:ms.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const i of r)kh(n,i),n=qs(n,i)}(t._query,e),new Al(t.firestore,t.converter,qs(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ch extends vh{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Ch(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Ur(jr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ur(jr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new hs(e,n);return function(t,e){if(null===Us(t)){const n=Bs(t);null!==n&&Ah(t,n,e.field)}}(t,r),r}(t._query,this._field,this._direction);return new Al(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Ps(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Eh(t,e="asc"){const n=e,r=ph("orderBy",t);return Ch._create(r,n)}class Th extends vh{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new Th(t,e,n)}_apply(t){return new Al(t.firestore,t.converter,$s(t._query,this._limit,this._limitType))}}function Sh(t){return Il("limit",t),Th._create("limit",t,"F")}function Ih(t,e,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new Ur(jr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vs(e)&&-1!==n.indexOf("/"))throw new Ur(jr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ni.fromString(n));if(!si.isDocumentKey(r))throw new Ur(jr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ji(t,new si(r))}if(n instanceof Rl)return Ji(t,n._key);throw new Ur(jr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tl(n)}.`)}function xh(t,e){if(!Array.isArray(t)||0===t.length)throw new Ur(jr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kh(t,e){if(e.isInequality()){const n=Bs(t),r=e.field;if(null!==n&&!n.isEqual(r))throw new Ur(jr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=Us(t);null!==i&&Ah(t,r,i)}const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Ur(jr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ur(jr.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Ah(t,e,n){if(!n.isEqual(e))throw new Ur(jr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Rh{convertValue(t,e="none"){switch(qi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Fi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Pr()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Ti(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new zl(Mi(t.latitude),Mi(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Ui(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Bi(t));default:return null}}convertTimestamp(t){const e=Pi(t);return new Qr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=ni.fromString(t);Mr(Wa(n));const r=new Hi(n.get(1),n.get(3)),i=new si(n.popFirst(5));return r.isEqual(e)||Or(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function Dh(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Oh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lh extends dh{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(ph("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Nh extends Lh{data(t={}){return super.data(t)}}class Ph{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Oh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Nh(this._firestore,this._userDataWriter,n.key,n,new Oh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ur(jr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new Nh(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Oh(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new Nh(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Oh(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Mh(e.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Mh(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pr()}}function Fh(t){t=Sl(t,Rl);const e=Sl(t.firestore,Ml);return vl(jl(e),t._key).then((n=>Gh(e,t,n)))}class jh extends Rh{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rl(this.firestore,null,e)}}function Uh(t){t=Sl(t,Al);const e=Sl(t.firestore,Ml),n=jl(e),r=new jh(e);return mh(t._query),yl(n,t._query).then((n=>new Ph(e,r,t,n)))}function Bh(t,e,n){t=Sl(t,Rl);const r=Sl(t.firestore,Ml),i=Dh(t.converter,e,n);return $h(r,[Jl(Xl(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Do.none())])}function Vh(t,e,n,...r){t=Sl(t,Rl);const i=Sl(t.firestore,Ml),s=Xl(i);let o;return o="string"==typeof(e=(0,a.m9)(e))||e instanceof Vl?eh(s,"updateDoc",t._key,e,n,r):th(s,"updateDoc",t._key,e),$h(i,[o.toMutation(t._key,Do.exists(!0))])}function Hh(t){return $h(Sl(t.firestore,Ml),[new qo(t._key,Do.none())])}function zh(t,e){const n=Sl(t.firestore,Ml),r=Ll(t),i=Dh(t.converter,e);return $h(n,[Jl(Xl(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Do.exists(!1))]).then((()=>r))}function qh(t,...e){var n,r,i;t=(0,a.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Pl(e[o])||(s=e[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges};if(Pl(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[o+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let u,l,h;if(t instanceof Rl)l=Sl(t.firestore,Ml),h=Fs(t._key.path),u={next:n=>{e[o]&&e[o](Gh(l,t,n))},error:e[o+1],complete:e[o+2]};else{const n=Sl(t,Al);l=Sl(n.firestore,Ml),h=n._query;const r=new jh(l);u={next:t=>{e[o]&&e[o](new Ph(l,r,n,t))},error:e[o+1],complete:e[o+2]},mh(t._query)}return function(t,e,n,r){const i=new cl(r),s=new Lu(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>ku(await gl(t),s))),()=>{i.va(),t.asyncQueue.enqueueAndForget((async()=>Au(await gl(t),s)))}}(jl(l),h,c,u)}function $h(t,e){return function(t,e){const n=new Br;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=sl(t);try{const t=await function(t,e){const n=Fr(t),r=Qr.now(),i=e.reduce(((t,e)=>t.add(e.key)),lo());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=eo(),c=lo();return n.Xi.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(c=c.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((i=>{s=i;const o=[];for(const t of e){const e=Fo(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new Bo(t.key,e,os(e.value.mapValue),Do.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,o,e)})).next((e=>{o=e;const r=e.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:io(s)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.ma[t.currentUser.toKey()];r||(r=new Ii(Jr)),r=r.insert(e,n),t.ma[t.currentUser.toKey()]=r}(r,t.batchId,n),await el(r,t.changes),await cu(r.remoteStore)}catch(t){const e=Cu(t,"Failed to persist write");n.reject(e)}}(await ml(t),e,n))),n.promise}(jl(t),e)}function Gh(t,e,n){const r=n.docs.get(e._key),i=new jh(t);return new Lh(t,i,e._key,r,new Oh(n.hasPendingWrites,n.fromCache),e.converter)}function Wh(){return new Ql("serverTimestamp")}!function(t,e=!0){!function(t){kr=t}(i.Jn),(0,i.Xd)(new s.wA("firestore",((t,{instanceIdentifier:n,options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Ml(new qr(t.getProvider("auth-internal")),new Zr(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ur(jr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hi(t.options.projectId,e)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),(0,i.KN)(Ir,"4.0.0",t),(0,i.KN)(Ir,"4.0.0","esm2017")}()},1540:function(t,e,n){"use strict";n.d(e,{oq:function(){return bt},cF:function(){return Ct},iH:function(){return wt},KV:function(){return _t}});var r=n(5500),i=n(3395),s=n(6387);const o="firebasestorage.googleapis.com";class a extends i.ZR{constructor(t,e,n=0){super(l(t),`Firebase Storage: ${e} (${l(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return l(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var c,u;function l(t){return"storage/"+t}function h(){return new a(c.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function d(){return new a(c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new a(c.CANCELED,"User canceled the upload/download.")}function p(){return new a(c.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m(t){return new a(c.INVALID_ARGUMENT,t)}function g(){return new a(c.APP_DELETED,"The Firebase app was deleted.")}function v(t,e){return new a(c.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function y(t){throw new a(c.INTERNAL_ERROR,"Internal error: "+t)}!function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(c||(c={}));class _{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=_.makeFromUrl(t,e)}catch(i){return new _(t,"")}if(""===n.path)return n;throw r=t,new a(c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(t,e){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const u=e.replace(/[.]/g,"\\."),l=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${u}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${e===o?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let o=0;o<l.length;o++){const e=l[o],r=e.regex.exec(t);if(r){const t=r[e.indices.bucket];let i=r[e.indices.path];i||(i=""),n=new _(t,i),e.postModify(n);break}}if(null==n)throw function(t){return new a(c.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return n}}class b{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function w(t){return"string"===typeof t||t instanceof String}function C(t){return E()&&t instanceof Blob}function E(){return"undefined"!==typeof Blob&&!(0,i.UG)()}function T(t,e,n,r){if(r<e)throw m(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw m(`Invalid value for '${t}'. Expected ${n} or less.`)}function S(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function I(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1),n}function x(t,e){const n=t>=500&&t<600,r=-1!==[408,429].indexOf(t),i=-1!==e.indexOf(t);return n||r||i}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(u||(u={}));class k{constructor(t,e,n,r,i,s,o,a,c,u,l,h=!0){this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=l,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{if(e)return void t(!1,new A(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const e=n.getErrorCode()===u.NO_ERROR,i=n.getStatus();if(!e||x(i,this.additionalRetryCodes_)&&this.retry){const e=n.getErrorCode()===u.ABORT;return void t(!1,new A(!1,null,e))}const s=-1!==this.successCodes_.indexOf(i);t(!0,new A(s,n))}))},e=(t,e)=>{const n=this.resolve_,r=this.reject_,i=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(i,i.getResponse());void 0!==t?n(t):n()}catch(s){r(s)}else if(null!==i){const t=h();t.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,t)):r(t)}else if(e.canceled){r(this.appDelete_?g():f())}else{r(d())}};this.canceled_?e(0,new A(!1,null,!0)):this.backoffId_=function(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let u=!1;function l(...t){u||(u=!0,e.apply(null,t))}function h(e){i=setTimeout((()=>{i=null,t(f,c())}),e)}function d(){s&&clearTimeout(s)}function f(t,...e){if(u)return void d();if(t)return d(),void l.call(null,t,...e);if(c()||o)return d(),void l.call(null,t,...e);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(t){p||(p=!0,d(),u||(null!==i?(t||(a=2),clearTimeout(i),h(0)):t||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class A{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function R(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function D(...t){const e=R();if(void 0!==e){const n=new e;for(let e=0;e<t.length;e++)n.append(t[e]);return n.getBlob()}if(E())return new Blob(t);throw new a(c.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function O(t){if("undefined"===typeof atob)throw e="base-64",new a(c.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var e;return atob(t)}const L="raw",N="base64",P="base64url",M="data_url";class F{constructor(t,e){this.data=t,this.contentType=e||null}}function j(t,e){switch(t){case L:return new F(U(e));case N:case P:return new F(B(t,e));case M:return new F(function(t){const e=new V(t);return e.base64?B(N,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(n){throw v(M,"Malformed data URL.")}return U(e)}(e.rest)}(e),new V(e).contentType)}throw h()}function U(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function B(t,e){switch(t){case N:{const n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){throw v(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case P:{const n=-1!==e.indexOf("+"),r=-1!==e.indexOf("/");if(n||r){throw v(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=O(e)}catch(i){if(i.message.includes("polyfill"))throw i;throw v(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class V{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw v(M,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;null!=n&&(this.base64=function(t,e){if(!(t.length>=e.length))return!1;return t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}class H{constructor(t,e){let n=0,r="";C(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(C(this.data_)){const n=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,t,e);return null===n?null:new H(n)}{const n=new Uint8Array(this.data_.buffer,t,e-t);return new H(n,!0)}}static getBlob(...t){if(E()){const e=t.map((t=>t instanceof H?t.data_:t));return new H(D.apply(null,e))}{const e=t.map((t=>w(t)?j(L,t).data:t.data_));let n=0;e.forEach((t=>{n+=t.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((t=>{for(let e=0;e<t.length;e++)r[i++]=t[e]})),new H(r,!0)}}uploadData(){return this.data_}}function z(t){let e;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e;var n}function q(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function $(t,e){return e}class G{constructor(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||$}}let W=null;function Z(){if(W)return W;const t=[];t.push(new G("bucket")),t.push(new G("generation")),t.push(new G("metageneration")),t.push(new G("name","fullPath",!0));const e=new G("name");e.xform=function(t,e){return function(t){return!w(t)||t.length<2?t:q(t)}(e)},t.push(e);const n=new G("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new G("timeCreated")),t.push(new G("updated")),t.push(new G("md5Hash",null,!0)),t.push(new G("cacheControl",null,!0)),t.push(new G("contentDisposition",null,!0)),t.push(new G("contentEncoding",null,!0)),t.push(new G("contentLanguage",null,!0)),t.push(new G("contentType",null,!0)),t.push(new G("metadata","customMetadata",!0)),W=t,W}function K(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const t=n[s];r[t.local]=t.xform(r,e[t.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=t.bucket,r=t.fullPath,i=new _(n,r);return e._makeStorageReference(i)}})}(r,t),r}function X(t,e,n){const r=z(e);if(null===r)return null;return K(t,r,n)}function J(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const r=e[i];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class Y{constructor(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Q(t){if(!t)throw h()}function tt(t,e){return function(n,r){const i=X(t,r,e);return Q(null!==i),i}}function et(t){return function(e,n){let r;var i,s;return 401===e.getStatus()?r=e.getErrorText().includes("Firebase App Check token is invalid")?new a(c.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new a(c.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(s=t.bucket,r=new a(c.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new a(c.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=e.getStatus(),r.serverResponse=n.serverResponse,r}}function nt(t){const e=et(t);return function(n,r){let i=e(n,r);var s;return 404===n.getStatus()&&(s=t.path,i=new a(c.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function rt(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}function it(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const c=rt(e,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+J(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=H.getBlob(u,r,l);if(null===h)throw p();const d={name:c.fullPath},f=S(s,t.host,t._protocol),m=t.maxUploadRetryTime,g=new Y(f,"POST",tt(t,n),m);return g.urlParams=d,g.headers=o,g.body=h.uploadData(),g.errorHandler=et(e),g}class st{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=u.NO_ERROR,this.sendPromise_=new Promise((t=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=u.ABORT,t()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=u.NETWORK_ERROR,t()})),this.xhr_.addEventListener("load",(()=>{t()}))}))}send(t,e,n,r){if(this.sent_)throw y("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw y("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw y("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw y("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw y("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class ot extends st{initXhr(){this.xhr_.responseType="text"}}function at(){return new ot}class ct{constructor(t,e){this._service=t,this._location=e instanceof _?e:_.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new ct(t,e)}get root(){const t=new _(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new _(this._location.bucket,t);return new ct(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new a(c.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function ut(t,e,n){t._throwIfRoot("uploadBytes");const r=it(t.storage,t._location,Z(),new H(e,!0),n);return t.storage.makeRequestWithTokens(r,at).then((e=>({metadata:e,ref:t})))}function lt(t){t._throwIfRoot("deleteObject");const e=function(t,e){const n=S(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,i=new Y(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=nt(e),i}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,at)}function ht(t,e){const n=function(t,e){const n=e.split("/").filter((t=>t.length>0)).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new _(t._location.bucket,n);return new ct(t.storage,r)}function dt(t,e){if(t instanceof mt){const n=t;if(null==n._bucket)throw new a(c.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new ct(n,n._bucket);return null!=e?dt(r,e):r}return void 0!==e?ht(t,e):t}function ft(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof mt)return new ct(t,e);throw m("To use ref(service, url), the first argument must be a Storage instance.")}return dt(t,e)}function pt(t,e){const n=null===e||void 0===e?void 0:e.storageBucket;return null==n?null:_.makeFromBucketSpec(n,t)}class mt{constructor(t,e,n,r,i){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=o,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_.makeFromBucketSpec(r,this._host):pt(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=_.makeFromBucketSpec(this._url,t):this._bucket=pt(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){T("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){T("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ct(this,t)}_makeRequest(t,e,n,r,i=!0){if(this._deleted)return new b(g());{const s=function(t,e,n,r,i,s,o=!0){const a=I(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(u,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new k(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(t,this._appId,n,r,e,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(t,e){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()}}const gt="@firebase/storage",vt="0.11.2",yt="storage";function _t(t,e,n){return ut(t=(0,i.m9)(t),e,n)}function bt(t){return lt(t=(0,i.m9)(t))}function wt(t,e){return ft(t=(0,i.m9)(t),e)}function Ct(t=(0,r.Mq)(),e){t=(0,i.m9)(t);const n=(0,r.qX)(t,yt).getImmediate({identifier:e}),s=(0,i.P0)("storage");return s&&function(t,e,n,r={}){!function(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken="string"===typeof s?s:(0,i.Sg)(s,t.app.options.projectId))}(t,e,n,r)}(n,...s),n}function Et(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new mt(n,i,s,e,r.Jn)}(0,r.Xd)(new s.wA(yt,Et,"PUBLIC").setMultipleInstances(!0)),(0,r.KN)(gt,vt,""),(0,r.KN)(gt,vt,"esm2017")},3422:function(t,e,n){"use strict";n.d(e,{p:function(){return r}});const r=(0,n(2784).createContext)({})},7967:function(t,e,n){"use strict";n.d(e,{O:function(){return r}});const r=(0,n(2784).createContext)(null)},5403:function(t,e,n){"use strict";n.d(e,{w:function(){return r}});const r={delta:0,timestamp:0,isProcessing:!1}},1816:function(t,e,n){"use strict";n.d(e,{Pn:function(){return h},Wi:function(){return l},S6:function(){return a}});var r=n(5403);let i=!0,s=!1;const o=["read","update","preRender","render","postRender"],a=o.reduce(((t,e)=>(t[e]=function(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(t,s=!1,a=!1)=>{const c=a&&i,u=c?e:n;return s&&o.add(t),-1===u.indexOf(t)&&(u.push(t),c&&i&&(r=e.length)),t},cancel:t=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1),o.delete(t)},process:c=>{if(i)s=!0;else{if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let n=0;n<r;n++){const r=e[n];r(c),o.has(r)&&(a.schedule(r),t())}i=!1,s&&(s=!1,a.process(c))}}};return a}((()=>s=!0)),t)),{}),c=t=>a[t].process(r.w),u=t=>{s=!1,r.w.delta=i?1e3/60:Math.max(Math.min(t-r.w.timestamp,40),1),r.w.timestamp=t,r.w.isProcessing=!0,o.forEach(c),r.w.isProcessing=!1,s&&(i=!1,requestAnimationFrame(u))},l=o.reduce(((t,e)=>{const n=a[e];return t[e]=(t,e=!1,o=!1)=>(s||(s=!0,i=!0,r.w.isProcessing||requestAnimationFrame(u)),n.schedule(t,e,o)),t}),{});function h(t){o.forEach((e=>a[e].cancel(t)))}},3125:function(t,e,n){"use strict";n.d(e,{E:function(){return Ms}});var r=n(2784);const i=(0,r.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),s=(0,r.createContext)({});var o=n(7967),a=n(3617);const c=(0,r.createContext)({strict:!1});function u(t){return"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function l(t){return"string"===typeof t||Array.isArray(t)}function h(t){return"object"===typeof t&&"function"===typeof t.start}const d=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f=["initial",...d];function p(t){return h(t.animate)||f.some((e=>l(t[e])))}function m(t){return Boolean(p(t)||t.variants)}function g(t){const{initial:e,animate:n}=function(t,e){if(p(t)){const{initial:e,animate:n}=t;return{initial:!1===e||l(e)?e:void 0,animate:l(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,r.useContext)(s));return(0,r.useMemo)((()=>({initial:e,animate:n})),[v(e),v(n)])}function v(t){return Array.isArray(t)?t.join(" "):t}const y={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_={};for(const js in y)_[js]={isEnabled:t=>y[js].some((e=>!!t[e]))};var b=n(3791),w=n(3422);const C=(0,r.createContext)({}),E=Symbol.for("motionComponentSymbol");function T({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:l,Component:h}){t&&function(t){for(const e in t)_[e]={..._[e],...t[e]}}(t);const d=(0,r.forwardRef)((function(d,f){let p;const m={...(0,r.useContext)(i),...d,layoutId:S(d)},{isStatic:v}=m,y=g(d),_=l(d,v);if(!v&&b.j){y.visualElement=function(t,e,n,u){const{visualElement:l}=(0,r.useContext)(s),h=(0,r.useContext)(c),d=(0,r.useContext)(o.O),f=(0,r.useContext)(i).reducedMotion,p=(0,r.useRef)();u=u||h.renderer,!p.current&&u&&(p.current=u(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:f}));const m=p.current;return(0,r.useInsertionEffect)((()=>{m&&m.update(n,d)})),(0,a.L)((()=>{m&&m.render()})),(0,r.useEffect)((()=>{m&&m.updateFeatures()})),(window.HandoffAppearAnimations?a.L:r.useEffect)((()=>{m&&m.animationState&&m.animationState.animateChanges()})),m}(h,_,m,e);const n=(0,r.useContext)(C),u=(0,r.useContext)(c).strict;y.visualElement&&(p=y.visualElement.loadFeatures(m,u,t,n))}return r.createElement(s.Provider,{value:y},p&&y.visualElement?r.createElement(p,{visualElement:y.visualElement,...m}):null,n(h,d,function(t,e,n){return(0,r.useCallback)((r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&("function"===typeof n?n(r):u(n)&&(n.current=r))}),[e])}(_,y.visualElement,f),_,v,y.visualElement))}));return d[E]=h,d}function S({layoutId:t}){const e=(0,r.useContext)(w.p).id;return e&&void 0!==t?e+"-"+t:t}function I(t){function e(e,n={}){return T(t(e,n))}if("undefined"===typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const x=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function k(t){return"string"===typeof t&&!t.includes("-")&&!!(x.indexOf(t)>-1||/[A-Z]/.test(t))}const A={};const R=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],D=new Set(R);function O(t,{layout:e,layoutId:n}){return D.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!A[t]||"opacity"===t)}const L=t=>Boolean(t&&t.getVelocity),N={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},P=R.length;const M=t=>e=>"string"===typeof e&&e.startsWith(t),F=M("--"),j=M("var(--"),U=(t,e)=>e&&"number"===typeof t?e.transform(t):t,B=(t,e,n)=>Math.min(Math.max(n,t),e),V={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},H={...V,transform:t=>B(0,1,t)},z={...V,default:1},q=t=>Math.round(1e5*t)/1e5,$=/(-)?([\d]*\.?[\d])+/g,G=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,W=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Z(t){return"string"===typeof t}const K=t=>({test:e=>Z(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),X=K("deg"),J=K("%"),Y=K("px"),Q=K("vh"),tt=K("vw"),et={...J,parse:t=>J.parse(t)/100,transform:t=>J.transform(100*t)},nt={...V,transform:Math.round},rt={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,size:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,rotate:X,rotateX:X,rotateY:X,rotateZ:X,scale:z,scaleX:z,scaleY:z,scaleZ:z,skew:X,skewX:X,skewY:X,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:H,originX:et,originY:et,originZ:Y,zIndex:nt,fillOpacity:H,strokeOpacity:H,numOctaves:nt};function it(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let c=!1,u=!1,l=!0;for(const h in e){const t=e[h];if(F(h)){s[h]=t;continue}const n=rt[h],r=U(t,n);if(D.has(h)){if(c=!0,o[h]=r,!l)continue;t!==(n.default||0)&&(l=!1)}else h.startsWith("origin")?(u=!0,a[h]=r):i[h]=r}if(e.transform||(c||r?i.transform=function(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<P;o++){const e=R[o];void 0!==t[e]&&(s+=`${N[e]||e}(${t[e]}) `)}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}(t.transform,n,l,r):i.transform&&(i.transform="none")),u){const{originX:t="50%",originY:e="50%",originZ:n=0}=a;i.transformOrigin=`${t} ${e} ${n}`}}const st=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ot(t,e,n){for(const r in e)L(e[r])||O(r,n)||(t[r]=e[r])}function at(t,e,n){const i={};return ot(i,t.style||{},t),Object.assign(i,function({transformTemplate:t},e,n){return(0,r.useMemo)((()=>{const r={style:{},transform:{},transformOrigin:{},vars:{}};return it(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)}),[e])}(t,e,n)),t.transformValues?t.transformValues(i):i}function ct(t,e,n){const r={},i=at(t,e,n);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const ut=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function lt(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||ut.has(t)}let ht=t=>!lt(t);try{(dt=require("@emotion/is-prop-valid").default)&&(ht=t=>t.startsWith("on")?!lt(t):dt(t))}catch(Fs){}var dt;function ft(t,e,n){return"string"===typeof t?t:Y.transform(e+n*t)}const pt={offset:"stroke-dashoffset",array:"stroke-dasharray"},mt={offset:"strokeDashoffset",array:"strokeDasharray"};function gt(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},l,h,d){if(it(t,u,l,d),h)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==i||void 0!==s||p.transform)&&(p.transformOrigin=function(t,e,n){return`${ft(e,t.x,t.width)} ${ft(n,t.y,t.height)}`}(m,void 0!==i?i:.5,void 0!==s?s:.5)),void 0!==e&&(f.x=e),void 0!==n&&(f.y=n),void 0!==r&&(f.scale=r),void 0!==o&&function(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?pt:mt;t[s.offset]=Y.transform(-r);const o=Y.transform(e),a=Y.transform(n);t[s.array]=`${o} ${a}`}(f,o,a,c,!1)}const vt=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),yt=t=>"string"===typeof t&&"svg"===t.toLowerCase();function _t(t,e,n,i){const s=(0,r.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return gt(n,e,{enableHardwareAcceleration:!1},yt(i),t.transformTemplate),{...n.attrs,style:{...n.style}}}),[e]);if(t.style){const e={};ot(e,t.style,t),s.style={...e,...s.style}}return s}function bt(t=!1){return(e,n,i,{latestValues:s},o)=>{const a=(k(e)?_t:ct)(n,s,o,e),c=function(t,e,n){const r={};for(const i in t)"values"===i&&"object"===typeof t.values||(ht(i)||!0===n&&lt(i)||!e&&!lt(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"===typeof e,t),u={...c,...a,ref:i},{children:l}=n,h=(0,r.useMemo)((()=>L(l)?l.get():l),[l]);return(0,r.createElement)(e,{...u,children:h})}}const wt=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Ct(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Et=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tt(t,e,n,r){Ct(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Et.has(i)?i:wt(i),e.attrs[i])}function St(t,e){const{style:n}=t,r={};for(const i in n)(L(n[i])||e.style&&L(e.style[i])||O(i,t))&&(r[i]=n[i]);return r}function It(t,e){const n=St(t,e);for(const r in t)if(L(t[r])||L(e[r])){n[-1!==R.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=t[r]}return n}function xt(t,e,n,r={},i={}){return"function"===typeof e&&(e=e(void 0!==n?n:t.custom,r,i)),"string"===typeof e&&(e=t.variants&&t.variants[e]),"function"===typeof e&&(e=e(void 0!==n?n:t.custom,r,i)),e}var kt=n(3105);const At=t=>Array.isArray(t);function Rt(t){const e=L(t)?t.get():t;return n=e,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?e.toValue():e;var n}const Dt=t=>(e,n)=>{const i=(0,r.useContext)(s),a=(0,r.useContext)(o.O),c=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Ot(r,i,s,t),renderState:e()};return n&&(o.mount=t=>n(r,t,o)),o}(t,e,i,a);return n?c():(0,kt.h)(c)};function Ot(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Rt(s[h]);let{initial:o,animate:a}=t;const c=p(t),u=m(t);e&&u&&!c&&!1!==t.inherit&&(void 0===o&&(o=e.initial),void 0===a&&(a=e.animate));let l=!!n&&!1===n.initial;l=l||!1===o;const d=l?a:o;if(d&&"boolean"!==typeof d&&!h(d)){(Array.isArray(d)?d:[d]).forEach((e=>{const n=xt(t,e);if(!n)return;const{transitionEnd:r,transition:s,...o}=n;for(const t in o){let e=o[t];if(Array.isArray(e)){e=e[l?e.length-1:0]}null!==e&&(i[t]=e)}for(const t in r)i[t]=r[t]}))}return i}const Lt={useVisualState:Dt({scrapeMotionValuesFromProps:It,createRenderState:vt,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(i){n.dimensions={x:0,y:0,width:0,height:0}}gt(n,r,{enableHardwareAcceleration:!1},yt(e.tagName),t.transformTemplate),Tt(e,n)}})},Nt={useVisualState:Dt({scrapeMotionValuesFromProps:St,createRenderState:st})};function Pt(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Mt=t=>"mouse"===t.pointerType?"number"!==typeof t.button||t.button<=0:!1!==t.isPrimary;function Ft(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}function jt(t,e,n,r){return Pt(t,e,(t=>e=>Mt(e)&&t(e,Ft(e)))(n),r)}const Ut=(t,e)=>n=>e(t(n)),Bt=(...t)=>t.reduce(Ut);function Vt(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const Ht=Vt("dragHorizontal"),zt=Vt("dragVertical");function qt(t){let e=!1;if("y"===t)e=zt();else if("x"===t)e=Ht();else{const t=Ht(),n=zt();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function $t(){const t=qt(!0);return!t||(t(),!1)}class Gt{constructor(t){this.isMounted=!1,this.node=t}update(){}}var Wt=n(1816);function Zt(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End");return jt(t.current,n,((n,i)=>{if("touch"===n.type||$t())return;const s=t.getProps();t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",e),s[r]&&Wt.Wi.update((()=>s[r](n,i)))}),{passive:!t.getProps()[r]})}const Kt=(t,e)=>!!e&&(t===e||Kt(t,e.parentElement));var Xt=n(65);function Jt(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ft(n))}const Yt=new WeakMap,Qt=new WeakMap,te=t=>{const e=Yt.get(t.target);e&&e(t)},ee=t=>{t.forEach(te)};function ne(t,e,n){const r=function({root:t,...e}){const n=t||document;Qt.has(n)||Qt.set(n,{});const r=Qt.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(ee,{root:t,...e})),r[i]}(e);return Yt.set(t,n),r.observe(t),()=>{Yt.delete(t),r.unobserve(t)}}const re={some:0,all:1};const ie={inView:{Feature:class extends Gt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:i}=t,s={root:e?e.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:re[r]};return ne(this.node.current,s,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,i&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=e?n:r;s&&s(t)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Gt{constructor(){super(...arguments),this.removeStartListeners=Xt.Z,this.removeEndListeners=Xt.Z,this.removeAccessibleListeners=Xt.Z,this.startPointerPress=(t,e)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),r=jt(window,"pointerup",((t,e)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r}=this.node.getProps();Wt.Wi.update((()=>{Kt(this.node.current,t.target)?n&&n(t,e):r&&r(t,e)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=jt(window,"pointercancel",((t,e)=>this.cancelPress(t,e)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Bt(r,i),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=Pt(this.node.current,"keydown",(t=>{if("Enter"!==t.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Pt(this.node.current,"keyup",(t=>{"Enter"===t.key&&this.checkPressEnd()&&Jt("up",((t,e)=>{const{onTap:n}=this.node.getProps();n&&Wt.Wi.update((()=>n(t,e)))}))})),Jt("down",((t,e)=>{this.startPress(t,e)}))})),e=Pt(this.node.current,"blur",(()=>{this.isPressing&&Jt("cancel",((t,e)=>this.cancelPress(t,e)))}));this.removeAccessibleListeners=Bt(t,e)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Wt.Wi.update((()=>n(t,e)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$t()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Wt.Wi.update((()=>n(t,e)))}mount(){const t=this.node.getProps(),e=jt(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Pt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Bt(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Gt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bt(Pt(this.node.current,"focus",(()=>this.onFocus())),Pt(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Gt{mount(){this.unmount=Bt(Zt(this.node,!0),Zt(this.node,!1))}unmount(){}}}};function se(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function oe(t,e,n){const r=t.getProps();return xt(r,e,void 0!==n?n:r.custom,function(t){const e={};return t.values.forEach(((t,n)=>e[n]=t.get())),e}(t),function(t){const e={};return t.values.forEach(((t,n)=>e[n]=t.getVelocity())),e}(t))}const ae="data-"+wt("framerAppearId");var ce=n(7035);const ue=t=>1e3*t,le=t=>t/1e3,he=!1,de=t=>Array.isArray(t)&&"number"===typeof t[0];function fe(t){return Boolean(!t||"string"===typeof t&&me[t]||de(t)||Array.isArray(t)&&t.every(fe))}const pe=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,me={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pe([0,.65,.55,1]),circOut:pe([.55,0,1,.45]),backIn:pe([.31,.01,.66,-.59]),backOut:pe([.33,1.53,.69,.99])};function ge(t){if(t)return de(t)?pe(t):Array.isArray(t)?t.map(ge):me[t]}const ve={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},ye={},_e={};for(const js in ve)_e[js]=()=>(void 0===ye[js]&&(ye[js]=ve[js]()),ye[js]);const be=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function we(t,e,n,r){if(t===e&&n===r)return Xt.Z;const i=e=>function(t,e,n,r,i){let s,o,a=0;do{o=e+(n-e)/2,s=be(o,r,i)-t,s>0?n=o:e=o}while(Math.abs(s)>1e-7&&++a<12);return o}(e,0,1,t,n);return t=>0===t||1===t?t:be(i(t),e,r)}const Ce=we(.42,0,1,1),Ee=we(0,0,.58,1),Te=we(.42,0,.58,1),Se=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ie=t=>e=>1-t(1-e),xe=t=>1-Math.sin(Math.acos(t)),ke=Ie(xe),Ae=Se(ke),Re=we(.33,1.53,.69,.99),De=Ie(Re),Oe=Se(De),Le={linear:Xt.Z,easeIn:Ce,easeInOut:Te,easeOut:Ee,circIn:xe,circInOut:Ae,circOut:ke,backIn:De,backInOut:Oe,backOut:Re,anticipate:t=>(t*=2)<1?.5*De(t):.5*(2-Math.pow(2,-10*(t-1)))},Ne=t=>{if(Array.isArray(t)){(0,ce.k)(4===t.length,"Cubic bezier arrays must contain four numerical values.");const[e,n,r,i]=t;return we(e,n,r,i)}return"string"===typeof t?((0,ce.k)(void 0!==Le[t],`Invalid easing type '${t}'`),Le[t]):t},Pe=(t,e)=>n=>Boolean(Z(n)&&W.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Me=(t,e,n)=>r=>{if(!Z(r))return r;const[i,s,o,a]=r.match($);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Fe={...V,transform:t=>Math.round((t=>B(0,255,t))(t))},je={test:Pe("rgb","red"),parse:Me("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Fe.transform(t)+", "+Fe.transform(e)+", "+Fe.transform(n)+", "+q(H.transform(r))+")"};const Ue={test:Pe("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:je.transform},Be={test:Pe("hsl","hue"),parse:Me("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+J.transform(q(e))+", "+J.transform(q(n))+", "+q(H.transform(r))+")"},Ve={test:t=>je.test(t)||Ue.test(t)||Be.test(t),parse:t=>je.test(t)?je.parse(t):Be.test(t)?Be.parse(t):Ue.parse(t),transform:t=>Z(t)?t:t.hasOwnProperty("red")?je.transform(t):Be.transform(t)},He=(t,e,n)=>-n*t+n*e+t;function ze(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}const qe=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},$e=[Ue,je,Be];function Ge(t){const e=(n=t,$e.find((t=>t.test(n))));var n;(0,ce.k)(Boolean(e),`'${t}' is not an animatable color. Use the equivalent color code instead.`);let r=e.parse(t);return e===Be&&(r=function({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let i=0,s=0,o=0;if(e/=100){const r=n<.5?n*(1+e):n+e-n*e,a=2*n-r;i=ze(a,r,t+1/3),s=ze(a,r,t),o=ze(a,r,t-1/3)}else i=s=o=n;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:r}}(r)),r}const We=(t,e)=>{const n=Ge(t),r=Ge(e),i={...n};return t=>(i.red=qe(n.red,r.red,t),i.green=qe(n.green,r.green,t),i.blue=qe(n.blue,r.blue,t),i.alpha=He(n.alpha,r.alpha,t),je.transform(i))};const Ze={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Xt.Z},Ke={regex:G,countKey:"Colors",token:"${c}",parse:Ve.parse},Xe={regex:$,countKey:"Numbers",token:"${n}",parse:V.parse};function Je(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Ye(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Je(n,Ze),Je(n,Ke),Je(n,Xe),n}function Qe(t){return Ye(t).values}function tn(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Ye(t),s=e.length;return t=>{let e=i;for(let i=0;i<s;i++)e=i<r?e.replace(Ze.token,t[i]):i<r+n?e.replace(Ke.token,Ve.transform(t[i])):e.replace(Xe.token,q(t[i]));return e}}const en=t=>"number"===typeof t?0:t;const nn={test:function(t){var e,n;return isNaN(t)&&Z(t)&&((null===(e=t.match($))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(G))||void 0===n?void 0:n.length)||0)>0},parse:Qe,createTransformer:tn,getAnimatableNone:function(t){const e=Qe(t);return tn(t)(e.map(en))}},rn=(t,e)=>n=>`${n>0?e:t}`;function sn(t,e){return"number"===typeof t?n=>He(t,e,n):Ve.test(t)?We(t,e):t.startsWith("var(")?rn(t,e):cn(t,e)}const on=(t,e)=>{const n=[...t],r=n.length,i=t.map(((t,n)=>sn(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}},an=(t,e)=>{const n={...t,...e},r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=sn(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}},cn=(t,e)=>{const n=nn.createTransformer(e),r=Ye(t),i=Ye(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Bt(on(r.values,i.values),n):((0,ce.K)(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),rn(t,e))},un=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},ln=(t,e)=>n=>He(t,e,n);function hn(t,e,n){const r=[],i=n||("number"===typeof(s=t[0])?ln:"string"===typeof s?Ve.test(s)?We:cn:Array.isArray(s)?on:"object"===typeof s?an:ln);var s;const o=t.length-1;for(let a=0;a<o;a++){let n=i(t[a],t[a+1]);if(e){const t=Array.isArray(e)?e[a]||Xt.Z:e;n=Bt(t,n)}r.push(n)}return r}function dn(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if((0,ce.k)(s===e.length,"Both input and output ranges must be the same length"),1===s)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=hn(e,r,i),a=o.length,c=e=>{let n=0;if(a>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=un(t[n],t[n+1],e);return o[n](r)};return n?e=>c(B(t[0],t[s-1],e)):c}function fn(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=un(0,e,r);t.push(He(n,1,i))}}(e,t.length-1),e}function pn({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=(t=>Array.isArray(t)&&"number"!==typeof t[0])(r)?r.map(Ne):Ne(r),s={done:!1,value:e[0]},o=function(t,e){return t.map((t=>t*e))}(n&&n.length===e.length?n:fn(e),t),a=dn(o,e,{ease:Array.isArray(i)?i:(c=e,u=i,c.map((()=>u||Te)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=a(e),s.done=e>=t,s)}}function mn(t,e){return e?t*(1e3/e):0}function gn(t,e,n){const r=Math.max(e-5,0);return mn(n-t(r),e-r)}const vn=.001;function yn({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;(0,ce.K)(t<=ue(10),"Spring duration must be 10 seconds or less");let o=1-e;o=B(.05,1,o),t=B(.01,10,le(t)),o<1?(i=e=>{const r=e*o,i=r*t,s=r-n,a=_n(e,o),c=Math.exp(-i);return vn-s/a*c},s=e=>{const r=e*o*t,s=r*n+n,a=Math.pow(o,2)*Math.pow(e,2)*t,c=Math.exp(-r),u=_n(Math.pow(e,2),o);return(-i(e)+vn>0?-1:1)*((s-a)*c)/u}):(i=e=>Math.exp(-e*t)*((e-n)*t+1)-.001,s=e=>Math.exp(-e*t)*(t*t*(n-e)));const a=function(t,e,n){let r=n;for(let i=1;i<12;i++)r-=t(r)/e(r);return r}(i,s,5/t);if(t=ue(t),isNaN(a))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(a,2)*r;return{stiffness:e,damping:2*o*Math.sqrt(r*e),duration:t}}}function _n(t,e){return t*Math.sqrt(1-e*e)}const bn=["duration","bounce"],wn=["stiffness","damping","mass"];function Cn(t,e){return e.some((e=>void 0!==t[e]))}function En({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:c,mass:u,velocity:l,duration:h,isResolvedFromDuration:d}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Cn(t,wn)&&Cn(t,bn)){const n=yn(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}(r),f=l?-le(l):0,p=c/(2*Math.sqrt(a*u)),m=s-i,g=le(Math.sqrt(a/u)),v=Math.abs(m)<5;let y;if(n||(n=v?.01:2),e||(e=v?.005:.5),p<1){const t=_n(g,p);y=e=>{const n=Math.exp(-p*g*e);return s-n*((f+p*g*m)/t*Math.sin(t*e)+m*Math.cos(t*e))}}else if(1===p)y=t=>s-Math.exp(-g*t)*(m+(f+g*m)*t);else{const t=g*Math.sqrt(p*p-1);y=e=>{const n=Math.exp(-p*g*e),r=Math.min(t*e,300);return s-n*((f+p*g*m)*Math.sinh(r)+t*m*Math.cosh(r))/t}}return{calculatedDuration:d&&h||null,next:t=>{const r=y(t);if(d)o.done=t>=h;else{let i=f;0!==t&&(i=p<1?gn(y,t,r):0);const a=Math.abs(i)<=n,c=Math.abs(s-r)<=e;o.done=a&&c}return o.value=o.done?s:r,o}}}function Tn({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:l}){const h=t[0],d={done:!1,value:h},f=t=>void 0===a?c:void 0===c||Math.abs(a-t)<Math.abs(c-t)?a:c;let p=n*e;const m=h+p,g=void 0===o?m:o(m);g!==m&&(p=g-h);const v=t=>-p*Math.exp(-t/r),y=t=>g+v(t),_=t=>{const e=v(t),n=y(t);d.done=Math.abs(e)<=u,d.value=d.done?g:n};let b,w;const C=t=>{var e;(e=d.value,void 0!==a&&e<a||void 0!==c&&e>c)&&(b=t,w=En({keyframes:[d.value,f(d.value)],velocity:gn(y,t,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:l}))};return C(0),{calculatedDuration:null,next:t=>{let e=!1;return w||void 0!==b||(e=!0,_(t),C(t)),void 0!==b&&t>b?w.next(t-b):(!e&&_(t),d)}}}var Sn=n(5403);const In=t=>{const e=({timestamp:e})=>t(e);return{start:()=>Wt.Wi.update(e,!0),stop:()=>(0,Wt.Pn)(e),now:()=>Sn.w.isProcessing?Sn.w.timestamp:performance.now()}};function xn(t){let e=0;let n=t.next(e);for(;!n.done&&e<2e4;)e+=50,n=t.next(e);return e>=2e4?1/0:e}const kn={decay:Tn,inertia:Tn,tween:pn,keyframes:pn,spring:En};function An({autoplay:t=!0,delay:e=0,driver:n=In,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:l,onUpdate:h,...d}){let f,p,m=1,g=!1;const v=()=>{f&&f(),p=new Promise((t=>{f=t}))};let y;v();const _=kn[i]||pn;let b;_!==pn&&"number"!==typeof r[0]&&(b=dn([0,100],r,{clamp:!1}),r=[0,100]);const w=_({...d,keyframes:r});let C;"mirror"===a&&(C=_({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let E="idle",T=null,S=null,I=null;null===w.calculatedDuration&&s&&(w.calculatedDuration=xn(w));const{calculatedDuration:x}=w;let k=1/0,A=1/0;null!==x&&(k=x+o,A=k*(s+1)-o);let R=0;const D=t=>{if(null===S)return;m>0&&(S=Math.min(S,t)),R=null!==T?T:(t-S)*m;const n=R-e,i=n<0;R=Math.max(n,0),"finished"===E&&null===T&&(R=A);let c=R,u=w;if(s){const t=R/k;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,s+1);const r=Boolean(e%2);r&&("reverse"===a?(n=1-n,o&&(n-=o/k)):"mirror"===a&&(u=C));let i=B(0,1,n);R>A&&(i="reverse"===a&&r?1:0),c=i*k}const l=i?{done:!1,value:r[0]}:u.next(c);b&&(l.value=b(l.value));let{done:d}=l;i||null===x||(d=R>=A);const f=null===T&&("finished"===E||"running"===E&&d||m<0&&R<=0);return h&&h(l.value),f&&N(),l},O=()=>{y&&y.stop(),y=void 0},L=()=>{E="idle",O(),v(),S=I=null},N=()=>{E="finished",l&&l(),O(),v()},P=()=>{if(g)return;y||(y=n(D));const t=y.now();c&&c(),null!==T?S=t-T:S&&"finished"!==E||(S=t),I=S,T=null,E="running",y.start()};t&&P();const M={then:(t,e)=>p.then(t,e),get time(){return le(R)},set time(t){t=ue(t),R=t,null===T&&y&&0!==m?S=y.now()-t/m:T=t},get duration(){const t=null===w.calculatedDuration?xn(w):w.calculatedDuration;return le(t)},get speed(){return m},set speed(t){t!==m&&y&&(m=t,M.time=le(R))},get state(){return E},play:P,pause:()=>{E="paused",T=R},stop:()=>{g=!0,"idle"!==E&&(E="idle",u&&u(),L())},cancel:()=>{null!==I&&D(I),L()},complete:()=>{E="finished"},sample:t=>(S=0,D(t))};return M}const Rn=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Dn(t,e,{onUpdate:n,onComplete:r,...i}){if(!(_e.waapi()&&Rn.has(e)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let s,o,a=!1;const c=()=>{o=new Promise((t=>{s=t}))};c();let{keyframes:u,duration:l=300,ease:h,times:d}=i;if(((t,e)=>"spring"===e.type||"backgroundColor"===t||!fe(e.ease))(e,i)){const t=An({...i,repeat:0,delay:0});let e={done:!1,value:u[0]};const n=[];let r=0;for(;!e.done&&r<2e4;)e=t.sample(r),n.push(e.value),r+=10;d=void 0,u=n,l=r-10,h="linear"}const f=function(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:c}={}){const u={[e]:n};c&&(u.offset=c);const l=ge(a);return Array.isArray(l)&&(u.easing=l),t.animate(u,{delay:r,duration:i,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(t.owner.current,e,u,{...i,duration:l,ease:h,times:d}),p=()=>f.cancel(),m=()=>{Wt.Wi.update(p),s(),c()};return f.onfinish=()=>{t.set(function(t,{repeat:e,repeatType:n="loop"}){return t[e&&"loop"!==n&&e%2===1?0:t.length-1]}(u,i)),r&&r(),m()},{then:(t,e)=>o.then(t,e),get time(){return le(f.currentTime||0)},set time(t){f.currentTime=ue(t)},get speed(){return f.playbackRate},set speed(t){f.playbackRate=t},get duration(){return le(l)},play:()=>{a||(f.play(),(0,Wt.Pn)(p))},pause:()=>f.pause(),stop:()=>{if(a=!0,"idle"===f.playState)return;const{currentTime:e}=f;if(e){const n=An({...i,autoplay:!1});t.setWithVelocity(n.sample(e-10).value,n.sample(e).value,10)}m()},complete:()=>f.finish(),cancel:m}}const On={type:"spring",stiffness:500,damping:25,restSpeed:10},Ln={type:"keyframes",duration:.8},Nn={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pn=(t,{keyframes:e})=>e.length>2?Ln:D.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:On:Nn,Mn=(t,e)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!nn.test(e)&&"0"!==e||e.startsWith("url("))),Fn=new Set(["brightness","contrast","saturate","opacity"]);function jn(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match($)||[];if(!r)return t;const i=n.replace(r,"");let s=Fn.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Un=/([a-z-]*)\(.*?\)/g,Bn={...nn,getAnimatableNone:t=>{const e=t.match(Un);return e?e.map(jn).join(" "):t}},Vn={...rt,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:Bn,WebkitFilter:Bn},Hn=t=>Vn[t];function zn(t,e){let n=Hn(t);return n!==Bn&&(n=nn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qn=t=>/^0[^.\s]+$/.test(t);function $n(t){return"number"===typeof t?0===t:null!==t?"none"===t||"0"===t||qn(t):void 0}function Gn(t,e){return t[e]||t.default||t}const Wn=(t,e,n,r={})=>i=>{const s=Gn(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a-=ue(o);const c=function(t,e,n,r){const i=Mn(e,n);let s;s=Array.isArray(n)?[...n]:[null,n];const o=void 0!==r.from?r.from:t.get();let a;const c=[];for(let u=0;u<s.length;u++)null===s[u]&&(s[u]=0===u?o:s[u-1]),$n(s[u])&&c.push(u),"string"===typeof s[u]&&"none"!==s[u]&&"0"!==s[u]&&(a=s[u]);if(i&&c.length&&a)for(let u=0;u<c.length;u++)s[c[u]]=zn(e,a);return s}(e,t,n,s),u=c[0],l=c[c.length-1],h=Mn(t,u),d=Mn(t,l);(0,ce.K)(h===d,`You are trying to animate ${t} from "${u}" to "${l}". ${u} is not an animatable value - to enable this animation set ${u} to a value animatable to ${l} via the \`style\` property.`);let f={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:t=>{e.set(t),s.onUpdate&&s.onUpdate(t)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...l}){return!!Object.keys(l).length}(s)||(f={...f,...Pn(t,f)}),f.duration&&(f.duration=ue(f.duration)),f.repeatDelay&&(f.repeatDelay=ue(f.repeatDelay)),!h||!d||he||!1===s.type)return function({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Xt.Z,pause:Xt.Z,stop:Xt.Z,then:t=>(t(),Promise.resolve()),cancel:Xt.Z,complete:Xt.Z});return e?An({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}(f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const n=Dn(e,t,f);if(n)return n}return An(f)};function Zn(t){return Boolean(L(t)&&t.add)}function Kn(t,e){-1===t.indexOf(e)&&t.push(e)}function Xn(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Jn{constructor(){this.subscriptions=[]}add(t){return Kn(this.subscriptions,t),()=>Xn(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class Yn{constructor(t,e={}){var n;this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(t,e=!0)=>{this.prev=this.current,this.current=t;const{delta:n,timestamp:r}=Sn.w;this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,Wt.Wi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Wt.Wi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=e.owner}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Jn);const n=this.events[t].add(e);return"change"===t?()=>{n(),Wt.Wi.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mn(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qn(t,e){return new Yn(t,e)}const tr=t=>e=>e.test(t),er=[V,Y,J,X,tt,Q,{test:t=>"auto"===t,parse:t=>t}],nr=t=>er.find(tr(t)),rr=[...er,Ve,nn],ir=t=>rr.find(tr(t));function sr(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qn(n))}function or(t,e){const n=oe(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s){sr(t,a,(o=s[a],At(o)?o[o.length-1]||0:o))}var o}function ar(t,e){if(!e)return;return(e[t]||e.default||e).from}function cr({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,r}function ur(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(s=r);const u=[],l=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const e=t.getValue(h),r=a[h];if(!e||void 0===r||l&&cr(l,h))continue;const i={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!e.hasAnimated){const n=t.getProps()[ae];n&&(i.elapsed=window.HandoffAppearAnimations(n,h,e,Wt.Wi))}e.start(Wn(h,e,r,t.shouldReduceMotion&&D.has(h)?{type:!1}:i));const o=e.animation;Zn(c)&&(c.add(h),o.then((()=>c.remove(h)))),u.push(o)}return o&&Promise.all(u).then((()=>{o&&or(t,o)})),u}function lr(t,e,n={}){const r=oe(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(ur(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(r=0)=>{const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,c=1===i?(t=0)=>t*r:(t=0)=>a-t*r;return Array.from(t.variantChildren).sort(hr).forEach(((t,r)=>{t.notify("AnimationStart",e),o.push(lr(t,e,{...s,delay:n+c(r)}).then((()=>t.notify("AnimationComplete",e))))})),Promise.all(o)}(t,e,s+r,o,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[t,e]="beforeChildren"===a?[s,o]:[o,s];return t().then((()=>e()))}return Promise.all([s(),o(n.delay)])}function hr(t,e){return t.sortNodePosition(e)}const dr=[...d].reverse(),fr=d.length;function pr(t){return e=>Promise.all(e.map((({animation:e,options:n})=>function(t,e,n={}){let r;if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map((e=>lr(t,e,n)));r=Promise.all(i)}else if("string"===typeof e)r=lr(t,e,n);else{const i="function"===typeof e?oe(t,e,n.custom):e;r=Promise.all(ur(t,i,n))}return r.then((()=>t.notify("AnimationComplete",e)))}(t,e,n))))}function mr(t){let e=pr(t);const n={animate:vr(!0),whileInView:vr(),whileHover:vr(),whileTap:vr(),whileDrag:vr(),whileFocus:vr(),exit:vr()};let r=!0;const i=(e,n)=>{const r=oe(t,n);if(r){const{transition:t,transitionEnd:n,...i}=r;e={...e,...i,...n}}return e};function s(s,o){const a=t.getProps(),c=t.getVariantContext(!0)||{},u=[],d=new Set;let f={},p=1/0;for(let e=0;e<fr;e++){const m=dr[e],g=n[m],v=void 0!==a[m]?a[m]:c[m],y=l(v),_=m===o?g.isActive:null;!1===_&&(p=e);let b=v===c[m]&&v!==a[m]&&y;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),g.protectedKeys={...f},!g.isActive&&null===_||!v&&!g.prevProp||h(v)||"boolean"===typeof v)continue;const w=gr(g.prevProp,v);let C=w||m===o&&g.isActive&&!b&&y||e>p&&y;const E=Array.isArray(v)?v:[v];let T=E.reduce(i,{});!1===_&&(T={});const{prevResolvedValues:S={}}=g,I={...S,...T},x=t=>{C=!0,d.delete(t),g.needsAnimating[t]=!0};for(const t in I){const e=T[t],n=S[t];f.hasOwnProperty(t)||(e!==n?At(e)&&At(n)?!se(e,n)||w?x(t):g.protectedKeys[t]=!0:void 0!==e?x(t):d.add(t):void 0!==e&&d.has(t)?x(t):g.protectedKeys[t]=!0)}g.prevProp=v,g.prevResolvedValues=T,g.isActive&&(f={...f,...T}),r&&t.blockInitialAnimation&&(C=!1),C&&!b&&u.push(...E.map((t=>({animation:t,options:{type:m,...s}}))))}if(d.size){const e={};d.forEach((n=>{const r=t.getBaseTarget(n);void 0!==r&&(e[n]=r)})),u.push({animation:e})}let m=Boolean(u.length);return r&&!1===a.initial&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(u):Promise.resolve()}return{animateChanges:s,setActive:function(e,r,i){var o;if(n[e].isActive===r)return Promise.resolve();null===(o=t.variantChildren)||void 0===o||o.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r;const a=s(i,e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n}}function gr(t,e){return"string"===typeof e?e!==t:!!Array.isArray(e)&&!se(e,t)}function vr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let yr=0;const _r={animation:{Feature:class extends Gt{constructor(t){super(t),t.animationState||(t.animationState=mr(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),h(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Gt{constructor(){super(...arguments),this.id=yr++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});e&&!t&&i.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}},br=(t,e)=>Math.abs(t-e);class wr{constructor(t,e,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Tr(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=br(t.x,e.x),r=br(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:r}=t,{timestamp:i}=Sn.w;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;e||(s&&s(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=Cr(e,this.transformPagePoint),Wt.Wi.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{if(this.end(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const{onEnd:n,onSessionEnd:r}=this.handlers,i=Tr("pointercancel"===t.type?this.lastMoveEventInfo:Cr(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,i),r&&r(t,i)},!Mt(t))return;this.handlers=e,this.transformPagePoint=n;const r=Cr(Ft(t),this.transformPagePoint),{point:i}=r,{timestamp:s}=Sn.w;this.history=[{...i,timestamp:s}];const{onSessionStart:o}=e;o&&o(t,Tr(r,this.history)),this.removeListeners=Bt(jt(window,"pointermove",this.handlePointerMove),jt(window,"pointerup",this.handlePointerUp),jt(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),(0,Wt.Pn)(this.updatePoint)}}function Cr(t,e){return e?{point:e(t.point)}:t}function Er(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tr({point:t},e){return{point:t,delta:Er(t,Ir(e)),offset:Er(t,Sr(e)),velocity:xr(e,.1)}}function Sr(t){return t[0]}function Ir(t){return t[t.length-1]}function xr(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Ir(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ue(e)));)n--;if(!r)return{x:0,y:0};const s=le(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function kr(t){return t.max-t.min}function Ar(t,e=0,n=.01){return Math.abs(t-e)<=n}function Rr(t,e,n,r=.5){t.origin=r,t.originPoint=He(e.min,e.max,t.origin),t.scale=kr(n)/kr(e),(Ar(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=He(n.min,n.max,t.origin)-t.originPoint,(Ar(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Dr(t,e,n,r){Rr(t.x,e.x,n.x,r?r.originX:void 0),Rr(t.y,e.y,n.y,r?r.originY:void 0)}function Or(t,e,n){t.min=n.min+e.min,t.max=t.min+kr(e)}function Lr(t,e,n){t.min=e.min-n.min,t.max=t.min+kr(e)}function Nr(t,e,n){Lr(t.x,e.x,n.x),Lr(t.y,e.y,n.y)}function Pr(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function Mr(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const Fr=.35;function jr(t,e,n){return{min:Ur(t,e),max:Ur(t,n)}}function Ur(t,e){return"number"===typeof t?t:t[e]||0}function Br(t){return[t("x"),t("y")]}function Vr({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Hr(t){return void 0===t||1===t}function zr({scale:t,scaleX:e,scaleY:n}){return!Hr(t)||!Hr(e)||!Hr(n)}function qr(t){return zr(t)||$r(t)||t.z||t.rotate||t.rotateX||t.rotateY}function $r(t){return Gr(t.x)||Gr(t.y)}function Gr(t){return t&&"0%"!==t}function Wr(t,e,n){return n+e*(t-n)}function Zr(t,e,n,r,i){return void 0!==i&&(t=Wr(t,i,r)),Wr(t,n,r)+e}function Kr(t,e=0,n=1,r,i){t.min=Zr(t.min,e,n,r,i),t.max=Zr(t.max,e,n,r,i)}function Xr(t,{x:e,y:n}){Kr(t.x,e.translate,e.scale,e.originPoint),Kr(t.y,n.translate,n.scale,n.originPoint)}function Jr(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Yr(t,e){t.min=t.min+e,t.max=t.max+e}function Qr(t,e,[n,r,i]){const s=void 0!==e[i]?e[i]:.5,o=He(t.min,t.max,s);Kr(t,e[n],e[r],o,e.scale)}const ti=["x","scaleX","originX"],ei=["y","scaleY","originY"];function ni(t,e){Qr(t.x,e,ti),Qr(t.y,e,ei)}function ri(t,e){return Vr(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}const ii=new WeakMap;class si{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;this.panSession=new wr(t,{onSessionStart:t=>{this.stopAnimation(),e&&this.snapToCursor(Ft(t,"page").point)},onStart:(t,e)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=qt(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Br((t=>{let e=this.getAxisMotionValue(t).get()||0;if(J.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[t];if(r){e=kr(r)*(parseFloat(e)/100)}}}this.originPoint[t]=e})),i&&Wt.Wi.update((()=>i(t,e)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=e;if(r&&null===this.currentDirection)return this.currentDirection=function(t,e=10){let n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",e.point,o),this.updateAxis("y",e.point,o),this.visualElement.render(),s&&s(t,e)},onSessionEnd:(t,e)=>this.stop(t,e)},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Wt.Wi.update((()=>i(t,e)))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!oi(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=function(t,{min:e,max:n},r){return void 0!==e&&t<e?t=r?He(e,t,r.min):Math.max(t,e):void 0!==n&&t>n&&(t=r?He(n,t,r.max):Math.min(t,n)),t}(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;t&&u(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(t,{top:e,left:n,bottom:r,right:i}){return{x:Pr(t.x,n,i),y:Pr(t.y,e,r)}}(n.layoutBox,t),this.elastic=function(t=Fr){return!1===t?t=0:!0===t&&(t=Fr),{x:jr(t,"left","right"),y:jr(t,"top","bottom")}}(e),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Br((t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(n.layoutBox[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!u(t))return!1;const n=t.current;(0,ce.k)(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(t,e,n){const r=ri(t,n),{scroll:i}=e;return i&&(Yr(r.x,i.offset.x),Yr(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(t,e){return{x:Mr(t.x,e.x),y:Mr(t.y,e.y)}}(r.layout.layoutBox,i);if(e){const t=e(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(s));this.hasMutatedConstraints=!!t,t&&(s=Vr(t))}return s}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},c=Br((o=>{if(!oi(o,e,this.currentDirection))return;let c=a&&a[o]||{};s&&(c={min:0,max:0});const u=r?200:1e6,l=r?40:1e7,h={type:"inertia",velocity:n?t[o]:0,bounceStiffness:u,bounceDamping:l,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(o,h)}));return Promise.all(c).then(o)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return n.start(Wn(t,n,0,e))}stopAnimation(){Br((t=>this.getAxisMotionValue(t).stop()))}getAxisMotionValue(t){const e="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Br((e=>{const{drag:n}=this.getProps();if(!oi(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[e];i.set(t[e]-He(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!u(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Br((t=>{const e=this.getAxisMotionValue(t);if(e){const n=e.get();r[t]=function(t,e){let n=.5;const r=kr(t),i=kr(e);return i>r?n=un(e.min,e.max-r,t.min):r>i&&(n=un(t.min,t.max-i,e.min)),B(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Br((e=>{if(!oi(e,t,null))return;const n=this.getAxisMotionValue(e),{min:i,max:s}=this.constraints[e];n.set(He(i,s,r[e]))}))}addListeners(){if(!this.visualElement.current)return;ii.set(this.visualElement,this);const t=jt(this.visualElement.current,"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),e=()=>{const{dragConstraints:t}=this.getProps();u(t)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),e();const i=Pt(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(Br((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),t(),r(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=Fr,dragMomentum:o=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function oi(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const ai=t=>(e,n)=>{t&&Wt.Wi.update((()=>t(e,n)))};const ci={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ui(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const li={correct:(t,e)=>{if(!e.target)return t;if("string"===typeof t){if(!Y.test(t))return t;t=parseFloat(t)}return`${ui(t,e.target.x)}% ${ui(t,e.target.y)}%`}},hi={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=nn.parse(t);if(i.length>5)return r;const s=nn.createTransformer(t),o="number"!==typeof i[0]?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=He(a,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=u),"number"===typeof i[3+o]&&(i[3+o]/=u),s(i)}};class di extends r.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;var s;s=pi,Object.assign(A,s),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ci.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||t.layoutDependency!==e||void 0===e?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Wt.Wi.postRender((()=>{const t=s.getStack();t&&t.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask((()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fi(t){const[e,n]=function(){const t=(0,r.useContext)(o.O);if(null===t)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,s=(0,r.useId)();return(0,r.useEffect)((()=>i(s)),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}(),i=(0,r.useContext)(w.p);return r.createElement(di,{...t,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(C),isPresent:e,safeToRemove:n})}const pi={borderRadius:{...li,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:li,borderTopRightRadius:li,borderBottomLeftRadius:li,borderBottomRightRadius:li,boxShadow:hi},mi=["TopLeft","TopRight","BottomLeft","BottomRight"],gi=mi.length,vi=t=>"string"===typeof t?parseFloat(t):t,yi=t=>"number"===typeof t||Y.test(t);function _i(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const bi=Ci(0,.5,ke),wi=Ci(.5,.95,Xt.Z);function Ci(t,e,n){return r=>r<t?0:r>e?1:n(un(t,e,r))}function Ei(t,e){t.min=e.min,t.max=e.max}function Ti(t,e){Ei(t.x,e.x),Ei(t.y,e.y)}function Si(t,e,n,r,i){return t=Wr(t-=e,1/n,r),void 0!==i&&(t=Wr(t,1/i,r)),t}function Ii(t,e,[n,r,i],s,o){!function(t,e=0,n=1,r=.5,i,s=t,o=t){J.test(e)&&(e=parseFloat(e),e=He(o.min,o.max,e/100)-o.min);if("number"!==typeof e)return;let a=He(s.min,s.max,r);t===s&&(a-=e),t.min=Si(t.min,e,n,a,i),t.max=Si(t.max,e,n,a,i)}(t,e[n],e[r],e[i],e.scale,s,o)}const xi=["x","scaleX","originX"],ki=["y","scaleY","originY"];function Ai(t,e,n,r){Ii(t.x,e,xi,n?n.x:void 0,r?r.x:void 0),Ii(t.y,e,ki,n?n.y:void 0,r?r.y:void 0)}function Ri(t){return 0===t.translate&&1===t.scale}function Di(t){return Ri(t.x)&&Ri(t.y)}function Oi(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Li(t){return kr(t.x)/kr(t.y)}class Ni{constructor(){this.members=[]}add(t){Kn(this.members,t),t.scheduleRender()}remove(t){if(Xn(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let r=e;r>=0;r--){const t=this.members[r];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Pi(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),1===e.x&&1===e.y||(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:t,rotateX:e,rotateY:i}=n;t&&(r+=`rotate(${t}deg) `),e&&(r+=`rotateX(${e}deg) `),i&&(r+=`rotateY(${i}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return 1===o&&1===a||(r+=`scale(${o}, ${a})`),r||"none"}const Mi=(t,e)=>t.depth-e.depth;class Fi{constructor(){this.children=[],this.isDirty=!1}add(t){Kn(this.children,t),this.isDirty=!0}remove(t){Xn(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Mi),this.isDirty=!1,this.children.forEach(t)}}const ji=["","X","Y","Z"];let Ui=0;const Bi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Vi({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(t={},n=(null===e||void 0===e?void 0:e())){this.id=Ui++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Bi.totalNodes=Bi.resolvedTargetDeltas=Bi.recalculatedProjection=0,this.nodes.forEach(qi),this.nodes.forEach(Ji),this.nodes.forEach(Yi),this.nodes.forEach($i),function(t){window.MotionDebug&&window.MotionDebug.record(t)}(Bi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fi)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new Jn),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){const n=this.eventHandlers.get(t);n&&n.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,n=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&((0,Wt.Pn)(r),t(s-e))};return Wt.Wi.read(r,!0),()=>(0,Wt.Pn)(r)}(r,250),ci.hasAnimatedSinceResize&&(ci.hasAnimatedSinceResize=!1,this.nodes.forEach(Xi))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||is,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=o.getProps(),c=!this.targetLayout||!Oi(this.targetLayout,r)||n,u=!e&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||e&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...Gn(i,"layout"),onPlay:s,onComplete:a};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||Xi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,(0,Wt.Pn)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qi),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const t=this.path[i];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Wi);this.isUpdating||this.nodes.forEach(Zi),this.isUpdating=!1,this.nodes.forEach(Ki),this.nodes.forEach(Hi),this.nodes.forEach(zi),this.clearAllSnapshots();const t=performance.now();Sn.w.delta=B(0,1e3/60,t-Sn.w.timestamp),Sn.w.timestamp=t,Sn.w.isProcessing=!0,Wt.S6.update.process(Sn.w),Wt.S6.preRender.process(Sn.w),Wt.S6.render.process(Sn.w),Sn.w.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(Gi),this.sharedNodes.forEach(ts)}scheduleUpdateProjection(){Wt.Wi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Wt.Wi.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const t=this.isLayoutDirty||this.shouldResetTransform,e=this.projectionDelta&&!Di(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;t&&(e||qr(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){const e=this.measurePageBox();let n=this.removeElementScroll(e);var r;return t&&(n=this.removeTransform(n)),ss((r=n).x),ss(r.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const e=t.measureViewportBox(),{scroll:n}=this.root;return n&&(Yr(e.x,n.offset.x),Yr(e.y,n.offset.y)),e}removeElementScroll(t){const e={x:{min:0,max:0},y:{min:0,max:0}};Ti(e,t);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){Ti(e,t);const{scroll:n}=this.root;n&&(Yr(e.x,-n.offset.x),Yr(e.y,-n.offset.y))}Yr(e.x,i.offset.x),Yr(e.y,i.offset.y)}}return e}applyTransform(t,e=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};Ti(n,t);for(let r=0;r<this.path.length;r++){const t=this.path[r];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&ni(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),qr(t.latestValues)&&ni(n,t.latestValues)}return qr(this.latestValues)&&ni(n,this.latestValues),n}removeTransform(t){const e={x:{min:0,max:0},y:{min:0,max:0}};Ti(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!qr(t.latestValues))continue;zr(t.latestValues)&&t.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Ti(r,t.measurePageBox()),Ai(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,r)}return qr(this.latestValues)&&Ai(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.w.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=Sn.w.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Nr(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),Ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,c;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,c=this.relativeParent.target,Or(o.x,a.x,c.x),Or(o.y,a.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),Xr(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Nr(this.relativeTargetOrigin,this.target,t.target),Ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!zr(this.parent.latestValues)&&!$r(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Sn.w.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;Ti(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(t,e,n,r=!1){const i=n.length;if(!i)return;let s,o;e.x=e.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ni(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Xr(t,o)),r&&qr(s.latestValues)&&ni(t,s.latestValues))}e.x=Jr(e.x),e.y=Jr(e.y)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox);const{target:c}=e;if(!c)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const u=this.projectionTransform;Dr(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=Pi(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),Bi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,e=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,l=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(rs));let h;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;var c,d,f,p;es(s.x,t.x,n),es(s.y,t.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nr(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c=this.relativeTarget,d=this.relativeTargetOrigin,f=o,p=n,ns(c.x,d.x,f.x,p),ns(c.y,d.y,f.y,p),h&&Oi(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Ti(h,this.relativeTarget)),a&&(this.animationValues=i,function(t,e,n,r,i,s){i?(t.opacity=He(0,void 0!==n.opacity?n.opacity:1,bi(r)),t.opacityExit=He(void 0!==e.opacity?e.opacity:1,0,wi(r))):s&&(t.opacity=He(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<gi;o++){const i=`border${mi[o]}Radius`;let s=_i(e,i),a=_i(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||yi(s)===yi(a)?(t[i]=Math.max(He(vi(s),vi(a),r),0),(J.test(a)||J.test(s))&&(t[i]+="%")):t[i]=a)}(e.rotate||n.rotate)&&(t.rotate=He(e.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,l,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&((0,Wt.Pn)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.Wi.update((()=>{ci.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n){const r=L(t)?t:Qn(t);return r.start(Wn("",r,e,n)),r.animation}(0,1e3,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&os(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=kr(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const r=kr(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}Ti(e,n),ni(e,i),Dr(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new Ni);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(e=!0),!e)return;const r={};for(let i=0;i<ji.length;i++){const e="rotate"+ji[i];n[e]&&(r[e]=n[e],t.setStaticValue(e,0))}t.render();for(const i in r)t.setStaticValue(i,r[i]);t.scheduleRender()}getProjectionStyles(t={}){var e,n;const r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";const i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Rt(t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Rt(t.pointerEvents)||""),this.hasProjected&&!qr(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Pi(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:c}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*c.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(e=o.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in A){if(void 0===o[u])continue;const{correct:t,applyTo:e}=A[u],n="none"===r.transform?o[u]:t(o[u],s);if(e){const t=e.length;for(let i=0;i<t;i++)r[e[i]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=s===this?Rt(t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(Wi),this.root.sharedNodes.clear()}}}function Hi(t){t.updateLayout()}function zi(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;"size"===i?Br((t=>{const r=s?n.measuredBox[t]:n.layoutBox[t],i=kr(r);r.min=e[t].min,r.max=r.min+i})):os(i,n.layoutBox,e)&&Br((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=kr(e[r]);i.max=i.min+o,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Dr(o,e,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Dr(a,t.applyTransform(r,!0),n.measuredBox):Dr(a,e,n.layoutBox);const c=!Di(o);let u=!1;if(!t.resumeFrom){const r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};Nr(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Nr(a,e,s.layoutBox),Oi(o,a)||(u=!0),r.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=o,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function qi(t){Bi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $i(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Gi(t){t.clearSnapshot()}function Wi(t){t.clearMeasurements()}function Zi(t){t.isLayoutDirty=!1}function Ki(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xi(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ji(t){t.resolveTargetDelta()}function Yi(t){t.calcProjection()}function Qi(t){t.resetRotation()}function ts(t){t.removeLeadSnapshot()}function es(t,e,n){t.translate=He(e.translate,0,n),t.scale=He(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ns(t,e,n,r){t.min=He(e.min,n.min,r),t.max=He(e.max,n.max,r)}function rs(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const is={duration:.45,ease:[.4,0,.1,1]};function ss(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function os(t,e,n){return"position"===t||"preserve-aspect"===t&&!Ar(Li(e),Li(n),.2)}const as=Vi({attachResizeListener:(t,e)=>Pt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cs={current:void 0},us=Vi({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cs.current){const t=new as({});t.mount(window),t.setOptions({layoutScroll:!0}),cs.current=t}return cs.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),ls={pan:{Feature:class extends Gt{constructor(){super(...arguments),this.removePointerDownListener=Xt.Z}onPointerDown(t){this.session=new wr(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:ai(t),onStart:ai(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&Wt.Wi.update((()=>r(t,e)))}}}mount(){this.removePointerDownListener=jt(this.node.current,"pointerdown",(t=>this.onPointerDown(t)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Gt{constructor(t){super(t),this.removeGroupControls=Xt.Z,this.removeListeners=Xt.Z,this.controls=new si(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xt.Z}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:us,MeasureLayout:fi}},hs=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ds(t,e,n=1){(0,ce.k)(n<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);const[r,i]=function(t){const e=hs.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():j(i)?ds(i,e,n+1):i}const fs=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ps=t=>fs.has(t),ms=t=>t===V||t===Y,gs=(t,e)=>parseFloat(t.split(", ")[e]),vs=(t,e)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return gs(i[1],e);{const e=r.match(/^matrix\((.+)\)$/);return e?gs(e[1],t):0}},ys=new Set(["x","y","z"]),_s=R.filter((t=>!ys.has(t)));const bs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:vs(4,13),y:vs(5,14)},ws=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(ps);let s=[],o=!1;const a=[];if(i.forEach((i=>{const c=t.getValue(i);if(!t.hasValue(i))return;let u=n[i],l=nr(u);const h=e[i];let d;if(At(h)){const t=h.length,e=null===h[0]?1:0;u=h[e],l=nr(u);for(let n=e;n<t&&null!==h[n];n++)d?(0,ce.k)(nr(h[n])===d,"All keyframes must be of the same type"):(d=nr(h[n]),(0,ce.k)(d===l||ms(l)&&ms(d),"Keyframes must be of the same dimension as the current value"))}else d=nr(h);if(l!==d)if(ms(l)&&ms(d)){const t=c.get();"string"===typeof t&&c.set(parseFloat(t)),"string"===typeof h?e[i]=parseFloat(h):Array.isArray(h)&&d===Y&&(e[i]=h.map(parseFloat))}else(null===l||void 0===l?void 0:l.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===u||0===h)?0===u?c.set(d.transform(u)):e[i]=l.transform(h):(o||(s=function(t){const e=[];return _s.forEach((n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e.length&&t.render(),e}(t),o=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:e[i],c.jump(h))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};"none"===o&&e.setStaticValue("display",t.display||"block"),n.forEach((t=>{a[t]=bs[t](r,s)})),e.render();const c=e.measureViewportBox();return n.forEach((n=>{const r=e.getValue(n);r&&r.jump(a[n]),t[n]=bs[n](c,s)})),t})(e,t,a);return s.length&&s.forEach((([e,n])=>{t.getValue(e).set(n)})),t.render(),b.j&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:e,transitionEnd:r}};function Cs(t,e,n,r){return(t=>Object.keys(t).some(ps))(e)?ws(t,e,n,r):{target:e,transitionEnd:r}}const Es=(t,e,n,r)=>{const i=function(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach((t=>{const e=t.get();if(!j(e))return;const n=ds(e,r);n&&t.set(n)}));for(const i in e){const t=e[i];if(!j(t))continue;const s=ds(t,r);s&&(e[i]=s,n||(n={}),void 0===n[i]&&(n[i]=t))}return{target:e,transitionEnd:n}}(t,e,r);return Cs(t,e=i.target,n,r=i.transitionEnd)};var Ts=n(2062),Ss=n(1139);const Is=new WeakMap,xs=Object.keys(_),ks=xs.length,As=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Rs=f.length;class Ds extends class{constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Wt.Wi.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=e.initial?{...o}:{},this.renderState=a,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=p(e),this.isVariantNode=m(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(e,{});for(const l in u){const t=u[l];void 0!==o[l]&&L(t)&&(t.set(o[l],!1),Zn(c)&&c.add(l))}}scrapeMotionValuesFromProps(t,e){return{}}mount(t){this.current=t,Is.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),Ss.O.current||(0,Ts.A)(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ss.n.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Is.delete(this.current),this.projection&&this.projection.unmount(),(0,Wt.Pn)(this.notifyUpdate),(0,Wt.Pn)(this.render),this.valueSubscriptions.forEach((t=>t())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,e){const n=D.has(t),r=e.on("change",(e=>{this.latestValues[t]=e,this.props.onUpdate&&Wt.Wi.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,(()=>{r(),i()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures({children:t,...e},n,r,i){let s,o;for(let a=0;a<ks;a++){const t=xs[a],{isEnabled:n,Feature:r,ProjectionNode:i,MeasureLayout:c}=_[t];i&&(s=i),n(e)&&(!this.features[t]&&r&&(this.features[t]=new r(this)),c&&(o=c))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:t,layout:n,drag:r,dragConstraints:o,layoutScroll:a,layoutRoot:c}=e;this.projection.setOptions({layoutId:t,layout:n,alwaysMeasureLayout:Boolean(r)||o&&u(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof n?n:"both",initialPromotionConfig:i,layoutScroll:a,layoutRoot:c})}return o}updateFeatures(){for(const t in this.features){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}makeTargetAnimatable(t,e=!0){return this.makeTargetAnimatableFromInstance(t,this.props,e)}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<As.length;n++){const e=As[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const r=t["on"+e];r&&(this.propEventSubscriptions[e]=this.on(e,r))}this.prevMotionValues=function(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(L(s))t.addValue(i,s),Zn(r)&&r.add(i);else if(L(o))t.addValue(i,Qn(s,{owner:t})),Zn(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const e=t.getValue(i);!e.hasAnimated&&e.set(s)}else{const e=t.getStaticValue(i);t.addValue(i,Qn(void 0!==e?e:s,{owner:t}))}}for(const i in n)void 0===e[i]&&t.removeValue(i);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}const e={};for(let n=0;n<Rs;n++){const t=f[n],r=this.props[t];(l(r)||!1===r)&&(e[t]=r)}return e}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){e!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,e)),this.values.set(t,e),this.latestValues[t]=e.get()}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=Qn(e,{owner:this}),this.addValue(t,n)),n}readValue(t){return void 0===this.latestValues[t]&&this.current?this.readValueFromInstance(this.current,t,this.options):this.latestValues[t]}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(e=xt(this.props,n))||void 0===e?void 0:e[t]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||L(i)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new Jn),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}{sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:e,...n},{transformValues:r},i){let s=function(t,e,n){const r={};for(const i in t){const t=ar(i,e);if(void 0!==t)r[i]=t;else{const t=n.getValue(i);t&&(r[i]=t.get())}}return r}(n,t||{},this);if(r&&(e&&(e=r(e)),n&&(n=r(n)),s&&(s=r(s))),i){!function(t,e,n){var r,i;const s=Object.keys(e).filter((e=>!t.hasValue(e))),o=s.length;if(o)for(let a=0;a<o;a++){const o=s[a],c=e[o];let u=null;Array.isArray(c)&&(u=c[0]),null===u&&(u=null!==(i=null!==(r=n[o])&&void 0!==r?r:t.readValue(o))&&void 0!==i?i:e[o]),void 0!==u&&null!==u&&("string"===typeof u&&(/^\-?\d*\.?\d+$/.test(u)||qn(u))?u=parseFloat(u):!ir(u)&&nn.test(c)&&(u=zn(o,c)),t.addValue(o,Qn(u,{owner:t})),void 0===n[o]&&(n[o]=u),null!==u&&t.setBaseTarget(o,u))}}(this,n,s);const t=Es(this,n,s,e);e=t.transitionEnd,n=t.target}return{transition:t,transitionEnd:e,...n}}}class Os extends Ds{readValueFromInstance(t,e){if(D.has(e)){const t=Hn(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),i=(F(e)?r.getPropertyValue(e):r[e])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(t,{transformPagePoint:e}){return ri(t,e)}build(t,e,n,r){it(t,e,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,e){return St(t,e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;L(t)&&(this.childSubscription=t.on("change",(t=>{this.current&&(this.current.textContent=`${t}`)})))}renderInstance(t,e,n,r){Ct(t,e,n,r)}}class Ls extends Ds{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(D.has(e)){const t=Hn(e);return t&&t.default||0}return e=Et.has(e)?e:wt(e),t.getAttribute(e)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(t,e){return It(t,e)}build(t,e,n,r){gt(t,e,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,e,n,r){Tt(t,e,0,r)}mount(t){this.isSVGTag=yt(t.tagName),super.mount(t)}}const Ns=(t,e)=>k(t)?new Ls(e,{enableHardwareAcceleration:!1}):new Os(e,{enableHardwareAcceleration:!0}),Ps={..._r,...ie,...ls,...{layout:{ProjectionNode:us,MeasureLayout:fi}}},Ms=I(((t,e)=>function(t,{forwardMotionProps:e=!1},n,r){return{...k(t)?Lt:Nt,preloadedFeatures:n,useRender:bt(e),createVisualElement:r,Component:t}}(t,e,Ps,Ns)))},7035:function(t,e,n){"use strict";n.d(e,{K:function(){return i},k:function(){return s}});var r=n(65);let i=r.Z,s=r.Z},3791:function(t,e,n){"use strict";n.d(e,{j:function(){return r}});const r="undefined"!==typeof document},65:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});const r=t=>t},2062:function(t,e,n){"use strict";n.d(e,{A:function(){return s}});var r=n(3791),i=n(1139);function s(){if(i.O.current=!0,r.j)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>i.n.current=t.matches;t.addListener(e),e()}else i.n.current=!1}},1139:function(t,e,n){"use strict";n.d(e,{O:function(){return i},n:function(){return r}});const r={current:null},i={current:!1}},3105:function(t,e,n){"use strict";n.d(e,{h:function(){return i}});var r=n(2784);function i(t){const e=(0,r.useRef)(null);return null===e.current&&(e.current=t()),e.current}},3617:function(t,e,n){"use strict";n.d(e,{L:function(){return i}});var r=n(2784);const i=n(3791).j?r.useLayoutEffect:r.useEffect},4896:function(t,e,n){"use strict";n.d(e,{Ix:function(){return S},Am:function(){return P}});var r=n(2784);function i(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=i(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}var s=function(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=i(t))&&(r&&(r+=" "),r+=e);return r};const o=t=>"number"==typeof t&&!isNaN(t),a=t=>"string"==typeof t,c=t=>"function"==typeof t,u=t=>a(t)||c(t)?t:null,l=t=>(0,r.isValidElement)(t)||a(t)||c(t)||o(t);function h(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:s=!0,collapseDuration:o=300}=t;return function(t){let{children:a,position:c,preventExitTransition:u,done:l,nodeRef:h,isIn:d}=t;const f=i?`${e}--${c}`:e,p=i?`${n}--${c}`:n,m=(0,r.useRef)(0);return(0,r.useLayoutEffect)((()=>{const t=h.current,e=f.split(" "),n=r=>{r.target===h.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",n),t.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&t.classList.remove(...e))};t.classList.add(...e),t.addEventListener("animationend",n),t.addEventListener("animationcancel",n)}),[]),(0,r.useEffect)((()=>{const t=h.current,e=()=>{t.removeEventListener("animationend",e),s?function(t,e,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)}))}))}(t,l,o):l()};d||(u?e():(m.current=1,t.className+=` ${p}`,t.addEventListener("animationend",e)))}),[d]),r.createElement(r.Fragment,null,a)}}function d(t,e){return null!=t?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const f={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter((t=>t!==e));return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach((e=>{const n=setTimeout((()=>{e(...[].slice.call(arguments,1))}),0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)}))}},p=t=>{let{theme:e,type:n,...i}=t;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":`var(--toastify-icon-color-${n})`,...i})},m={info:function(t){return r.createElement(p,{...t},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return r.createElement(p,{...t},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return r.createElement(p,{...t},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return r.createElement(p,{...t},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function g(t){const[,e]=(0,r.useReducer)((t=>t+1),0),[n,i]=(0,r.useState)([]),s=(0,r.useRef)(null),h=(0,r.useRef)(new Map).current,p=t=>-1!==n.indexOf(t),g=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:p,getToast:t=>h.get(t)}).current;function v(t){let{containerId:e}=t;const{limit:n}=g.props;!n||e&&g.containerId!==e||(g.count-=g.queue.length,g.queue=[])}function y(t){i((e=>null==t?[]:e.filter((e=>e!==t))))}function _(){const{toastContent:t,toastProps:e,staleId:n}=g.queue.shift();w(t,e,n)}function b(t,n){let{delay:i,staleId:p,...v}=n;if(!l(t)||function(t){return!s.current||g.props.enableMultiContainer&&t.containerId!==g.props.containerId||h.has(t.toastId)&&null==t.updateId}(v))return;const{toastId:b,updateId:C,data:E}=v,{props:T}=g,S=()=>y(b),I=null==C;I&&g.count++;const x={...T,style:T.toastStyle,key:g.toastKey++,...Object.fromEntries(Object.entries(v).filter((t=>{let[e,n]=t;return null!=n}))),toastId:b,updateId:C,data:E,closeToast:S,isIn:!1,className:u(v.className||T.toastClassName),bodyClassName:u(v.bodyClassName||T.bodyClassName),progressClassName:u(v.progressClassName||T.progressClassName),autoClose:!v.isLoading&&(k=v.autoClose,A=T.autoClose,!1===k||o(k)&&k>0?k:A),deleteToast(){const t=d(h.get(b),"removed");h.delete(b),f.emit(4,t);const n=g.queue.length;if(g.count=null==b?g.count-g.displayedToast:g.count-1,g.count<0&&(g.count=0),n>0){const t=null==b?g.props.limit:1;if(1===n||1===t)g.displayedToast++,_();else{const e=t>n?n:t;g.displayedToast=e;for(let t=0;t<e;t++)_()}}else e()}};var k,A;x.iconOut=function(t){let{theme:e,type:n,isLoading:i,icon:s}=t,u=null;const l={theme:e,type:n};return!1===s||(c(s)?u=s(l):(0,r.isValidElement)(s)?u=(0,r.cloneElement)(s,l):a(s)||o(s)?u=s:i?u=m.spinner():(t=>t in m)(n)&&(u=m[n](l))),u}(x),c(v.onOpen)&&(x.onOpen=v.onOpen),c(v.onClose)&&(x.onClose=v.onClose),x.closeButton=T.closeButton,!1===v.closeButton||l(v.closeButton)?x.closeButton=v.closeButton:!0===v.closeButton&&(x.closeButton=!l(T.closeButton)||T.closeButton);let R=t;(0,r.isValidElement)(t)&&!a(t.type)?R=(0,r.cloneElement)(t,{closeToast:S,toastProps:x,data:E}):c(t)&&(R=t({closeToast:S,toastProps:x,data:E})),T.limit&&T.limit>0&&g.count>T.limit&&I?g.queue.push({toastContent:R,toastProps:x,staleId:p}):o(i)?setTimeout((()=>{w(R,x,p)}),i):w(R,x,p)}function w(t,e,n){const{toastId:r}=e;n&&h.delete(n);const s={content:t,props:e};h.set(r,s),i((t=>[...t,r].filter((t=>t!==n)))),f.emit(4,d(s,null==s.props.updateId?"added":"updated"))}return(0,r.useEffect)((()=>(g.containerId=t.containerId,f.cancelEmit(3).on(0,b).on(1,(t=>s.current&&y(t))).on(5,v).emit(2,g),()=>{h.clear(),f.emit(3,g)})),[]),(0,r.useEffect)((()=>{g.props=t,g.isToastActive=p,g.displayedToast=n.length})),{getToastToRender:function(e){const n=new Map,r=Array.from(h.values());return t.newestOnTop&&r.reverse(),r.forEach((t=>{const{position:e}=t.props;n.has(e)||n.set(e,[]),n.get(e).push(t)})),Array.from(n,(t=>e(t[0],t[1])))},containerRef:s,isToastActive:p}}function v(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function y(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function _(t){const[e,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),o=(0,r.useRef)(null),a=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=(0,r.useRef)(t),{autoClose:l,pauseOnHover:h,closeToast:d,onClick:f,closeOnClick:p}=t;function m(e){if(t.draggable){"touchstart"===e.nativeEvent.type&&e.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",C),document.addEventListener("touchmove",w),document.addEventListener("touchend",C);const n=o.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=n.getBoundingClientRect(),n.style.transition="",a.x=v(e.nativeEvent),a.y=y(e.nativeEvent),"x"===t.draggableDirection?(a.start=a.x,a.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(a.start=a.y,a.removalDistance=n.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function g(e){if(a.boundingRect){const{top:n,bottom:r,left:i,right:s}=a.boundingRect;"touchend"!==e.nativeEvent.type&&t.pauseOnHover&&a.x>=i&&a.x<=s&&a.y>=n&&a.y<=r?b():_()}}function _(){n(!0)}function b(){n(!1)}function w(n){const r=o.current;a.canDrag&&r&&(a.didMove=!0,e&&b(),a.x=v(n),a.y=y(n),a.delta="x"===t.draggableDirection?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),r.style.transform=`translate${t.draggableDirection}(${a.delta}px)`,r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function C(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",C),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",C);const e=o.current;if(a.canDrag&&a.didMove&&e){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return s(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform=`translate${t.draggableDirection}(0)`,e.style.opacity="1"}}(0,r.useEffect)((()=>{u.current=t})),(0,r.useEffect)((()=>(o.current&&o.current.addEventListener("d",_,{once:!0}),c(t.onOpen)&&t.onOpen((0,r.isValidElement)(t.children)&&t.children.props),()=>{const t=u.current;c(t.onClose)&&t.onClose((0,r.isValidElement)(t.children)&&t.children.props)})),[]),(0,r.useEffect)((()=>(t.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",_),window.addEventListener("blur",b)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",_),window.removeEventListener("blur",b))})),[t.pauseOnFocusLoss]);const E={onMouseDown:m,onTouchStart:m,onMouseUp:g,onTouchEnd:g};return l&&h&&(E.onMouseEnter=b,E.onMouseLeave=_),p&&(E.onClick=t=>{f&&f(t),a.canCloseOnClick&&d()}),{playToast:_,pauseToast:b,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:E}}function b(t){let{closeToast:e,theme:n,ariaLabel:i="close"}=t;return r.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:t=>{t.stopPropagation(),e(t)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function w(t){let{delay:e,isRunning:n,closeToast:i,type:o="default",hide:a,className:u,style:l,controlledProgress:h,progress:d,rtl:f,isIn:p,theme:m}=t;const g=a||h&&0===d,v={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:g?0:1};h&&(v.transform=`scaleX(${d})`);const y=s("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":f}),_=c(u)?u({rtl:f,type:o,defaultClassName:y}):s(y,u);return r.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:_,style:v,[h&&d>=1?"onTransitionEnd":"onAnimationEnd"]:h&&d<1?null:()=>{p&&i()}})}const C=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:o}=_(t),{closeButton:a,children:u,autoClose:l,onClick:h,type:d,hideProgressBar:f,closeToast:p,transition:m,position:g,className:v,style:y,bodyClassName:C,bodyStyle:E,progressClassName:T,progressStyle:S,updateId:I,role:x,progress:k,rtl:A,toastId:R,deleteToast:D,isIn:O,isLoading:L,iconOut:N,closeOnClick:P,theme:M}=t,F=s("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":P}),j=c(v)?v({rtl:A,position:g,type:d,defaultClassName:F}):s(F,v),U=!!k||!l,B={closeToast:p,type:d,theme:M};let V=null;return!1===a||(V=c(a)?a(B):(0,r.isValidElement)(a)?(0,r.cloneElement)(a,B):b(B)),r.createElement(m,{isIn:O,done:D,position:g,preventExitTransition:n,nodeRef:i},r.createElement("div",{id:R,onClick:h,className:j,...o,style:y,ref:i},r.createElement("div",{...O&&{role:x},className:c(C)?C({type:d}):s("Toastify__toast-body",C),style:E},null!=N&&r.createElement("div",{className:s("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},N),r.createElement("div",null,u)),V,r.createElement(w,{...I&&!U?{key:`pb-${I}`}:{},rtl:A,theme:M,delay:l,isRunning:e,isIn:O,closeToast:p,hide:f,type:d,style:S,className:T,controlledProgress:U,progress:k||0})))},E=function(t,e){return void 0===e&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},T=h(E("bounce",!0)),S=(h(E("slide",!0)),h(E("zoom")),h(E("flip")),(0,r.forwardRef)(((t,e)=>{const{getToastToRender:n,containerRef:i,isToastActive:o}=g(t),{className:a,style:l,rtl:h,containerId:d}=t;function f(t){const e=s("Toastify__toast-container",`Toastify__toast-container--${t}`,{"Toastify__toast-container--rtl":h});return c(a)?a({position:t,rtl:h,defaultClassName:e}):s(e,u(a))}return(0,r.useEffect)((()=>{e&&(e.current=i.current)}),[]),r.createElement("div",{ref:i,className:"Toastify",id:d},n(((t,e)=>{const n=e.length?{...l}:{...l,pointerEvents:"none"};return r.createElement("div",{className:f(t),style:n,key:`container-${t}`},e.map(((t,n)=>{let{content:i,props:s}=t;return r.createElement(C,{...s,isIn:o(s.toastId),style:{...s.style,"--nth":n+1,"--len":e.length},key:`toast-${s.key}`},i)})))})))})));S.displayName="ToastContainer",S.defaultProps={position:"top-right",transition:T,autoClose:5e3,closeButton:b,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let I,x=new Map,k=[],A=1;function R(){return""+A++}function D(t){return t&&(a(t.toastId)||o(t.toastId))?t.toastId:R()}function O(t,e){return x.size>0?f.emit(0,t,e):k.push({content:t,options:e}),e.toastId}function L(t,e){return{...e,type:e&&e.type||t,toastId:D(e)}}function N(t){return(e,n)=>O(e,L(t,n))}function P(t,e){return O(t,L("default",e))}P.loading=(t,e)=>O(t,L("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),P.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=a(i)?P.loading(i,n):P.loading(i.render,{...n,...i}));const u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(t,e,i)=>{if(null==e)return void P.dismiss(r);const s={type:t,...u,...n,data:i},o=a(e)?{render:e}:e;return r?P.update(r,{...s,...o}):P(o.render,{...s,...o}),i},h=c(t)?t():t;return h.then((t=>l("success",o,t))).catch((t=>l("error",s,t))),h},P.success=N("success"),P.info=N("info"),P.error=N("error"),P.warning=N("warning"),P.warn=P.warning,P.dark=(t,e)=>O(t,L("default",{theme:"dark",...e})),P.dismiss=t=>{x.size>0?f.emit(1,t):k=k.filter((e=>null!=t&&e.options.toastId!==t))},P.clearWaitingQueue=function(t){return void 0===t&&(t={}),f.emit(5,t)},P.isActive=t=>{let e=!1;return x.forEach((n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)})),e},P.update=function(t,e){void 0===e&&(e={}),setTimeout((()=>{const n=function(t,e){let{containerId:n}=e;const r=x.get(n||I);return r&&r.getToast(t)}(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:R()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,O(o,s)}}),0)},P.done=t=>{P.update(t,{progress:1})},P.onChange=t=>(f.on(4,t),()=>{f.off(4,t)}),P.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},P.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},f.on(2,(t=>{I=t.containerId||t,x.set(I,t),k.forEach((t=>{f.emit(0,t.content,t.options)})),k=[]})).on(3,(t=>{x.delete(t.containerId||t),0===x.size&&f.off(0).off(1).off(5)}))}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[9774,179],(function(){return e(4961),e(1605),e(283),e(3642)}));var n=t.O();_N_E=n}]);
//# sourceMappingURL=_app-6a40606e9d92f7be.js.map