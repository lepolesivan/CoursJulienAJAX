(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[356],{594:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/player/[username]",function(){return t(6178)}])},9014:function(e,n,t){"use strict";t.d(n,{z:function(){return c}});var i=t(865),a=t(6670),r=t(6297),s=t(2322),l=(t(2784),t(9241));function c(e){var n=e.type,t=void 0===n?"button":n,c=e.primary,o=e.danger,d=e.success,u=e.cool,h=e.size,m=e.extraClasses,p=void 0===m?"":m,g=e.children,x=e.isLoading,v=(0,r.Z)(e,["type","primary","danger","success","cool","size","extraClasses","children","isLoading"]);return(0,s.jsxs)("button",(0,a.Z)((0,i.Z)({type:t,className:"button ".concat(c?"button--primary":""," \n      ").concat(u?"button--cssbattle":"","\n      ").concat(h?"button--".concat(h):"","\n      ").concat(d?"button--success":""," ").concat(o?"button--danger":""," ").concat(p),disabled:x},v),{children:[g,(0,s.jsx)("div",{style:{display:"flex",transition:"max-width 0.3s ease",overflow:"hidden",maxWidth:x?"1.6em":0},children:(0,s.jsx)(l.a,{height:"1.2em",leftMargin:"0.5rem"})})]}))}},1453:function(e,n,t){"use strict";t.d(n,{M:function(){return s}});var i=t(2322),a=t(6746),r=t(5598);function s(e){var n=e.children,t=e.sticky,s=e.keyCombo,l=e.extraContent,c=e.meta;s&&s.split("+");return(0,i.jsxs)("div",{className:"item__header  ".concat(t?"item__header--sticky":""),children:[(0,i.jsxs)(r.HStack,{gap:"0.5rem",children:[(0,i.jsx)("h3",{className:"header__title",children:n}),l,s?(0,i.jsx)(a.M,{value:s}):null]}),(0,i.jsx)("div",{className:"header__extra-info",children:c})]})}},6746:function(e,n,t){"use strict";t.d(n,{M:function(){return o}});var i=t(6383),a=t(930),r=t(2322),s=t(2784),l=t(5598);function c(e){return"Control"===e?"ctrl":e.toLowerCase()}var o=function(e){var n=e.value,t=n&&n.split("+"),o=(0,i.Z)(s.useState([]),2),d=o[0],u=o[1];(0,s.useEffect)((function(){var e=function(e){var n=c(e.key);t.includes(n)&&!d.includes(n)&&(d.push(n),u((0,a.Z)(d)))},n=function(e){var n=c(e.key);t.includes(n)&&d.includes(n)&&(d.splice(d.indexOf(n),1),u((0,a.Z)(d)))};return document.body.addEventListener("keydown",e,{capture:!0}),document.body.addEventListener("keyup",n,{capture:!0}),function(){removeEventListener("keydown",e),removeEventListener("keyup",n)}}),[]);d.length;return(0,r.jsx)(l.HStack,{gap:"0.25rem",children:t&&t.map((function(e,n){return(0,r.jsx)("p",{className:"pill  pill--key ".concat(d.includes(e)&&d.includes("ctrl")?"pill--key-pressed":""),children:e},n)}))})}},4200:function(e,n,t){"use strict";t.d(n,{T:function(){return l}});var i=t(2322),a=t(9604),r=t(5598),s=t(7841),l=function(e){var n=e.icon,t=e.value,l=e.valueDim,c=e.description,o=e.large,d=void 0!==o&&o;return(0,i.jsx)("div",{className:"leaderboard-stats-box ".concat(d?"leaderboard-stats-box--large":""),children:(0,i.jsxs)(r.VStack,{gap:0,children:[(0,i.jsx)("div",{className:"leaderboard-stats-box__icon",children:(0,i.jsx)(a.J,{name:n,color:"var(--clr-brand)",size:d?24:20,marginRight:"0"})}),(0,i.jsxs)(r.HStack,{gap:"0.5rem",children:[(0,i.jsx)(s.x,{mono:!1,size:d?3:2,weight:700,appearance:"primary",children:t}),l&&(0,i.jsx)(s.x,{mono:!1,size:d?3:2,weight:500,appearance:"secondary",children:l})]}),(0,i.jsx)(s.x,{mono:!1,size:d?1:0,weight:500,appearance:"tertiary",children:c})]})})}},384:function(e,n,t){"use strict";t.d(n,{u:function(){return g}});var i=t(865),a=t(6670),r=t(6297),s=t(2322),l=(t(2784),t(3140)),c=t(3125),o=t(3517),d=t(5239),u=t(1453),h=(0,c.E)(l.cZ),m=(0,c.E)(l.t9),p={type:"spring",damping:9,stiffness:120,duration:500};function g(e){var n=e.isOpen,t=e.onRequestClose,l=e.size,c=void 0===l?"big":l,g=e.extraClasses,x=e.header,v=e.title,f=e.hideOverlay,j=e.children,y=(0,r.Z)(e,["isOpen","onRequestClose","size","extraClasses","header","title","hideOverlay","children"]),k=(0,o.J)();return(0,s.jsx)(d.M,{children:n?(0,s.jsx)(m,(0,a.Z)((0,i.Z)({initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}},style:{background:f?"transparent":null},isOpen:n,onDismiss:t},y),{children:(0,s.jsxs)(h,{className:"modal--".concat(c," ").concat(g),transition:k?{duration:500}:p,initial:{y:k?0:-100},animate:{y:0},exit:{opacity:0,y:k?0:-200,transition:{duration:.2}},"aria-label":v,children:[x?(0,s.jsx)(u.M,{children:x}):null,(0,s.jsx)("div",{style:{padding:"2rem"},children:j})]})})):null})}},5416:function(e,n,t){"use strict";t.d(n,{s:function(){return s}});var i=t(2322),a=t(8033),r=t.n(a),s=function(e){var n=e.classes,t=void 0===n?"":n,a=e.padding,s=void 0===a?"2rem":a,l=e.fullWidth,c=void 0!==l&&l,o=e.fullHeight,d=void 0!==o&&o,u=e.glowing,h=void 0!==u&&u,m=e.topFocus,p=void 0!==m&&m,g=e.onlyBorder,x=void 0!==g&&g,v=e.children;return(0,i.jsx)("div",{style:{padding:s,width:c?"100%":"auto",height:d?"100%":"auto"},className:"".concat(r().panel," ").concat(t," ").concat(h&&r().panelGlowing," ").concat(p&&r().panelTopFocus," ").concat(x&&r().panelOnlyBorder),children:v})}},6178:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return F}});var i=t(8788),a=t(2970),r=t(2322),s=t(2784),l=t(7729),c=t.n(l),o=t(5632),d=(t(6399),t(9014)),u=t(3552),h=t(7037),m=t(8688),p=t.n(m),g=t(9241),x=t(1251),v=t(9604),f=t(4896),j=t(3290),y=t(384),k=t(5598),b=t(5416),w=t(7841),S=t(4200),_=(t(4675),t(3125)),N=[{name:"twitter",url:"https://twitter.com/"},{name:"github",url:"https://github.com/"},{name:"codepen",url:"https://codepen.io/"},{name:"linkedin",url:"https://linkedin.com/"},{name:"instagram",url:"https://instagram.com/"},{name:"youtube",url:"https://youtube.com/"},{name:"twitch",url:"https://twitch.tv/"}],z=(0,_.E)(k.VStack);function C(e){var n=e.iconName,t=e.href;return(0,r.jsx)("a",{className:"button button--icon",rel:"external noopener noreferrer",target:"_blank",href:t,children:(0,r.jsx)(v.J,{name:n,size:"18",marginRight:"0"})})}var I=function(e){e.icon;var n=e.value,t=e.name;return(0,r.jsx)(b.s,{onlyBorder:!0,fullWidth:!0,padding:"1rem",children:(0,r.jsxs)(k.VStack,{gap:"0.1rem",children:[(0,r.jsx)(w.x,{mono:!1,size:3,weight:700,appearance:"brand",children:n}),(0,r.jsx)(w.x,{mono:!1,size:1,weight:500,appearance:"tertiary",children:t})]})})},V=["var(--clr-gold-crown)","var(--clr-silver-crown)","var(--clr-bronze-crown)"],E=["Gold","Silver","Bronze"],H=function(e){var n=e.rank,t=e.list,i=e.onShowMore;return t.length?(0,r.jsx)("div",{style:{width:"100%"},children:(0,r.jsxs)(k.VStack,{align:"stretch",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(k.HStack,{gap:"0.5rem",children:[(0,r.jsx)(v.J,{name:"crown",size:"1em",color:V[n-1],marginRight:"0"}),(0,r.jsx)(w.x,{size:"2",weight:"600",mono:!1,tag:"h2",appearance:"primary",children:E[n-1]}),(0,r.jsx)("div",{className:"pill",children:t.length})]})}),(0,r.jsxs)("div",{className:"leading-targets--overlapping leading-targets--2",children:[t.slice(0,60).map((function(e){return(0,r.jsx)(T,{level:e},e.levelId)})),t.length>60&&(0,r.jsxs)(d.z,{onClick:i,children:["+ ",t.length-60," more"]})]})]})}):null},T=function(e){var n,t=e.level;return(0,r.jsxs)("div",{className:"leading-targets__item",children:[(0,r.jsx)("a",{href:"/play/".concat(t.levelId),className:"shadow-link",title:"Play target number ".concat(t.levelId)}),(0,r.jsx)("img",{src:"/targets/".concat(t.levelId,".png"),srcSet:"".concat((n="/targets/".concat(t.levelId,".png"),n.replace(/\.png/,"@2x.png"))," 2x"),className:"leading-targets__image",alt:""}),(0,r.jsx)("div",{className:"target-top-info target-top-info--invert"})]},t.levelId)},F=!0;n.default=function(e){var n,t=e.player,l=(0,o.useRouter)().query.username||t.username||t.id,m=(0,s.useContext)(u.S),_=(0,s.useState)(t),V=_[0],E=_[1],F=(0,s.useState)(),P=F[0],O=F[1],L=(0,s.useState)(),M=L[0],R=L[1],Z=(0,s.useState)(),B=Z[0],A=Z[1],q=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:for(n=[],t=1;t<=p().length;t++)n.push((0,h.sk)(t));return[4,Promise.all(n)];case 1:return i=(i=a.sent()).map((function(n,t){var i=n.findIndex((function(n){return n.userId===e}));if(-1!==i)return{levelId:n[i].levelId,data:n[i],rank:i+1}})).filter((function(e){return e})),[2,i]}}))}));return function(n){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){var e=Promise.resolve(V);V||(e=l.length>20?(0,h.$Y)(l):(0,h.Ty)(l)),e.then((function(e){E(e),e&&((0,h.r8)({userId:e.id||e.userId}).then((function(e){O(e)})),q(e.id).then((function(e){var n=[[],[],[]];e.forEach((function(e){n[e.rank-1].push(e)})),R(e),A(n)})))}))}),[l]);var J=(0,s.useState)(),G=J[0],D=J[1];(0,s.useEffect)((function(){V&&m&&m.uid&&(0,h.T8)({followedId:V.id,followerId:m.uid}).then((function(e){D(e)}))}),[V,m?m.uid:""]);var W=(0,s.useState)(),Y=W[0],Q=W[1],U=(0,s.useState)(),X=U[0],$=U[1],K=(0,s.useState)(),ee=K[0],ne=K[1];(0,s.useEffect)((function(){V&&((0,h.vU)(V.id).then((function(e){$(e)})),(0,h.QC)(V.id).then((function(e){ne(e)})))}),[V]);var te,ie=(0,s.useState)({isVisible:!1,list:null,icon:""}),ae=ie[0],re=ie[1];return(0,r.jsxs)(r.Fragment,{children:[(null===V||void 0===V?void 0:V.displayName)&&(0,r.jsxs)(c(),{children:[(0,r.jsx)("title",{children:"".concat(V.displayName," | CSSBattle")},"title"),(0,r.jsx)("meta",{property:"og:title",content:"".concat(V.displayName," | CSSBattle")},"ogTitle"),(0,r.jsx)("link",{rel:"canonical",href:"https://cssbattle.dev/player/".concat(l)}),(0,r.jsx)("meta",{property:"og:image",content:"https://cssbattle.dev/api/socialImage/player?id=".concat(l)},"banner")]}),(0,r.jsxs)(k.VStack,{align:"stretch",gap:"3rem",children:[(0,r.jsx)("div",{style:{marginTop:"2rem"},children:(0,r.jsx)("div",{className:"profile-page-card",children:(0,r.jsxs)("div",{style:{textAlign:"center"},children:[void 0===V&&(0,r.jsxs)("p",{style:{display:"flex",alignItems:"center",margin:"1rem"},children:[(0,r.jsx)(g.a,{})," Fetching player information..."]}),V&&(0,r.jsxs)(k.VStack,{align:"stretch",children:[(0,r.jsxs)(k.HStack,{responsive:!0,justify:"space-between",align:"flex-start",children:[(0,r.jsx)("div",{className:"user-details__social-links",style:{width:"100%"},children:(0,r.jsxs)(k.HStack,{gap:"0.5rem",justify:"flex-start",children:[(null===(n=V.links)||void 0===n?void 0:n.website)&&(0,r.jsx)(C,{href:(te=V.links.website,te.match(/http/)||te.match(/www/)?te:"https://".concat(te)),iconName:"earth"}),N.map((function(e){var n;return(null===(n=V.links)||void 0===n?void 0:n[e.name])?(0,r.jsx)(C,{href:"".concat(e.url).concat(V.links[e.name]),iconName:e.name},e.name):null}))]})}),(0,r.jsx)("div",{className:"user-details__main",children:(0,r.jsxs)(k.VStack,{gap:"1.5rem",children:[(0,r.jsx)(x.qE,{size:"100",url:V.avatar,className:"user-details__avatar",username:V.username,userId:V.id||V.uid,isPro:V.isPro,alt:V.displayName||""}),(0,r.jsxs)(k.VStack,{gap:"0.5rem",children:[(0,r.jsxs)(k.HStack,{gap:"0.5rem",children:[(0,r.jsxs)("h1",{className:"user-details__name",children:[V.displayName," "]}),V.username&&(0,r.jsxs)("p",{className:"user-details__username",children:["@",V.username]})]}),V.whatYouDo&&(0,r.jsx)("div",{style:{minWidth:"25ch"},children:(0,r.jsx)(w.x,{weight:"500",mono:!1,size:"1",appearance:"tertiary",children:V.whatYouDo})})]}),(0,r.jsxs)(k.HStack,{gap:"0.5rem",children:[V.country&&(0,r.jsx)("div",{className:"pill",children:V.country}),V.isAvailableForHire&&(0,r.jsx)("div",{className:"pill pill--success",children:"Available for hire"})]})]})}),(0,r.jsx)("div",{className:"user-details__actions",style:{width:"100%"},children:(0,r.jsx)(k.HStack,{justify:"flex-end",children:(0,r.jsxs)("div",{children:[m&&m.uid===V.id&&(0,r.jsx)("a",{className:"button button--primary",href:"/settings/",children:V.username?"Edit profile":"Claim you username"}),m&&!G&&V.id!==m.uid?(0,r.jsx)(d.z,{primary:!0,isLoading:Y,onClick:function(){Q(!0),(0,h.hC)({followedId:V.id,followerId:m.uid}).then((function(){Q(!1),D(!0),f.Am.info('You added "'.concat(V.displayName,'" as a friend. (Friends show in your friend-only leaderboards)')),(0,j.q)({name:"playerFriended",label:V.id})}))},disabled:void 0===G,children:"Add to Friends"}):null,m&&G?(0,r.jsx)(d.z,{isLoading:Y,onClick:function(){Q(!0),(0,h.W)({followedId:V.id,followerId:m.uid}).then((function(){Q(!1),D(!1),f.Am.info('You removed "'.concat(V.displayName,'" as a friend.')),(0,j.q)({name:"playerUnFriended",label:V.id})}))},disabled:void 0===G,children:"Remove from Friends"}):null]})})})]}),(0,r.jsxs)(k.HStack,{responsive:!0,children:[(0,r.jsx)(S.T,{icon:"fire-filled",value:"".concat((null===X||void 0===X?void 0:X.streak.count)||0," day").concat(1===(null===X||void 0===X?void 0:X.streak.count)?"":"s"),description:"Current Streak"}),(0,r.jsx)(S.T,{icon:"fire",value:"".concat((null===X||void 0===X?void 0:X.longestStreak)||0," day").concat(1===(null===X||void 0===X?void 0:X.longestStreak)?"":"s"),description:"Longest streak"})]})]})]})})}),(0,r.jsxs)(k.HStack,{gap:"2rem",align:"flex-end",justify:"stretch",responsive:!0,children:[(0,r.jsx)("div",{style:{flex:1},children:P&&(0,r.jsx)(k.VStack,{align:"stretch",gap:"3rem",children:(0,r.jsxs)(k.VStack,{gap:"1rem",align:"stretch",children:[(0,r.jsxs)(k.HStack,{gap:"0.5rem",children:[(0,r.jsx)(v.J,{name:"battle",marginRight:"0",color:"var(--clr-text-lightest-final)"}),(0,r.jsx)(w.x,{size:"3",weight:"600",mono:!1,tag:"h2",appearance:"primary",children:"Battle stats"})]}),(0,r.jsxs)(k.HStack,{gap:"1rem",align:"stretch",children:[(0,r.jsx)(I,{icon:"crown",value:P.rank,name:"Global rank"}),(0,r.jsx)(I,{icon:"target",value:P.playedCount,name:"Targets played"}),(0,r.jsx)(I,{icon:"bolt",value:P.score.toFixed(2),name:"Total score"})]})]})})}),(0,r.jsx)("div",{style:{flex:1},children:P&&(0,r.jsx)(k.VStack,{align:"stretch",gap:"3rem",children:(0,r.jsxs)(k.VStack,{gap:"1rem",align:"stretch",children:[(0,r.jsxs)(k.HStack,{gap:"0.5rem",children:[(0,r.jsx)(v.J,{name:"daily-targets",marginRight:"0",color:"var(--clr-text-lightest-final)"}),(0,r.jsx)(w.x,{size:"3",weight:"600",mono:!1,tag:"h2",appearance:"primary",children:"Daily targets stats"})]}),(0,r.jsxs)(k.HStack,{gap:"1rem",align:"stretch",children:[(0,r.jsx)(I,{icon:"target",name:"Targets played",value:(null===ee||void 0===ee?void 0:ee.playedCount)||0}),(0,r.jsx)(I,{icon:"percent",name:"Avg match",value:"".concat((null===ee||void 0===ee?void 0:ee.averageMatch)||0,"%")}),(0,r.jsx)(I,{icon:"characters",name:"Avg characters",value:"".concat((null===ee||void 0===ee?void 0:ee.averageCodeSize)||0)})]})]})})})]}),(0,r.jsx)("div",{style:{flexGrow:1},children:(0,r.jsxs)("div",{className:"",children:[!P&&null!==V&&(0,r.jsxs)("p",{style:{display:"flex",alignItems:"center",margin:"1rem"},children:[(0,r.jsx)(g.a,{})," Fetching player data..."]}),null===V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{width:"300",src:"/images/not-found.png",alt:""}),(0,r.jsx)("p",{children:(0,r.jsxs)("em",{style:{color:"grey"},children:["Image by"," ",(0,r.jsx)("a",{target:"_blank",rel:"external noreferrer noopener",href:"https://icons8.com/ouch/illustration/no-connection",children:"Icons8"})]})}),(0,r.jsx)("p",{children:"This profile doesn't exist. If this is you, you can claim it by logging in."})]}),M&&M.length?(0,r.jsxs)(z,{align:"stretch",initial:{opacity:0},animate:{opacity:1},children:[(0,r.jsxs)(k.HStack,{gap:"0.5rem",children:[(0,r.jsx)(v.J,{name:"target",marginRight:"0",color:"var(--clr-text-lightest-final)"}),(0,r.jsx)(w.x,{size:"3",weight:"600",mono:!1,tag:"h2",appearance:"primary",children:"Leading targets"}),(0,r.jsx)("div",{className:"pill",children:M.length})]}),(0,r.jsx)(b.s,{onlyBorder:!0,children:(0,r.jsxs)(k.VStack,{align:"flex-start",gap:"2rem",children:[(0,r.jsx)(H,{rank:1,list:B[0],onShowMore:function(){re({isVisible:!0,list:B[0],icon:"/images/icons/gold.svg"})}}),(0,r.jsx)(H,{rank:2,list:B[1],onShowMore:function(){re({isVisible:!0,list:B[1],icon:"/images/icons/silver.svg"})}}),(0,r.jsx)(H,{rank:3,list:B[2],onShowMore:function(){re({isVisible:!0,list:B[2],icon:"/images/icons/bronze.svg"})}})]})})]}):null,(0,r.jsx)(y.u,{isOpen:ae.isVisible,onRequestClose:function(){return re({isVisible:!1})},children:(0,r.jsxs)(k.VStack,{gap:"1rem",align:"stretch",children:[(0,r.jsx)(k.HStack,{justify:"center",children:(0,r.jsx)("img",{src:ae.icon,width:"40",style:{marginTop:"-2.7rem"}})}),ae.list?(0,r.jsx)("div",{className:"leading-targets--2-grid",children:ae.list.map((function(e){return(0,r.jsx)(T,{level:e},e.levelId)}))}):null]})})]})})]})]})}},8033:function(e){e.exports={panel:"Panel_panel__1nQxb",panelOnlyBorder:"Panel_panelOnlyBorder__pccxd",panelGlowing:"Panel_panelGlowing__Pj0jn",panelTopFocus:"Panel_panelTopFocus__S4VQe"}}},function(e){e.O(0,[7059,9774,2888,179],(function(){return n=594,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=[username]-22422179bbf5151f.js.map