(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{1565:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return n(8101)}])},9014:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var o=n(865),a=n(6670),r=n(6297),c=n(2322),i=(n(2784),n(9241));function u(e){var t=e.type,n=void 0===t?"button":t,u=e.primary,s=e.danger,d=e.success,l=e.cool,y=e.size,h=e.extraClasses,m=void 0===h?"":h,S=e.children,C=e.isLoading,N=(0,r.Z)(e,["type","primary","danger","success","cool","size","extraClasses","children","isLoading"]);return(0,c.jsxs)("button",(0,a.Z)((0,o.Z)({type:n,className:"button ".concat(u?"button--primary":""," \n      ").concat(l?"button--cssbattle":"","\n      ").concat(y?"button--".concat(y):"","\n      ").concat(d?"button--success":""," ").concat(s?"button--danger":""," ").concat(m),disabled:C},N),{children:[S,(0,c.jsx)("div",{style:{display:"flex",transition:"max-width 0.3s ease",overflow:"hidden",maxWidth:C?"1.6em":0},children:(0,c.jsx)(i.a,{height:"1.2em",leftMargin:"0.5rem"})})]}))}},8431:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var o=n(2322),a=n(9604),r=n(5598),c=n(3196),i=n.n(c),u=n(7841),s=n(8329),d=n(3125),l=function(e){var t=e.icon,n=e.showProBadge,c=e.title,l=e.subtitle;return(0,o.jsx)(d.E.div,{className:i().innerPageHeader,initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,o.jsxs)(r.VStack,{children:[t?(0,o.jsx)(a.J,{size:"32",marginRight:"0",name:t,color:"var(--clr-brand)"}):null,n?(0,o.jsx)(s.Z,{height:"24"}):null,(0,o.jsx)(u.x,{size:4,weight:"600",mono:!1,tag:"h1",appearance:"primary",children:c}),(0,o.jsx)("div",{style:{maxWidth:"72ch"},children:(0,o.jsx)(u.x,{size:1,weight:"500",mono:!1,tag:"p",letterSpacing:"0.3px",appearance:"secondary",lineHeight:"1.5",align:"center",children:l})})]})})}},4200:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var o=n(2322),a=n(9604),r=n(5598),c=n(7841),i=function(e){var t=e.icon,n=e.value,i=e.valueDim,u=e.description,s=e.large,d=void 0!==s&&s;return(0,o.jsx)("div",{className:"leaderboard-stats-box ".concat(d?"leaderboard-stats-box--large":""),children:(0,o.jsxs)(r.VStack,{gap:0,children:[(0,o.jsx)("div",{className:"leaderboard-stats-box__icon",children:(0,o.jsx)(a.J,{name:t,color:"var(--clr-brand)",size:d?24:20,marginRight:"0"})}),(0,o.jsxs)(r.HStack,{gap:"0.5rem",children:[(0,o.jsx)(c.x,{mono:!1,size:d?3:2,weight:700,appearance:"primary",children:n}),i&&(0,o.jsx)(c.x,{mono:!1,size:d?3:2,weight:500,appearance:"secondary",children:i})]}),(0,o.jsx)(c.x,{mono:!1,size:d?1:0,weight:500,appearance:"tertiary",children:u})]})})}},5416:function(e,t,n){"use strict";n.d(t,{s:function(){return c}});var o=n(2322),a=n(8033),r=n.n(a),c=function(e){var t=e.classes,n=void 0===t?"":t,a=e.padding,c=void 0===a?"2rem":a,i=e.fullWidth,u=void 0!==i&&i,s=e.fullHeight,d=void 0!==s&&s,l=e.glowing,y=void 0!==l&&l,h=e.topFocus,m=void 0!==h&&h,S=e.onlyBorder,C=void 0!==S&&S,N=e.children;return(0,o.jsx)("div",{style:{padding:c,width:u?"100%":"auto",height:d?"100%":"auto"},className:"".concat(r().panel," ").concat(n," ").concat(y&&r().panelGlowing," ").concat(m&&r().panelTopFocus," ").concat(C&&r().panelOnlyBorder),children:N})}},4987:function(e,t,n){"use strict";n.d(t,{O:function(){return u},s:function(){return s}});var o=n(2322),a=n(3125),r=n(2784),c=n(9721),i=n.n(c),u=function(e){var t=e.onChange,n=e.defaultChecked,r=e.selected,c=e.value,u=e.primary,s=e.highlightId,d=e.children;return(0,o.jsxs)("label",{className:"".concat(i().radioTabBtn," ").concat(u&&i().radioTabBtnPrimary),children:[(0,o.jsx)("input",{type:"radio",name:"tab",value:c,defaultChecked:n,onChange:t}),r?(0,o.jsx)(a.E.div,{layoutId:s,className:"".concat(i().activeIndicator," ").concat(u&&i().activeIndicatorPrimary)}):null,(0,o.jsx)("div",{style:{position:"relative",color:r?"var(--clr-link)":"var(--clr-text)"},children:d})]})},s=function(e){var t=e.options,n=e.customOptions,a=e.onChange,c=e.value,s=e.fullWidth,d=void 0!==s&&s,l=e.primary,y=void 0!==l&&l,h=(0,r.useId)();return(0,o.jsxs)("div",{className:"".concat(i().radioTabs," ").concat(d&&i().radioTabsFullWidth," ").concat(y&&i().radioTabsPrimary),children:[t.map((function(e,t){return(0,o.jsx)(u,{defaultChecked:c===e.value,onChange:a,value:e.value,selected:c===e.value,primary:y,highlightId:h,children:e.label},e.value)})),n]})}},6735:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var o=n(2784);function a(e){var t=(0,o.useState)(),n=t[0],a=t[1];return(0,o.useEffect)((function(){var t=document.createElement("script");t.src="https://cdn.paddle.com/paddle/paddle.js",t.async="true",t.addEventListener("load",(function(){window.Paddle.Setup({vendor:e}),a(!0)})),document.body.appendChild(t)}),[]),n}},8101:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var o=n(8788),a=n(2838),r=n(2970),c=n(2322),i=n(2784),u=n(7729),s=n.n(u),d=n(4896),l=n(3552),y=n(7037),h=n(9014),m=n(2367),S=n(3290),C=n(9604),N=n(9241),p=[{countryName:"Afghanistan",countryShortCode:"AF"},{countryName:"\xc5land Islands",countryShortCode:"AX"},{countryName:"Albania",countryShortCode:"AL"},{countryName:"Algeria",countryShortCode:"DZ"},{countryName:"American Samoa",countryShortCode:"AS"},{countryName:"Andorra",countryShortCode:"AD"},{countryName:"Angola",countryShortCode:"AO"},{countryName:"Anguilla",countryShortCode:"AI"},{countryName:"Antarctica",countryShortCode:"AQ"},{countryName:"Antigua and Barbuda",countryShortCode:"AG"},{countryName:"Argentina",countryShortCode:"AR"},{countryName:"Armenia",countryShortCode:"AM"},{countryName:"Aruba",countryShortCode:"AW"},{countryName:"Australia",countryShortCode:"AU"},{countryName:"Austria",countryShortCode:"AT"},{countryName:"Azerbaijan",countryShortCode:"AZ"},{countryName:"Bahamas",countryShortCode:"BS"},{countryName:"Bahrain",countryShortCode:"BH"},{countryName:"Bangladesh",countryShortCode:"BD"},{countryName:"Barbados",countryShortCode:"BB"},{countryName:"Belarus",countryShortCode:"BY"},{countryName:"Belgium",countryShortCode:"BE"},{countryName:"Belize",countryShortCode:"BZ"},{countryName:"Benin",countryShortCode:"BJ"},{countryName:"Bermuda",countryShortCode:"BM"},{countryName:"Bhutan",countryShortCode:"BT"},{countryName:"Bolivia",countryShortCode:"BO"},{countryName:"Bonaire, Sint Eustatius and Saba",countryShortCode:"BQ"},{countryName:"Bosnia and Herzegovina",countryShortCode:"BA"},{countryName:"Botswana",countryShortCode:"BW"},{countryName:"Bouvet Island",countryShortCode:"BV"},{countryName:"Brazil",countryShortCode:"BR"},{countryName:"British Indian Ocean Territory",countryShortCode:"IO"},{countryName:"Brunei Darussalam",countryShortCode:"BN"},{countryName:"Bulgaria",countryShortCode:"BG"},{countryName:"Burkina Faso",countryShortCode:"BF"},{countryName:"Burundi",countryShortCode:"BI"},{countryName:"Cambodia",countryShortCode:"KH"},{countryName:"Cameroon",countryShortCode:"CM"},{countryName:"Canada",countryShortCode:"CA"},{countryName:"Cape Verde",countryShortCode:"CV"},{countryName:"Cayman Islands",countryShortCode:"KY"},{countryName:"Central African Republic",countryShortCode:"CF"},{countryName:"Chad",countryShortCode:"TD"},{countryName:"Chile",countryShortCode:"CL"},{countryName:"China",countryShortCode:"CN"},{countryName:"Christmas Island",countryShortCode:"CX"},{countryName:"Cocos (Keeling) Islands",countryShortCode:"CC"},{countryName:"Colombia",countryShortCode:"CO"},{countryName:"Comoros",countryShortCode:"KM"},{countryName:"Congo, Republic of the (Brazzaville)",countryShortCode:"CG"},{countryName:"Congo, the Democratic Republic of the (Kinshasa)",countryShortCode:"CD"},{countryName:"Cook Islands",countryShortCode:"CK"},{countryName:"Costa Rica",countryShortCode:"CR"},{countryName:"C\xf4te d'Ivoire, Republic of",countryShortCode:"CI"},{countryName:"Croatia",countryShortCode:"HR"},{countryName:"Cuba",countryShortCode:"CU"},{countryName:"Cura\xe7ao",countryShortCode:"CW"},{countryName:"Cyprus",countryShortCode:"CY"},{countryName:"Czech Republic",countryShortCode:"CZ"},{countryName:"Denmark",countryShortCode:"DK"},{countryName:"Djibouti",countryShortCode:"DJ"},{countryName:"Dominica",countryShortCode:"DM"},{countryName:"Dominican Republic",countryShortCode:"DO"},{countryName:"Ecuador",countryShortCode:"EC"},{countryName:"Egypt",countryShortCode:"EG"},{countryName:"El Salvador",countryShortCode:"SV"},{countryName:"Equatorial Guinea",countryShortCode:"GQ"},{countryName:"Eritrea",countryShortCode:"ER"},{countryName:"Estonia",countryShortCode:"EE"},{countryName:"Ethiopia",countryShortCode:"ET"},{countryName:"Falkland Islands (Islas Malvinas)",countryShortCode:"FK"},{countryName:"Faroe Islands",countryShortCode:"FO"},{countryName:"Fiji",countryShortCode:"FJ"},{countryName:"Finland",countryShortCode:"FI"},{countryName:"France",countryShortCode:"FR"},{countryName:"French Guiana",countryShortCode:"GF"},{countryName:"French Polynesia",countryShortCode:"PF"},{countryName:"French Southern and Antarctic Lands",countryShortCode:"TF"},{countryName:"Gabon",countryShortCode:"GA"},{countryName:"Gambia, The",countryShortCode:"GM"},{countryName:"Georgia",countryShortCode:"GE"},{countryName:"Germany",countryShortCode:"DE"},{countryName:"Ghana",countryShortCode:"GH"},{countryName:"Gibraltar",countryShortCode:"GI"},{countryName:"Greece",countryShortCode:"GR"},{countryName:"Greenland",countryShortCode:"GL"},{countryName:"Grenada",countryShortCode:"GD"},{countryName:"Guadeloupe",countryShortCode:"GP"},{countryName:"Guam",countryShortCode:"GU"},{countryName:"Guatemala",countryShortCode:"GT"},{countryName:"Guernsey",countryShortCode:"GG"},{countryName:"Guinea",countryShortCode:"GN"},{countryName:"Guinea-Bissau",countryShortCode:"GW"},{countryName:"Guyana",countryShortCode:"GY"},{countryName:"Haiti",countryShortCode:"HT"},{countryName:"Heard Island and McDonald Islands",countryShortCode:"HM"},{countryName:"Holy See (Vatican City)",countryShortCode:"VA"},{countryName:"Honduras",countryShortCode:"HN"},{countryName:"Hong Kong",countryShortCode:"HK"},{countryName:"Hungary",countryShortCode:"HU"},{countryName:"Iceland",countryShortCode:"IS"},{countryName:"India",countryShortCode:"IN"},{countryName:"Indonesia",countryShortCode:"ID"},{countryName:"Iran, Islamic Republic of",countryShortCode:"IR"},{countryName:"Iraq",countryShortCode:"IQ"},{countryName:"Ireland",countryShortCode:"IE"},{countryName:"Isle of Man",countryShortCode:"IM"},{countryName:"Israel",countryShortCode:"IL"},{countryName:"Italy",countryShortCode:"IT"},{countryName:"Jamaica",countryShortCode:"JM"},{countryName:"Japan",countryShortCode:"JP"},{countryName:"Jersey",countryShortCode:"JE"},{countryName:"Jordan",countryShortCode:"JO"},{countryName:"Kazakhstan",countryShortCode:"KZ"},{countryName:"Kenya",countryShortCode:"KE"},{countryName:"Kiribati",countryShortCode:"KI"},{countryName:"Korea, Democratic People's Republic of",countryShortCode:"KP"},{countryName:"Korea, Republic of",countryShortCode:"KR"},{countryName:"Kosovo",countryShortCode:"KV"},{countryName:"Kuwait",countryShortCode:"KW"},{countryName:"Kyrgyzstan",countryShortCode:"KG"},{countryName:"Laos",countryShortCode:"LA"},{countryName:"Latvia",countryShortCode:"LV"},{countryName:"Lebanon",countryShortCode:"LB"},{countryName:"Lesotho",countryShortCode:"LS"},{countryName:"Liberia",countryShortCode:"LR"},{countryName:"Libya",countryShortCode:"LY"},{countryName:"Liechtenstein",countryShortCode:"LI"},{countryName:"Lithuania",countryShortCode:"LT"},{countryName:"Luxembourg",countryShortCode:"LU"},{countryName:"Macao",countryShortCode:"MO"},{countryName:"Macedonia, Republic of",countryShortCode:"MK"},{countryName:"Madagascar",countryShortCode:"MG"},{countryName:"Malawi",countryShortCode:"MW"},{countryName:"Malaysia",countryShortCode:"MY"},{countryName:"Maldives",countryShortCode:"MV"},{countryName:"Mali",countryShortCode:"ML"},{countryName:"Malta",countryShortCode:"MT"},{countryName:"Marshall Islands",countryShortCode:"MH"},{countryName:"Martinique",countryShortCode:"MQ"},{countryName:"Mauritania",countryShortCode:"MR"},{countryName:"Mauritius",countryShortCode:"MU"},{countryName:"Mayotte",countryShortCode:"YT"},{countryName:"Mexico",countryShortCode:"MX"},{countryName:"Micronesia, Federated States of",countryShortCode:"FM"},{countryName:"Moldova",countryShortCode:"MD"},{countryName:"Monaco",countryShortCode:"MC"},{countryName:"Mongolia",countryShortCode:"MN"},{countryName:"Montenegro",countryShortCode:"ME"},{countryName:"Montserrat",countryShortCode:"MS"},{countryName:"Morocco",countryShortCode:"MA"},{countryName:"Mozambique",countryShortCode:"MZ"},{countryName:"Myanmar",countryShortCode:"MM"},{countryName:"Namibia",countryShortCode:"NA"},{countryName:"Nauru",countryShortCode:"NR"},{countryName:"Nepal",countryShortCode:"NP"},{countryName:"Netherlands",countryShortCode:"NL"},{countryName:"New Caledonia",countryShortCode:"NC"},{countryName:"New Zealand",countryShortCode:"NZ"},{countryName:"Nicaragua",countryShortCode:"NI"},{countryName:"Niger",countryShortCode:"NE"},{countryName:"Nigeria",countryShortCode:"NG"},{countryName:"Niue",countryShortCode:"NU"},{countryName:"Norfolk Island",countryShortCode:"NF"},{countryName:"Northern Mariana Islands",countryShortCode:"MP"},{countryName:"Norway",countryShortCode:"NO"},{countryName:"Oman",countryShortCode:"OM"},{countryName:"Pakistan",countryShortCode:"PK"},{countryName:"Palau",countryShortCode:"PW"},{countryName:"Palestine, State of",countryShortCode:"PS"},{countryName:"Panama",countryShortCode:"PA"},{countryName:"Papua New Guinea",countryShortCode:"PG"},{countryName:"Paraguay",countryShortCode:"PY"},{countryName:"Peru",countryShortCode:"PE"},{countryName:"Philippines",countryShortCode:"PH"},{countryName:"Pitcairn",countryShortCode:"PN"},{countryName:"Poland",countryShortCode:"PL"},{countryName:"Portugal",countryShortCode:"PT"},{countryName:"Puerto Rico",countryShortCode:"PR"},{countryName:"Qatar",countryShortCode:"QA"},{countryName:"R\xe9union",countryShortCode:"RE"},{countryName:"Romania",countryShortCode:"RO"},{countryName:"Russian Federation",countryShortCode:"RU"},{countryName:"Rwanda",countryShortCode:"RW"},{countryName:"Saint Barth\xe9lemy",countryShortCode:"BL"},{countryName:"Saint Helena, Ascension and Tristan da Cunha",countryShortCode:"SH"},{countryName:"Saint Kitts and Nevis",countryShortCode:"KN"},{countryName:"Saint Lucia",countryShortCode:"LC"},{countryName:"Saint Martin",countryShortCode:"MF"},{countryName:"Saint Pierre and Miquelon",countryShortCode:"PM"},{countryName:"Saint Vincent and the Grenadines",countryShortCode:"VC"},{countryName:"Samoa",countryShortCode:"WS"},{countryName:"San Marino",countryShortCode:"SM"},{countryName:"Sao Tome and Principe",countryShortCode:"ST"},{countryName:"Saudi Arabia",countryShortCode:"SA"},{countryName:"Senegal",countryShortCode:"SN"},{countryName:"Serbia",countryShortCode:"RS"},{countryName:"Seychelles",countryShortCode:"SC"},{countryName:"Sierra Leone",countryShortCode:"SL"},{countryName:"Singapore",countryShortCode:"SG"},{countryName:"Sint Maarten (Dutch part)",countryShortCode:"SX"},{countryName:"Slovakia",countryShortCode:"SK"},{countryName:"Slovenia",countryShortCode:"SI"},{countryName:"Solomon Islands",countryShortCode:"SB"},{countryName:"Somalia",countryShortCode:"SO"},{countryName:"South Africa",countryShortCode:"ZA"},{countryName:"South Georgia and South Sandwich Islands",countryShortCode:"GS"},{countryName:"South Sudan",countryShortCode:"SS"},{countryName:"Spain",countryShortCode:"ES"},{countryName:"Sri Lanka",countryShortCode:"LK"},{countryName:"Sudan",countryShortCode:"SD"},{countryName:"Suriname",countryShortCode:"SR"},{countryName:"Swaziland",countryShortCode:"SZ"},{countryName:"Sweden",countryShortCode:"SE"},{countryName:"Switzerland",countryShortCode:"CH"},{countryName:"Syrian Arab Republic",countryShortCode:"SY"},{countryName:"Taiwan",countryShortCode:"TW"},{countryName:"Tajikistan",countryShortCode:"TJ"},{countryName:"Tanzania, United Republic of",countryShortCode:"TZ"},{countryName:"Thailand",countryShortCode:"TH"},{countryName:"Timor-Leste",countryShortCode:"TL"},{countryName:"Togo",countryShortCode:"TG"},{countryName:"Tokelau",countryShortCode:"TK"},{countryName:"Tonga",countryShortCode:"TO"},{countryName:"Trinidad and Tobago",countryShortCode:"TT"},{countryName:"Tunisia",countryShortCode:"TN"},{countryName:"Turkey",countryShortCode:"TR"},{countryName:"Turkmenistan",countryShortCode:"TM"},{countryName:"Turks and Caicos Islands",countryShortCode:"TC"},{countryName:"Tuvalu",countryShortCode:"TV"},{countryName:"Uganda",countryShortCode:"UG"},{countryName:"Ukraine",countryShortCode:"UA"},{countryName:"United Arab Emirates",countryShortCode:"AE"},{countryName:"United Kingdom",countryShortCode:"GB"},{countryName:"United States",countryShortCode:"US"},{countryName:"United States Minor Outlying Islands",countryShortCode:"UM"},{countryName:"Uruguay",countryShortCode:"UY"},{countryName:"Uzbekistan",countryShortCode:"UZ"},{countryName:"Vanuatu",countryShortCode:"VU"},{countryName:"Venezuela, Bolivarian Republic of",countryShortCode:"VE"},{countryName:"Vietnam",countryShortCode:"VN"},{countryName:"Virgin Islands, British",countryShortCode:"VG"},{countryName:"Virgin Islands, U.S.",countryShortCode:"VI"},{countryName:"Wallis and Futuna",countryShortCode:"WF"},{countryName:"Western Sahara",countryShortCode:"EH"},{countryName:"Yemen",countryShortCode:"YE"},{countryName:"Zambia",countryShortCode:"ZM"},{countryName:"Zimbabwe",countryShortCode:"ZW"}],x=n(1251),g=n(4675),f=n(3947);function b(e){var t=e.url,n=(0,i.useContext)(l.S),o=(0,i.useState)(),a=o[0],r=o[1],u=(0,i.useState)(t),s=u[0],y=u[1],S=(0,i.useState)(),C=S[0],p=S[1];return(0,c.jsxs)("div",{className:"input-container",children:[(0,c.jsx)("label",{htmlFor:"avatar",children:"Profile Picture"}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center"},className:"input-container",children:[(0,c.jsx)("div",{style:{marginRight:"1rem"},children:(0,c.jsx)(x.F$,{size:"50",url:s})}),a?(0,c.jsx)(N.a,{}):(0,c.jsxs)("div",{style:{minWidth:"0"},children:[C&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h.z,{primary:!0,onClick:function(){var e=n.uid,t=C.name.replace(/.*\.(\w+)?$/,"avatar.$1"),o=C.name.match(/\.(\w+)?$/),a=o&&"jpg"!==o[1]?o[1]:"jpeg";r(!0),(0,m.cT)({userId:n.uid,file:C,path:"user/".concat(e,"/").concat(t)}).then((function(){r(!1),p(void 0),d.Am.info("Profile image updated successfully."),(0,f.ck)(g.I8.currentUser,{photoURL:"https://firebasestorage.googleapis.com/v0/b/".concat(g.NX,".appspot.com/o/").concat(encodeURIComponent("user/".concat(e,"/avatar_").concat(e,".").concat(a)),"?alt=media")})}))},children:"Looks good. Upload & Save"})," ","or"," "]}),(0,c.jsx)("input",{type:"file",id:"avatar",accept:"image/*",onChange:function(e){if(n){var t=e.target.files[0];if(t.name.match(/\.svg/))return alert("Svg image isn't allowed");p(t);var o=new FileReader;o.onloadend=function(){y(o.result)},o.readAsDataURL(t)}}})]})]}),(0,c.jsx)("p",{className:"input-hint",children:"Image file (png or jpeg) should be less than 1mb. Preferably a square image of at least 150px dimension."})]})}var j=n(865),v=n(9097),T=n.n(v),_=n(1893),M=n(5598),I=n(4200);function k(e){var t,n=e.playerData,o=(0,_.a)(),a=(0,i.useState)(),r=a[0],u=a[1],s=(0,i.useState)(),l=s[0],C=s[1],p=(0,i.useState)(),x=p[0],g=p[1],f=(0,i.useState)(!1),b=f[0],v=f[1],I=(0,i.useState)(),k=I[0],P=I[1],w=(0,i.useState)(JSON.parse(JSON.stringify(n))),A=w[0];w[1];(0,i.useEffect)((function(){o&&o.isPro&&(v(!0),(0,y.y)({userId:o.uid}).then((function(e){var t,n,o=e.lastSubscription,a=e.lastPayment,r=e.lastCancellation;v(!1),u(o),C(a),(null===r||void 0===r||null===(t=r.timestamp)||void 0===t?void 0:t.seconds)>(null===o||void 0===o||null===(n=o.timestamp)||void 0===n?void 0:n.seconds)&&g(r)})))}),[o?o.uid:"",o?o.isPro:""]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"current-membership",children:[o&&!o.isPro&&(0,c.jsxs)("p",{className:"para",children:['You are not a "PLUS" member yet.'," ",(0,c.jsx)(T(),{href:"/plus",children:(0,c.jsx)("a",{className:"link",children:"Upgrade to PLUS"})}),"."]}),b&&(0,c.jsxs)("p",{className:"para",children:[(0,c.jsx)(N.a,{})," Fetching membership details..."]}),r&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=(0,m.BE)({settings:A.settings});P(!0),(0,y.Ii)(o.uid,t).then((function(){P(!1);var e=JSON.parse(window.localStorage.getItem("lastUser")||null);e&&(e.settings=(0,j.Z)({},e.settings,t.settings),(0,m.xX)(e)),(0,S.q)({name:"settingsUpdated"}),d.Am.info("Settings updated successfully!")}))},children:[(0,c.jsx)("div",{className:"input-container",children:(0,c.jsxs)("label",{htmlFor:"vscode",children:[(0,c.jsx)("input",{type:"checkbox",defaultChecked:n.settings&&n.settings.vscode||!1,onChange:function(e){var t=e.target.dataset.path,n="checkbox"===e.target.type?e.target.checked:e.target.value;(0,m.SG)(A,t,n)},"data-path":"settings.vscode",id:"vscode"})," ","VSCode Editor"]})}),(0,c.jsx)("p",{children:(0,c.jsx)(h.z,{primary:!0,type:"submit",isLoading:k,children:"Update settings"})})]}),(0,c.jsx)("hr",{}),(0,c.jsxs)("h3",{children:["Current Membership: Plus (",parseInt(l.data.next_payment_amount,10)<10?"monthly":"yearly",")"]}),(0,c.jsxs)("p",{className:"para",children:[(0,c.jsx)("strong",{children:"Purchased on"}),":"," ",(0,c.jsx)("time",{dateTime:r.data.event_time,children:new Date(r.data.event_time).toDateString()})," ","(",r.data.email,")"]}),(0,c.jsxs)(M.HStack,{gap:"1rem",children:[(0,c.jsx)(B,{title:"Subscription status",value:x?"Cancelled":"active",icon:"user"}),(0,c.jsx)(B,{title:"Subscription expiry",value:(0,c.jsx)("time",{dateTime:r.data.event_time,children:new Date((null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.cancellation_effective_date)||l.data.next_bill_date).toDateString()}),icon:"bell"}),x?(0,c.jsx)(B,{title:"Cancelled on",value:(0,c.jsx)("time",{dateTime:x.data.event_time,children:new Date(x.data.event_time).toDateString()}),icon:"daily-targets"}):null,x?null:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(B,{icon:"money",title:"Next payment",value:l.data.next_payment_amount}),(0,c.jsx)(B,{title:"Next due",value:(0,c.jsx)("time",{dateTime:l.data.next_bill_date,children:new Date(l.data.next_bill_date).toDateString()}),icon:"daily-targets"})]})]}),x?null:(0,c.jsx)(h.z,{danger:!0,style:{marginTop:"1rem"},onClick:function(){r&&(window.confirm('Are you sure want to cancel your "PLUS" membership?')&&window.open(r.data.cancel_url))},children:"Cancel Membership"}),(0,c.jsxs)("p",{className:"para",children:[(0,c.jsx)(T(),{href:"/plus",children:(0,c.jsx)("a",{className:"link",children:'Read about your "PLUS" benefits'})}),"."]})]})]})})}var B=function(e){var t=e.icon,n=e.title,o=e.value;return(0,c.jsx)(I.T,{icon:t,value:o,description:n,large:!0})},P=n(7842),w=n(6670),A=n(6735),L=n(3590),U=n(11),E=n.n(U);function F(e){var t;return(t={},(0,P.Z)(t,L.Q[L.C.CUSTOM_BATTLE_MINI].vendorId,L.Q[L.C.CUSTOM_BATTLE_MINI].label),(0,P.Z)(t,L.Q[L.C.CUSTOM_BATTLE_SMALL].vendorId,L.Q[L.C.CUSTOM_BATTLE_SMALL].label),t)[e]}var R=[(0,w.Z)((0,j.Z)({id:L.C.CUSTOM_BATTLE_MINI},L.Q[L.C.CUSTOM_BATTLE_MINI]),{durationText:"Upto 24 hours"}),(0,w.Z)((0,j.Z)({id:L.C.CUSTOM_BATTLE_SMALL},L.Q[L.C.CUSTOM_BATTLE_SMALL]),{durationText:"Upto 7 days"})];function G(){var e=function(e){g(e.target.value)},t=(0,_.a)(),n=(0,i.useState)([]),o=n[0],a=n[1],r=(0,i.useState)(!1),u=r[0],s=r[1],d=(0,A.H)(50177),l=(0,i.useState)(!1),m=l[0],S=l[1];(0,i.useEffect)((function(){t&&(s(!0),(0,y.DI)(t.uid).then((function(e){e=e.sort((function(e,t){return t.timestamp.seconds-e.timestamp.seconds})).map((function(e){return(0,w.Z)((0,j.Z)({},e),{purchasedOnHumanReadable:new Date(1e3*e.timestamp.seconds)})})),s(!1),a(e)})))}),[t?t.uid:"",t?t.isPro:""]);var C=(0,i.useState)(L.C.CUSTOM_BATTLE_MINI),p=C[0],g=C[1];return(0,c.jsxs)("div",{children:[(0,c.jsxs)("fieldset",{className:E().pricing,children:[(0,c.jsx)("legend",{children:(0,c.jsx)("h2",{children:"Select battle type to purchase"})}),R.map((function(t,n){return(0,c.jsx)(x.xu,{style:{marginBottom:"1.5rem"},children:(0,c.jsxs)("label",{className:"d-f ai-c",children:[(0,c.jsx)("input",{type:"radio",name:"battle-type",id:t.label,value:t.id,defaultChecked:0===n,onChange:e}),(0,c.jsxs)(x.xu,{style:{marginLeft:"1rem"},children:[(0,c.jsxs)(x.xu,{style:{marginBottom:"0.3rem"},children:[t.label," -"," ",(0,c.jsx)("span",{children:t.salePrice||t.price}),"\xa0",t.salePrice&&(0,c.jsx)("span",{style:{textDecoration:"line-through"},children:t.price})]}),"Duration: ",t.durationText]})]})})})),(0,c.jsx)("p",{className:"para",children:(0,c.jsx)("a",{href:"/blog/introducing-custom-battles",className:"link",target:"_blank",children:"Read more about Custom Battles"})}),t?(0,c.jsxs)(h.z,{primary:!0,onClick:function(){setTimeout((function(){S(!0)}),1e3),window.Paddle.Checkout.open({product:L.Q[p].vendorId,passthrough:t.uid})},disabled:!d,style:{marginTop:"2rem"},children:["Buy Custom Battle (",L.Q[p].label,")"]}):(0,c.jsx)(T(),{href:"/login",children:(0,c.jsx)("a",{className:"button button--primary",children:"Sign Up before you can buy"})})]}),m?(0,c.jsx)("p",{className:"para",children:"Please refresh this page in case you purchased."}):null,(0,c.jsx)("h2",{style:{marginTop:"2rem"},children:"Purchases"}),u?(0,c.jsx)(N.R,{children:"Fetching past purchases..."}):null,u||o.length?null:(0,c.jsx)("p",{className:"para",children:"You haven't purchased any Custom Battle credits yet."}),o.length?(0,c.jsxs)("table",{style:{marginTop:"1rem"},className:"table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"No."}),(0,c.jsx)("th",{children:"Battle type"}),(0,c.jsx)("th",{children:"Status"}),(0,c.jsx)("th",{children:"Purchased on"})]})}),(0,c.jsx)("tbody",{children:o.map((function(e,t){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:o.length-t}),(0,c.jsx)("td",{children:F(e.data.p_product_id)}),(0,c.jsx)("td",{children:e.isUsed?"Used \u274c":"Unused \u2705"}),(0,c.jsx)("td",{children:e.purchasedOnHumanReadable.toDateString()})]},e.id)}))})]}):null]})}var D=(0,i.forwardRef)((function(e,t){var n=e.className,o=void 0===n?"":n,a=e.id,r=e.dataPath,i=e.disabled,u=e.onChange,s=e.value,d=e.defaultValue,l=e.children;return(0,c.jsx)("div",{className:"select ".concat(o),children:(0,c.jsx)("select",{ref:t,disabled:i,onChange:u,value:s,defaultValue:d,id:a,"data-path":r,children:l})})})),O=n(4987),H=n(8431),V=n(5416);function z(e){var t=e.name,n=e.selectedTab,o=e.children;return n!==t?null:(0,c.jsx)(V.s,{children:(0,c.jsx)("div",{className:"settings-tab-content",children:o})})}function K(e){var t=e.label,n=e.icon,o=e.prefix,a=e.defaultValue,r=e.onChange,i=e.keyPath,u=t.replace(/\s/,"_");return(0,c.jsxs)("div",{className:"input-container",style:{flexBasis:"50%"},children:[(0,c.jsx)("label",{htmlFor:u,children:t}),(0,c.jsxs)("div",{className:"input-with-prefix",children:[(0,c.jsxs)("p",{className:"input-prefix",children:[n," ",(0,c.jsx)("span",{children:o})]}),(0,c.jsx)("input",{id:u,defaultValue:a,onChange:r,"data-path":i})]})]})}var Z=function(e){e.history;var t=(0,i.useContext)(l.S),n=(0,i.useState)(),u=n[0],x=n[1],j=(0,i.useState)(),v=j[0],T=j[1],_=(0,i.useState)(),I=_[0],B=_[1],P=(0,i.useState)(),w=P[0],A=P[1],L=(0,i.useState)("profile"),U=L[0],E=L[1];(0,i.useEffect)((function(){var e=window.location.search.match(/tab=([^&]+)/);e&&E(e[1])}),[]),(0,i.useEffect)((function(){t||(location.href="/login"),(0,y.$Y)(t.uid,!0).then((function(e){x(e),T(JSON.parse(JSON.stringify(e)))}))}),[t?t.uid:""]);var F=(0,i.useState)(),R=F[0],V=F[1],Z=(0,m.Ds)((function(e){if(["admin","administrator","css","cssbattle","css_battle","_cssbattle","_css_battle"].includes(e))return V(!1);V(null),(0,y.Ty)(e).then((function(e){V(!e)}))}),1e3),J=function(e){e.preventDefault();var n=(0,m.BE)({links:v.links,settings:v.settings,displayName:v.displayName,isAvailableForHire:v.isAvailableForHire,whatYouDo:v.whatYouDo,country:v.country});B(!0),(0,y.Ii)(t.uid,n).then((function(){B(!1),n.displayName&&(0,f.ck)(g.I8.currentUser,{displayName:n.displayName}),(0,S.q)({name:"profileUpdated"}),d.Am.info("Profile updated successfully!")}))},W=function(e){var t=e.target.dataset.path,n="checkbox"===e.target.type?e.target.checked:e.target.value;(0,m.SG)(v,t,n)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(s(),{children:[(0,c.jsx)("meta",{property:"og:title",content:"Settings | CSSBattle"},"ogTitle"),(0,c.jsx)("title",{children:"Settings | CSSBattle"},"title")]}),(0,c.jsx)(H.x,{icon:"gear",title:"Settings"}),(0,c.jsx)("div",{style:{marginTop:"2rem"},children:(0,c.jsxs)(M.VStack,{gap:"2rem",children:[(0,c.jsx)(O.s,{primary:!0,onChange:function(e){E(e.target.value)},value:U,options:[{label:"Profile",value:"profile"},{label:"Notifications",value:"notifications"},{label:"Plus Membership",value:"membership"},{label:"Custom Battle credits",value:"custom-battle-credits"}]}),!u&&(0,c.jsx)(z,{name:"profile",selectedTab:U,children:(0,c.jsxs)("p",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)(N.a,{})," Fetching data..."]})}),u&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(z,{name:"profile",selectedTab:U,children:[(0,c.jsxs)("form",{className:"username-form",onSubmit:function(e){if(e.preventDefault(),t){var n=v.username;window.confirm('Username cannot be changed once set. Are you sure you want to set "'.concat(n,'"?'))&&(A(!0),(0,y.Sv)(t,n).then((function(){(0,S.q)({name:"usernameUpdated",label:n}),A(!1),d.Am.info("Username updated successfully! This page will refresh in 2 seconds."),setTimeout((function(){window.location.reload()}),1e3)})).catch(function(){var e=(0,o.Z)((function(e){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return A(!1),(0,a.Z)(e,Promise)?[4,e]:[3,2];case 1:if("usernameUnavailable"===t.sent())d.Am.info("That username is unavailable. Try something else.");else d.Am.info("Oops! Something went wrong. Try again or report to @css_battle");t.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()))}else alert("Please login first.")},children:[(0,c.jsxs)("div",{className:"input-container",children:[(0,c.jsx)("label",{htmlFor:"username",children:"Username (Your own sweet profile page)"}),(0,c.jsxs)("div",{className:"input-with-prefix",children:[(0,c.jsx)("p",{className:"input-prefix",children:(0,c.jsx)("span",{children:"cssbattle.dev/player/"})}),(0,c.jsx)("input",{id:"username",pattern:"[a-zA-Z0-9_]*",minLength:"3",maxLength:"20",defaultValue:u.username,autoComplete:"off","data-path":"username",readOnly:u.username,onInput:function(e){!function(e){var t=e.target.value.toLowerCase();e.target.checkValidity()&&t?Z(t):V(void 0)}(e),W(e)}})]}),u.username&&(0,c.jsxs)("p",{className:"input-hint",children:["Your CSSBattle profile page:"," ",(0,c.jsx)("a",{className:"link",href:"".concat(window.location.origin,"/player/").concat(u.username),children:"".concat(window.location.origin,"/player/").concat(u.username)})]}),(0,c.jsxs)("div",{className:"validation-message",children:[null===R&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(N.a,{})," Checking username availability"]}),!1===R?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(C.J,{name:"error"})," This username is already taken"]}):!0===R?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(C.J,{name:"tick"})," This username is available"]}):null]}),!u.username&&(0,c.jsx)("p",{className:"input-hint",children:"Minimum 3 and maximum 20 characters long. Alphabets, numbers and underscore(_) allowed. Case-insensitive."}),(0,c.jsx)("p",{className:"input-hint",children:"Note: Once set, username cannot be changed."})]}),(0,c.jsx)("p",{children:(0,c.jsxs)(h.z,{type:"submit",primary:!0,disabled:!0!==R&&"disabled",isLoading:w,children:["Set Username"," ",v&&v.username?"":"(Enter a username above to enable this button)"]})})]}),(0,c.jsxs)("form",{onSubmit:J,children:[(0,c.jsx)(b,{url:u.avatar}),(0,c.jsxs)("div",{className:"input-container",children:[(0,c.jsx)("label",{htmlFor:"displayName",children:"Display name"}),(0,c.jsx)("input",{id:"displayName",defaultValue:u.displayName,onInput:W,"data-path":"displayName"})]}),(0,c.jsxs)(M.HStack,{gap:"0.5rem",children:[(0,c.jsxs)("div",{className:"input-container",style:{flexBasis:"50%"},children:[(0,c.jsx)("label",{htmlFor:"website",children:"Website"}),(0,c.jsx)("input",{id:"website",defaultValue:u.links&&u.links.website||"",onInput:W,"data-path":"links.website"})]}),(0,c.jsx)(K,{label:"Twitter username",prefix:"twitter.com/",defaultValue:u.links&&u.links.twitter||"",onChange:W,keyPath:"links.twitter",icon:(0,c.jsx)(C.J,{name:"twitter",size:"20"})})]}),(0,c.jsxs)(M.HStack,{gap:"0.5rem",children:[(0,c.jsx)(K,{label:"Github username",prefix:"github.com/",defaultValue:u.links&&u.links.github||"",onChange:W,keyPath:"links.github",icon:(0,c.jsx)(C.J,{name:"github",size:"20"})}),(0,c.jsx)(K,{label:"CodePen username",prefix:"codepen.io/",defaultValue:u.links&&u.links.codepen||"",onChange:W,keyPath:"links.codepen",icon:(0,c.jsx)(C.J,{name:"codepen",size:"20"})})]}),(0,c.jsxs)(M.HStack,{gap:"0.5rem",children:[(0,c.jsx)(K,{label:"LinkedIn username",prefix:"linkedin.com/",defaultValue:u.links&&u.links.linkedin||"",onChange:W,keyPath:"links.linkedin",icon:(0,c.jsx)(C.J,{name:"linkedin",size:"20"})}),(0,c.jsx)(K,{label:"Instagram username",prefix:"instagram.com/",defaultValue:u.links&&u.links.instagram||"",onChange:W,keyPath:"links.instagram",icon:(0,c.jsx)(C.J,{name:"instagram",size:"20"})})]}),(0,c.jsxs)(M.HStack,{gap:"0.5rem",children:[(0,c.jsx)(K,{label:"Youtube username",prefix:"youtube.com/",defaultValue:u.links&&u.links.youtube||"",onChange:W,keyPath:"links.youtube",icon:(0,c.jsx)(C.J,{name:"youtube",size:"20"})}),(0,c.jsx)(K,{label:"Twitch username",prefix:"twitch.com/",defaultValue:u.links&&u.links.twitch||"",onChange:W,keyPath:"links.twitch",icon:(0,c.jsx)(C.J,{name:"twitch",size:"20"})})]}),(0,c.jsxs)("div",{className:"input-container",children:[(0,c.jsx)("label",{htmlFor:"headline",children:"What do you do?"}),(0,c.jsx)("input",{id:"headline",defaultValue:u.whatYouDo,onInput:W,"data-path":"whatYouDo"})]}),(0,c.jsx)("div",{className:"input-container",children:(0,c.jsxs)("label",{htmlFor:"hiringStatus",children:[(0,c.jsx)("input",{type:"checkbox",defaultChecked:u.isAvailableForHire,onChange:W,"data-path":"isAvailableForHire",id:"hiringStatus"})," ","Available for hire"]})}),(0,c.jsxs)("div",{className:"input-container",children:[(0,c.jsx)("label",{htmlFor:"country",children:"Country"}),(0,c.jsxs)(D,{defaultValue:u.country,onChange:W,dataPath:"country",id:"country",children:[(0,c.jsx)("option",{value:"",children:"Select country"}),p.map((function(e){return(0,c.jsx)("option",{value:e.countryName,children:e.countryName},e.countryShortCode)}))]})]}),(0,c.jsx)("p",{children:(0,c.jsx)(h.z,{primary:!0,type:"submit",isLoading:I,children:"Update Profile"})})]}),(0,c.jsx)("p",{className:"para",children:"Note: All information entered here is public."})]}),(0,c.jsx)(z,{name:"notifications",selectedTab:U,children:(0,c.jsxs)("form",{onSubmit:J,children:[(0,c.jsxs)("div",{className:"input-container",children:[(0,c.jsxs)("label",{htmlFor:"emailNotifications",children:[(0,c.jsx)("input",{type:"checkbox",defaultChecked:u.settings&&u.settings.emailNotifications||!1,onChange:W,"data-path":"settings.emailNotifications",id:"emailNotifications"})," ","Send me Emails about battle announcements"]}),(0,c.jsx)("p",{className:"input-hint",children:"We won't spam you :)"})]}),(0,c.jsx)("p",{children:(0,c.jsx)(h.z,{primary:!0,type:"submit",isLoading:I,children:"Update notification preferences"})})]})}),(0,c.jsx)(z,{name:"membership",selectedTab:U,children:(0,c.jsx)(k,{playerData:u})}),(0,c.jsx)(z,{name:"custom-battle-credits",selectedTab:U,children:(0,c.jsx)(G,{})})]})]})})]})}},3590:function(e,t,n){"use strict";n.d(t,{C:function(){return r},Q:function(){return c}});var o,a=n(7842),r={CUSTOM_BATTLE_MINI:"customBattleMini",CUSTOM_BATTLE_SMALL:"customBattleSmall",LEARN_BASIC:"learnBasic"},c=(o={},(0,a.Z)(o,r.CUSTOM_BATTLE_MINI,{vendorId:"578130",label:"Small",maxDuration:1440,price:"$199"}),(0,a.Z)(o,r.CUSTOM_BATTLE_SMALL,{vendorId:"578132",label:"Large",maxDuration:10080,price:"$399"}),(0,a.Z)(o,r.LEARN_BASIC,{vendorId:"781594",dbId:"basic",label:"Basic",price:"$1.99"}),o)},11:function(e){e.exports={pricing:"SettingsCustomBattlePurchases_pricing__U6MQX"}},3196:function(e){e.exports={innerPageHeader:"InnerPageHeader_innerPageHeader__HSMOC"}},8033:function(e){e.exports={panel:"Panel_panel__1nQxb",panelOnlyBorder:"Panel_panelOnlyBorder__pccxd",panelGlowing:"Panel_panelGlowing__Pj0jn",panelTopFocus:"Panel_panelTopFocus__S4VQe"}},9721:function(e){e.exports={radioTabs:"RadioTabs_radioTabs__d9zDK",radioTabsFullWidth:"RadioTabs_radioTabsFullWidth__oq2fN",radioTabsPrimary:"RadioTabs_radioTabsPrimary__igl35",radioTabBtn:"RadioTabs_radioTabBtn__aLbrp",radioTabBtnPrimary:"RadioTabs_radioTabBtnPrimary__Nyq78",activeIndicator:"RadioTabs_activeIndicator___CbYq",activeIndicatorPrimary:"RadioTabs_activeIndicatorPrimary__8jTez"}}},function(e){e.O(0,[9774,2888,179],(function(){return t=1565,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=settings-7d4918d7e24f3cd4.js.map