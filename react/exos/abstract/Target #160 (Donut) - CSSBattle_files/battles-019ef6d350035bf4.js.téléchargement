(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4853],{3806:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/battles",function(){return a(851)}])},3595:function(e,t,a){"use strict";a.d(t,{y:function(){return h}});var n=a(6383),r=a(2322),i=a(2784),s=a(9097),l=a.n(s),c=a(7037),o=a(3552),d=a(2220),u=a(9955),h=function(e){var t=e.numOfPlayersToShow,a=void 0===t?10:t,s=(0,i.useContext)(o.S),h=(0,i.useState)([]),x=h[0],p=h[1],f=(0,i.useState)({}),g=f[0],j=f[1],m=(0,i.useState)(),b=m[0],y=m[1],S=(0,n.Z)((0,d._)("showFriendsLeaderboard",!!s),2),k=S[0],v=S[1],w=(0,i.useState)({playerCount:0}),C=(w[0],w[1]);return(0,i.useEffect)((function(){(0,c.pc)().then(C)}),[]),(0,i.useEffect)((function(){y(!0),(k&&s?(0,c.uf)({userId:s.uid}):(0,c.bQ)(a)).then((function(e){if(p(e),y(!1),e.length||j({}),s&&e.length)if(e.find((function(e){return e.id===s.uid}))){var t=e.find((function(e){return e.id===s.uid}));j({rank:e.findIndex((function(e){return e.id===s.uid}))+1,score:t.score,totalPlayers:0})}else(0,c.r8)({userId:s.uid}).then((function(e){j(e)})).catch((function(e){console.log(e)}))}))}),[s?s.uid:"",k]),(0,r.jsx)(u.A,{type:"global",title:"All-time leaders",leaderboard:x,rankData:g,isFetchingLeaderboard:b,isFriendsMode:k,onLeaderboardFriendTypeChange:function(e){v("friends"===e.target.value)},noRankMessage:"You need at least a score of 10000 to see your rank.",footer:(0,r.jsx)(l(),{href:"/leaderboard",children:(0,r.jsx)("a",{className:"button button--full-width",children:"See top 100"})})})}},9955:function(e,t,a){"use strict";a.d(t,{A:function(){return S}});var n=a(865),r=a(6670),i=a(2322),s=a(2784),l=a(7500),c=a(7037),o=a(8742),d=a(3552),u=a(9241),h=a(94),x=a(1942),p=a(6368),f=a(5598),g=a(7841),j=a(3125),m=a(4200),b=a(8432),y=a(7414),S=function(e){var t=e.type,a=e.title,S=e.battleId,k=e.showTypeSwitcher,v=e.canBeCompletelyEmpty,w=e.leaderboard,C=e.rankData,_=e.isFetchingLeaderboard,N=e.isFriendsMode,E=e.isCSSLeaderboard,P=e.setIsCSSLeaderboard,T=e.onLeaderboardFriendTypeChange,H=e.noRankMessage,F=e.footer,I=(0,s.useContext)(d.S),M=(0,y.P)(),L=(0,p.A)({battleId:S}),V=(0,s.useState)({battlePlayerCount:{}}),B=(V[0],V[1]);return(0,s.useEffect)((function(){(0,c.pc)().then(B)}),[]),(0,i.jsxs)(f.VStack,{gap:"1rem",align:"flex-start",children:[(0,i.jsxs)(f.HStack,{gap:"0.25rem",children:[(0,i.jsx)(g.x,{size:3,weight:"600",mono:!1,appearance:"primary",children:a}),k&&(0,i.jsx)(b.Z,{battleId:S,alignMenuRight:!0,isCSSLeaderboard:E,setIsCSSLeaderboard:P})]}),I&&M&&(0,i.jsx)(h.g,{isFriendsMode:N,onChange:function(e){T(e)}}),N&&!_&&!w.length&&(0,i.jsx)(x.N,{}),0===C.rank?(0,i.jsx)("p",{className:"section-helper section-helper--no-score",children:H}):(0,i.jsxs)(f.HStack,{align:"stretch",justify:"stretch",expand:!0,children:[C.rank>-1&&(0,i.jsx)(m.T,{icon:"trophy",value:C.rank.toLocaleString(),description:"Your rank"}),C.score&&(0,i.jsx)(m.T,{icon:"leaderboard",value:C.score.toFixed(2),description:"Your score"})]}),(0,i.jsxs)("div",{className:"leaderboard-container",children:[v&&!_&&!w.length&&!N&&(0,i.jsx)("p",{className:"para",children:"No one here. It could be you! How about playing some targets?"}),_?(0,i.jsx)(j.E.p,{className:"ta-c",style:{margin:"1rem 0"},initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,i.jsx)(u.a,{})}):null,(0,i.jsx)(j.E.ol,{className:"leaderboard__user-list",layout:!0,initial:!1,animate:!1,style:{opacity:_?.7:1,filter:"blur(".concat(_?"3px":"0px",")")},children:w.map((function(e,a){return(0,i.jsx)(j.E.li,{layout:!0,exit:{opacity:0},animate:{opacity:1},initial:{opacity:0},children:(0,i.jsx)(o.P,{data:(0,r.Z)((0,n.Z)({},e),{rank:void 0===e.rank?a+1:e.rank}),showTimeTaken:"battle"===t&&L.gameMode===l.BattleGameModes.FIRST_TO_MATCH},a)},a)}))}),w.length?(0,i.jsx)(j.E.p,{layout:!0,className:"para ta-c leaderboard-buttons",children:F}):null]})]})}},8431:function(e,t,a){"use strict";a.d(t,{x:function(){return u}});var n=a(2322),r=a(9604),i=a(5598),s=a(3196),l=a.n(s),c=a(7841),o=a(8329),d=a(3125),u=function(e){var t=e.icon,a=e.showProBadge,s=e.title,u=e.subtitle;return(0,n.jsx)(d.E.div,{className:l().innerPageHeader,initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,n.jsxs)(i.VStack,{children:[t?(0,n.jsx)(r.J,{size:"32",marginRight:"0",name:t,color:"var(--clr-brand)"}):null,a?(0,n.jsx)(o.Z,{height:"24"}):null,(0,n.jsx)(c.x,{size:4,weight:"600",mono:!1,tag:"h1",appearance:"primary",children:s}),(0,n.jsx)("div",{style:{maxWidth:"72ch"},children:(0,n.jsx)(c.x,{size:1,weight:"500",mono:!1,tag:"p",letterSpacing:"0.3px",appearance:"secondary",lineHeight:"1.5",align:"center",children:u})})]})})}},851:function(e,t,a){"use strict";a.r(t);var n=a(930),r=a(2322),i=a(2784),s=a(7729),l=a.n(s),c=a(5598),o=a(8431),d=a(7500),u=a(518),h=a(3595),x=a(7841),p=(a(5416),a(2367),a(9097)),f=a.n(p),g=a(6972),j=a(9014),m=a(6833);t.default=function(){var e=(0,i.useState)(!1),t=e[0],a=e[1],s=(0,n.Z)(d.battles);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"Battles | CSSBattle"},"title"),(0,r.jsx)("meta",{property:"og:title",content:"Battles - CSSBattle"},"ogTitle")]}),(0,r.jsx)("div",{style:{maxWidth:"100%"},children:(0,r.jsxs)(c.VStack,{gap:"3rem",children:[(0,r.jsxs)(c.VStack,{gap:"2rem",children:[(0,r.jsx)(o.x,{icon:"battle",title:"Battles",subtitle:"Compete with players around the world in these nail-biting battles"}),(0,r.jsxs)(c.HStack,{gap:"0.75rem",children:[(0,r.jsx)(j.z,{onClick:function(){a(!0)},children:"Host a private battle"}),(0,r.jsx)(f(),{href:"/advertise",children:(0,r.jsx)("a",{className:"button",children:"Advertise in a battle"})}),(0,r.jsx)(f(),{href:"/my-battles",children:(0,r.jsx)("a",{className:"button",children:"My battles"})})]})]}),(0,r.jsx)("div",{style:{width:"100%"},children:(0,r.jsx)(g.E,{})}),(0,r.jsxs)(c.HStack,{align:"flex-start",gap:"3rem",responsive:!0,children:[(0,r.jsxs)(c.VStack,{align:"stretch",gap:"3rem",children:[(0,r.jsxs)(c.VStack,{align:"stretch",children:[(0,r.jsx)(x.x,{size:3,weight:"600",mono:!1,appearance:"primary",children:"Play latest battle"}),s.reverse().splice(0,1).map((function(e){return(0,r.jsx)(u.d,{battle:e,fullWidth:!0},e.id)}))]}),(0,r.jsx)(c.VStack,{gap:"3rem",align:"stretch",children:(0,r.jsxs)(c.VStack,{align:"stretch",children:[(0,r.jsx)(x.x,{size:3,weight:"600",mono:!1,appearance:"primary",children:"Play past battles"}),(0,r.jsx)(c.VStack,{gap:"2rem",align:"stretch",children:s.map((function(e){return(0,r.jsx)(u.d,{battle:e},e.id)}))})]})})]}),(0,r.jsx)("div",{style:{minWidth:"18rem",width:"18rem",flex:"0 0 0"},children:(0,r.jsx)(h.y,{})})]})]})}),(0,r.jsx)(m.w,{isOpen:t,onRequestClose:function(){return a(!1)}})]})}},3196:function(e){e.exports={innerPageHeader:"InnerPageHeader_innerPageHeader__HSMOC"}}},function(e){e.O(0,[7059,7972,3882,9774,2888,179],(function(){return t=3806,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=battles-019ef6d350035bf4.js.map